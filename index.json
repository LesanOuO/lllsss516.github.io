[{"categories":["å­¦ä¹ ç¬”è®°"],"content":"åœ¨è¿›è¡Œåä¸ºæœºè¯•æ—¶é‡åˆ°äº†æŠ¥æ•°æ¸¸æˆçš„ç¼–ç¨‹é¢˜ï¼ˆçº¦ç‘Ÿå¤«ç¯ï¼‰ï¼Œä½†æ˜¯çœ‹äº†å¾ˆå¤šç½‘ä¸Šçš„è§£é¢˜éƒ½éå¸¸é•¿ï¼Œäºæ˜¯ç»è¿‡ä¸æ–­çš„å­¦ä¹ å‚è€ƒï¼Œæœ‰äº†ä¸‹é¢è¿™ä¸ªè§£é¢˜æ–¹æ³•ï¼Œä¹Ÿä¸çŸ¥é“æ˜¯ä¸æ˜¯æœ€å¥½çš„ğŸ˜­ é¢˜ç›®ï¼š 100ä¸ªäººå›´æˆä¸€åœˆï¼Œæ¯ä¸ªäººæœ‰ä¸€ä¸ªç¼–ç ï¼Œç¼–å·ä»1å¼€å§‹åˆ°100.ä»–ä»¬ä»1å¼€å§‹ä¾æ¬¡æŠ¥æ•°ï¼ŒæŠ¥åˆ°ä¸ºMçš„äººè‡ªåŠ¨é€€å‡ºåœˆåœˆï¼Œç„¶åä¸‹ä¸€ä¸ªäººæ¥ç€ä»1å¼€å§‹æŠ¥æ•°ï¼Œç›´åˆ°å‰©ä½™çš„äººæ•°å°äºMã€‚è¯·é—®æœ€åå‰©ä½™çš„äººåœ¨åŸå…ˆçš„ç¼–å·ä¸ºå¤šå°‘ï¼Ÿ ä¾‹å¦‚ï¼šè¾“å…¥M=3æ—¶ï¼Œè¾“å‡ºä¸ºï¼šâ€œ58ï¼Œ91â€ï¼›è¾“å…¥M=4æ—¶ï¼Œè¾“å‡ºä¸ºï¼š â€œ34ï¼Œ45ï¼Œ 97â€ è§£ç­”ï¼š import java.util.*; public class test { public static void main(String[] args) { Scanner in = new Scanner(System.in); int n = in.nextInt(); List list = new ArrayList\u003cInteger\u003e(100); for (int i = 1; i \u003c= 100; i++) { list.add(i); } int i = 0; while (list.size() \u003e= n) { i = (i + n - 1) % list.size(); list.remove(i); } list.stream().forEach(System.out::println); } } ","date":"2022-04-17","objectID":"/%E5%8D%8E%E4%B8%BA%E6%9C%BA%E8%AF%95%E9%A2%98-%E6%8A%A5%E6%95%B0%E6%B8%B8%E6%88%8F/:0:0","tags":["é¢è¯•"],"title":"åä¸ºæœºè¯•é¢˜ï¼šæŠ¥æ•°æ¸¸æˆ","uri":"/%E5%8D%8E%E4%B8%BA%E6%9C%BA%E8%AF%95%E9%A2%98-%E6%8A%A5%E6%95%B0%E6%B8%B8%E6%88%8F/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"æœ¬ç¯‡ç¬”è®°ä¸»è¦è®°å½•æˆ‘åœ¨å­¦ä¹ Javaçš„streamæµä¸­è®°å½•çš„ç¬”è®° ","date":"2022-04-17","objectID":"/java%E5%AD%A6%E4%B9%A0stream%E6%B5%81%E4%BD%BF%E7%94%A8/:0:0","tags":["Java"],"title":"Java Streamæµå­¦ä¹ ç¬”è®°","uri":"/java%E5%AD%A6%E4%B9%A0stream%E6%B5%81%E4%BD%BF%E7%94%A8/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"streamæ˜¯ä»€ä¹ˆ æµæ˜¯ä»æ”¯æŒæ•°æ®å¤„ç†æ“ä½œçš„æºç”Ÿæˆçš„å…ƒç´ åºåˆ—ï¼Œæºå¯ä»¥æ˜¯æ•°ç»„ã€æ–‡ä»¶ã€é›†åˆã€å‡½æ•°ã€‚æµä¸æ˜¯é›†åˆå…ƒç´ ï¼Œå®ƒä¸æ˜¯æ•°æ®ç»“æ„å¹¶ä¸ä¿å­˜æ•°æ®ï¼Œå®ƒçš„ä¸»è¦ç›®çš„åœ¨äºè®¡ç®— ","date":"2022-04-17","objectID":"/java%E5%AD%A6%E4%B9%A0stream%E6%B5%81%E4%BD%BF%E7%94%A8/:1:0","tags":["Java"],"title":"Java Streamæµå­¦ä¹ ç¬”è®°","uri":"/java%E5%AD%A6%E4%B9%A0stream%E6%B5%81%E4%BD%BF%E7%94%A8/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"ç”Ÿæˆstreamçš„æ–¹æ³• ç”Ÿæˆæµçš„æ–¹å¼ä¸»è¦æœ‰äº”ç§ é€šè¿‡é›†åˆç”Ÿæˆï¼Œåº”ç”¨ä¸­æœ€å¸¸ç”¨çš„ä¸€ç§ List\u003cInteger\u003e integerList = Arrays.asList(1, 2, 3, 4, 5, 6); Stream\u003cInteger\u003e stream = integerList.stream(); é€šè¿‡æ•°ç»„ç”Ÿæˆ int[] intArr = {1, 2, 3, 4, 5, 6}; IntStream stream = Arrays.stream(intArr); é€šè¿‡Arrays.streamæ–¹æ³•ç”Ÿæˆæµï¼Œå¹¶ä¸”è¯¥æ–¹æ³•ç”Ÿæˆçš„æµæ˜¯æ•°å€¼æµã€å³IntStreamã€‘è€Œä¸æ˜¯ Streamã€‚è¡¥å……ä¸€ç‚¹ä½¿ç”¨æ•°å€¼æµå¯ä»¥é¿å…è®¡ç®—è¿‡ç¨‹ä¸­æ‹†ç®±è£…ç®±ï¼Œæé«˜æ€§èƒ½ã€‚Stream APIæä¾›äº†mapToIntã€mapToDoubleã€mapToLongä¸‰ç§æ–¹å¼å°†å¯¹è±¡æµã€å³Stream ã€‘è½¬æ¢æˆå¯¹åº”çš„æ•°å€¼æµï¼ŒåŒæ—¶æä¾›äº†boxedæ–¹æ³•å°†æ•°å€¼æµè½¬æ¢ä¸ºå¯¹è±¡æµ é€šè¿‡å€¼ç”Ÿæˆ // é€šè¿‡Streamçš„ofæ–¹æ³•ç”Ÿæˆæµï¼Œé€šè¿‡Streamçš„emptyæ–¹æ³•å¯ä»¥ç”Ÿæˆä¸€ä¸ªç©ºæµ Stream\u003cInteger\u003e stream = Stream.of(1, 2, 3, 4, 5, 6); é€šè¿‡æ–‡ä»¶ç”Ÿæˆ // é€šè¿‡Files.lineæ–¹æ³•å¾—åˆ°ä¸€ä¸ªæµï¼Œå¹¶ä¸”å¾—åˆ°çš„æ¯ä¸ªæµæ˜¯ç»™å®šæ–‡ä»¶ä¸­çš„ä¸€è¡Œ Stream\u003cString\u003e lines = Files.lines(Paths.get(\"data.txt\"), Charset.defaultCharset()); é€šè¿‡å‡½æ•°ç”Ÿæˆ // 1.iterator // terateæ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªä¸ºåˆå§‹åŒ–å€¼ï¼Œç¬¬äºŒä¸ªä¸ºè¿›è¡Œçš„å‡½æ•°æ“ä½œï¼Œå› ä¸ºiteratorç”Ÿæˆçš„æµä¸ºæ— é™æµï¼Œé€šè¿‡limitæ–¹æ³•å¯¹æµè¿›è¡Œäº†æˆªæ–­ï¼Œåªç”Ÿæˆ5ä¸ªå¶æ•° Stream\u003cInteger\u003e stream = Stream.iterate(0, n -\u003e n + 2).limit(5); // 2.generator // generateæ–¹æ³•æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œæ–¹æ³•å‚æ•°ç±»å‹ä¸ºSupplier ï¼Œç”±å®ƒä¸ºæµæä¾›å€¼ã€‚generateç”Ÿæˆçš„æµä¹Ÿæ˜¯æ— é™æµï¼Œå› æ­¤é€šè¿‡limitå¯¹æµè¿›è¡Œäº†æˆªæ–­ Stream\u003cDouble\u003e stream = Stream.generate(Math::random).limit(5); ","date":"2022-04-17","objectID":"/java%E5%AD%A6%E4%B9%A0stream%E6%B5%81%E4%BD%BF%E7%94%A8/:2:0","tags":["Java"],"title":"Java Streamæµå­¦ä¹ ç¬”è®°","uri":"/java%E5%AD%A6%E4%B9%A0stream%E6%B5%81%E4%BD%BF%E7%94%A8/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"streamçš„æ“ä½œç±»å‹ ä¸­é—´æ“ä½œ ä¸€ä¸ªæµå¯ä»¥åé¢è·Ÿéšé›¶ä¸ªæˆ–å¤šä¸ªä¸­é—´æ“ä½œã€‚å…¶ç›®çš„ä¸»è¦æ˜¯æ‰“å¼€æµï¼Œåšå‡ºæŸç§ç¨‹åº¦çš„æ•°æ®æ˜ å°„/è¿‡æ»¤ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„æµï¼Œäº¤ç»™ä¸‹ä¸€ä¸ªæ“ä½œä½¿ç”¨ã€‚è¿™ç±»æ“ä½œéƒ½æ˜¯æƒ°æ€§åŒ–çš„ï¼Œä»…ä»…è°ƒç”¨åˆ°è¿™ç±»æ–¹æ³•ï¼Œå¹¶æ²¡æœ‰çœŸæ­£å¼€å§‹æµçš„éå†ï¼ŒçœŸæ­£çš„éå†éœ€ç­‰åˆ°ç»ˆç«¯æ“ä½œæ—¶ï¼Œå¸¸è§çš„ä¸­é—´æ“ä½œæœ‰ä¸‹é¢å³å°†ä»‹ç»çš„ filterã€map ç­‰ã€‚ ç»ˆç«¯æ“ä½œ ä¸€ä¸ªæµæœ‰ä¸”åªèƒ½æœ‰ä¸€ä¸ªç»ˆç«¯æ“ä½œï¼Œå½“è¿™ä¸ªæ“ä½œæ‰§è¡Œåï¼Œæµå°±è¢«å…³é—­äº†ï¼Œæ— æ³•å†è¢«æ“ä½œï¼Œå› æ­¤ä¸€ä¸ªæµåªèƒ½è¢«éå†ä¸€æ¬¡ï¼Œè‹¥æƒ³åœ¨éå†éœ€è¦é€šè¿‡æºæ•°æ®åœ¨ç”Ÿæˆæµã€‚ç»ˆç«¯æ“ä½œçš„æ‰§è¡Œï¼Œæ‰ä¼šçœŸæ­£å¼€å§‹æµçš„éå†ã€‚å¦‚ä¸‹é¢å³å°†ä»‹ç»çš„ countã€collect ç­‰ã€‚ ","date":"2022-04-17","objectID":"/java%E5%AD%A6%E4%B9%A0stream%E6%B5%81%E4%BD%BF%E7%94%A8/:3:0","tags":["Java"],"title":"Java Streamæµå­¦ä¹ ç¬”è®°","uri":"/java%E5%AD%A6%E4%B9%A0stream%E6%B5%81%E4%BD%BF%E7%94%A8/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"streamçš„ä½¿ç”¨ ","date":"2022-04-17","objectID":"/java%E5%AD%A6%E4%B9%A0stream%E6%B5%81%E4%BD%BF%E7%94%A8/:4:0","tags":["Java"],"title":"Java Streamæµå­¦ä¹ ç¬”è®°","uri":"/java%E5%AD%A6%E4%B9%A0stream%E6%B5%81%E4%BD%BF%E7%94%A8/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"ä¸­é—´æ“ä½œ filter ç­›é€‰ // é€šè¿‡ä½¿ç”¨filteræ–¹æ³•è¿›è¡Œæ¡ä»¶ç­›é€‰ï¼Œfilterçš„æ–¹æ³•å‚æ•°ä¸ºä¸€ä¸ªæ¡ä»¶ï¼ˆè¿‡æ»¤ä¿ç•™å‡½æ•°è¿”å›å€¼ä¸º true çš„å…ƒç´ ï¼‰ List\u003cInteger\u003e integerList = Arrays.asList(1, 2, 3, 4, 5, 6); Stream\u003cInteger\u003e stream = integerList.stream().filter(i -\u003e i \u003e 3); // ç»“æœä¸ºï¼š4,5,6 distinct å»é‡ // é€šè¿‡distinctæ–¹æ³•å¿«é€Ÿå»é™¤é‡å¤çš„å…ƒç´  List\u003cInteger\u003e integerList = Arrays.asList(1, 1, 2, 3, 4, 5); Stream\u003cInteger\u003e stream = integerList.stream().distinct(); // ç»“æœä¸ºï¼š1,2,3,4,5 limit è¿”å›æŒ‡å®šæµä¸ªæ•° // é€šè¿‡limitæ–¹æ³•æŒ‡å®šè¿”å›æµçš„ä¸ªæ•°ï¼Œlimitçš„å‚æ•°å€¼å¿…é¡» \u003e=0ï¼Œå¦åˆ™å°†ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ List\u003cInteger\u003e integerList = Arrays.asList(1, 1, 2, 3, 4, 5); Stream\u003cInteger\u003e stream = integerList.stream().limit(3); ç»“æœä¸ºï¼š 1,1,2 skip è·³è¿‡æµä¸­çš„å…ƒç´  // é€šè¿‡skipæ–¹æ³•è·³è¿‡æµä¸­çš„å…ƒç´ ï¼Œskipçš„å‚æ•°å€¼å¿…é¡»\u003e=0ï¼Œå¦åˆ™å°†ä¼šæŠ›å‡ºå¼‚å¸¸ List\u003cInteger\u003e integerList = Arrays.asList(1, 1, 2, 3, 4, 5); Stream\u003cInteger\u003e stream = integerList.stream().skip(2); // ç»“æœä¸ºï¼š 2,3,4,5 map æµæ˜ å°„ // æ‰€è°“æµæ˜ å°„å°±æ˜¯å°†æ¥å—çš„å…ƒç´ æ˜ å°„æˆå¦å¤–ä¸€ä¸ªå…ƒç´  List\u003cString\u003e stringList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); List\u003cInteger\u003e collect = stringList.stream() .map(String::length) .collect(Collectors.toList()); // é€šè¿‡mapæ–¹æ³•å¯ä»¥å®Œæˆæ˜ å°„ï¼Œè¯¥ä¾‹å­å®Œæˆä¸­ String -\u003e Integer çš„æ˜ å°„ // ç»“æœä¸ºï¼š[6, 7, 2, 6] flatMap æµè½¬æ¢ // å°†ä¸€ä¸ªæµä¸­çš„æ¯ä¸ªå€¼éƒ½è½¬æ¢ä¸ºå¦ä¸€ä¸ªæµ List\u003cString\u003e wordList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); List\u003cString\u003e strList = wordList.stream() .map(w -\u003e w.split(\" \")) .flatMap(Arrays::stream) .distinct() .collect(Collectors.toList()); // map(w -\u003e w.split(\" \")) çš„è¿”å›å€¼ä¸º Stream\u003cString[]\u003eï¼Œæƒ³è·å– Streamï¼Œå¯ä»¥é€šè¿‡flatMapæ–¹æ³•å®Œæˆ Stream -\u003eStream çš„è½¬æ¢ // ç»“æœä¸ºï¼š[Java, 8, Lambdas, In, Action] allMatch åŒ¹é…æ‰€æœ‰å…ƒç´  // åŒ¹é…æµä¸­æ‰€æœ‰å…ƒç´ æ˜¯å¦æ»¡è¶³æ¡ä»¶ List\u003cInteger\u003e integerList = Arrays.asList(1, 2, 3, 4, 5); if (integerList.stream().allMatch(i -\u003e i \u003e 3)) { System.out.println(\"æ‰€æœ‰å…ƒç´ å€¼éƒ½å¤§äº3\"); } else { System.out.println(\"å¹¶éæ‰€æœ‰å…ƒç´ å€¼éƒ½å¤§äº3\"); } // ç»“æœä¸ºï¼šå¹¶éæ‰€æœ‰å…ƒç´ å€¼éƒ½å¤§äº3 anyMatchåŒ¹é…å…¶ä¸­ä¸€ä¸ª // åŒ¹é…æµä¸­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å…ƒç´  List\u003cInteger\u003e integerList = Arrays.asList(1, 2, 3, 4, 5); if (integerList.stream().anyMatch(i -\u003e i \u003e 3)) { System.out.println(\"å­˜åœ¨å€¼å¤§äº3çš„å…ƒç´ \"); } else { System.out.println(\"ä¸å­˜åœ¨å€¼å¤§äº3çš„å…ƒç´ \"); } // ç»“æœä¸ºï¼šå­˜åœ¨å€¼å¤§äº3çš„å…ƒç´  // ä¸Šè¿°ä»£ç ç­‰åŒäºï¼š for (Integer i : integerList) { if (i \u003e 3) { System.out.println(\"å­˜åœ¨å¤§äº3çš„å€¼\"); break; } } noneMatchå…¨éƒ¨ä¸åŒ¹é… List\u003cInteger\u003e integerList = Arrays.asList(1, 2, 3, 4, 5); if (integerList.stream().noneMatch(i -\u003e i \u003e 3)) { System.out.println(\"å€¼éƒ½å°äº3çš„å…ƒç´ \"); } else { System.out.println(\"å€¼ä¸éƒ½å°äº3çš„å…ƒç´ \"); } ","date":"2022-04-17","objectID":"/java%E5%AD%A6%E4%B9%A0stream%E6%B5%81%E4%BD%BF%E7%94%A8/:4:1","tags":["Java"],"title":"Java Streamæµå­¦ä¹ ç¬”è®°","uri":"/java%E5%AD%A6%E4%B9%A0stream%E6%B5%81%E4%BD%BF%E7%94%A8/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"ç»ˆç«¯æ“ä½œ count ç»Ÿè®¡æµä¸­å…ƒç´ ä¸ªæ•° List\u003cInteger\u003e integerList = Arrays.asList(1, 2, 3, 4, 5); Long result = integerList.stream().count(); // ç»“æœä¸ºï¼š5 findFirst æŸ¥æ‰¾ç¬¬ä¸€ä¸ª List\u003cInteger\u003e integerList = Arrays.asList(1, 2, 3, 4, 5); Optional\u003cInteger\u003e result = integerList.stream().filter(i -\u003e i \u003e 3).findFirst(); System.out.println(result.orElse(-1)); // ç»“æœä¸ºï¼š4 findAny éšæœºæŸ¥æ‰¾ä¸€ä¸ª List\u003cInteger\u003e integerList = Arrays.asList(1, 2, 3, 4, 5); Optional\u003cInteger\u003e result = integerList.stream().filter(i -\u003e i \u003e 3).findAny(); System.out.println(result.orElse(-1)); // ç»“æœä¸ºï¼š4 // é€šè¿‡findAnyæ–¹æ³•æŸ¥æ‰¾åˆ°å…¶ä¸­ä¸€ä¸ªå¤§äºä¸‰çš„å…ƒç´ å¹¶æ‰“å°ï¼Œå› ä¸ºå†…éƒ¨è¿›è¡Œä¼˜åŒ–çš„åŸå› ï¼Œå½“æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³å¤§äºä¸‰çš„å…ƒç´ æ—¶å°±ç»“æŸï¼Œè¯¥æ–¹æ³•ç»“æœå’ŒfindFirstæ–¹æ³•ç»“æœä¸€æ ·ã€‚æä¾›findAnyæ–¹æ³•æ˜¯ä¸ºäº†æ›´å¥½çš„åˆ©ç”¨å¹¶è¡Œæµï¼ŒfindFirstæ–¹æ³•åœ¨å¹¶è¡Œä¸Šé™åˆ¶æ›´å¤šã€æœ¬ç¯‡æ–‡ç« å°†ä¸ä»‹ç»å¹¶è¡Œæµã€‘ reduce å°†æµä¸­çš„å…ƒç´ ç»„åˆ ç”¨äºæ±‚å’Œ List\u003cInteger\u003e integerList = Arrays.asList(1, 2, 3, 4, 5); int sum = integerList.stream() .reduce(0, Integer::sum); // ç»“æœä¸ºï¼š15 // reduceæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªåˆå§‹å€¼è¿™é‡Œæ˜¯0ï¼Œä¸€ä¸ª BinaryOperatoraccumulator æ¥å°†ä¸¤ä¸ªå…ƒç´ ç»“åˆèµ·æ¥äº§ç”Ÿä¸€ä¸ªæ–°å€¼ï¼Œå¦å¤–reduceæ–¹æ³•è¿˜æœ‰ä¸€ä¸ªæ²¡æœ‰åˆå§‹åŒ–å€¼çš„é‡è½½æ–¹æ³• ç”¨äºå–å¾—æœ€å¤§å’Œæœ€å°å€¼ List\u003cString\u003e stringList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); Optional\u003cInteger\u003e min = stringList.stream() .map(String::length) .reduce(Integer::min); Optional\u003cInteger\u003e max = stringList.stream() .map(String::length) .reduce(Integer::max); // ç»“æœä¸ºï¼šOptional[2] å’Œ Optional[7] min/max è·å–æœ€å°æœ€å¤§å€¼ // å†™æ³•1 List\u003cString\u003e stringList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); Optional\u003cInteger\u003e min = stringList.stream() .map(String::length) .min(Integer::compareTo); Optional\u003cInteger\u003e max = stringList.stream() .map(String::length) .max(Integer::compareTo); // å†™æ³•2 List\u003cString\u003e stringList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); OptionalInt min = stringList.stream() .mapToInt(String::length) .min(); OptionalInt max = stringList.stream() .mapToInt(String::length) .max(); // ä½¿ç”¨reduce List\u003cString\u003e stringList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); Optional\u003cInteger\u003e min = stringList.stream() .map(String::length) .reduce(Integer::min); Optional\u003cInteger\u003e max = stringList.stream() .map(String::length) .reduce(Integer::max); sum / summingxxx / reduce æ±‚å’Œ // æ–¹å¼1ï¼šsum List\u003cString\u003e stringList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); int sum = stringList.stream() .mapToInt(String::length) .sum(); // æ–¹å¼2ï¼šsummingInt List\u003cString\u003e stringList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); // å¦‚æœæ•°æ®ç±»å‹ä¸ºdoubleã€longï¼Œåˆ™é€šè¿‡summingDoubleã€summingLongæ–¹æ³•è¿›è¡Œæ±‚å’Œ int sum = stringList.stream() .collect(summingInt(String::length)); // æ–¹å¼3ï¼šreduce List\u003cString\u003e stringList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); int sum = stringList.stream() .map(String::length) .reduce(0, Integer::sum); åœ¨ä¸Šé¢æ±‚å’Œã€æ±‚æœ€å¤§å€¼ã€æœ€å°å€¼çš„æ—¶å€™ï¼Œå¯¹äºç›¸åŒæ“ä½œæœ‰ä¸åŒçš„æ–¹æ³•å¯ä»¥é€‰æ‹©æ‰§è¡Œã€‚å¯ä»¥é€‰æ‹©collectã€reduceã€min/max/sumæ–¹æ³•ï¼Œæ¨èä½¿ç”¨minã€maxã€sumæ–¹æ³•ã€‚å› ä¸ºå®ƒæœ€ç®€æ´æ˜“è¯»ï¼ŒåŒæ—¶é€šè¿‡mapToIntå°†å¯¹è±¡æµè½¬æ¢ä¸ºæ•°å€¼æµï¼Œé¿å…äº†è£…ç®±å’Œæ‹†ç®±æ“ä½œ averagingxxx æ±‚å¹³å‡å€¼ // averagingxxx List\u003cString\u003e stringList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); double average = stringList.stream() .collect(averagingInt(String::length)); summarizingxxx åŒæ—¶æ±‚æ€»å’Œã€å¹³å‡å€¼ã€æœ€å¤§å€¼ã€æœ€å°å€¼ // å¦‚æœæ•°æ®ç±»å‹ä¸ºdoubleã€longï¼Œåˆ™é€šè¿‡summarizingDoubleã€summarizingLongæ–¹æ³• List\u003cString\u003e stringList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); IntSummaryStatistics intSummaryStatistics = stringList.stream() .collect(summarizingInt(String::length)); double average = intSummaryStatistics.getAverage(); // è·å–å¹³å‡å€¼ int min = intSummaryStatistics.getMin(); // è·å–æœ€å°å€¼ int max = intSummaryStatistics.getMax(); // è·å–æœ€å¤§å€¼ long sum = intSummaryStatistics.getSum(); // è·å–æ€»å’Œ foreach éå† List\u003cString\u003e stringList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); stringList.stream().forEach(System.out::println); collect è¿”å›é›†åˆ List\u003cString\u003e stringList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); List\u003cInteger\u003e intList = stringList.stream() .map(String::length) .collect(toList()); Set\u003cInteger\u003e intSet = stringList.stream() .map(String::length) .collect(toSet()); // ç­‰ä»· List\u003cInteger\u003e intList = new ArrayList\u003c\u003e(); Set\u003cInteger\u003e intSet = new HashSet\u003c\u003e(); for (String item : stringList) { intList.add(item.length()); intSet.add(item.length()); } é€šè¿‡éå†å’Œè¿”å›é›†åˆçš„ä½¿ç”¨å‘ç°æµåªæ˜¯æŠŠåŸæ¥çš„å¤–éƒ¨è¿­ä»£æ”¾åˆ°äº†å†…éƒ¨è¿›è¡Œï¼Œè¿™ä¹Ÿæ˜¯æµçš„ä¸»è¦ç‰¹ç‚¹ä¹‹ä¸€ã€‚å†…éƒ¨è¿­ä»£å¯ä»¥å‡","date":"2022-04-17","objectID":"/java%E5%AD%A6%E4%B9%A0stream%E6%B5%81%E4%BD%BF%E7%94%A8/:4:2","tags":["Java"],"title":"Java Streamæµå­¦ä¹ ç¬”è®°","uri":"/java%E5%AD%A6%E4%B9%A0stream%E6%B5%81%E4%BD%BF%E7%94%A8/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"SQL è¡Œè½¬åˆ—ï¼Œåˆ—è½¬è¡Œ è¡Œåˆ—è½¬æ¢åœ¨åšæŠ¥è¡¨åˆ†ææ—¶è¿˜æ˜¯ç»å¸¸ä¼šé‡åˆ°çš„ï¼Œä»Šå¤©å°±è¯´ä¸€ä¸‹å¦‚ä½•å®ç°è¡Œåˆ—è½¬æ¢å§ã€‚ è¡Œåˆ—è½¬æ¢å°±æ˜¯å¦‚ä¸‹å›¾æ‰€ç¤ºä¸¤ç§å±•ç¤ºå½¢å¼çš„äº’ç›¸è½¬æ¢ ","date":"2022-04-03","objectID":"/%E8%A1%8C%E8%BD%AC%E5%88%97%E5%88%97%E8%BD%AC%E8%A1%8C/:0:0","tags":["SQL"],"title":"æ•°æ®åº“Tip:è¡Œè½¬åˆ—ã€åˆ—è½¬è¡Œ","uri":"/%E8%A1%8C%E8%BD%AC%E5%88%97%E5%88%97%E8%BD%AC%E8%A1%8C/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"è¡Œè½¬åˆ— å‡å¦‚æˆ‘ä»¬æœ‰ä¸‹è¡¨ï¼š ä½¿ç”¨PIVOTå®ç° SELECT * FROM student PIVOT ( SUM(score) FOR subject IN (è¯­æ–‡, æ•°å­¦, è‹±è¯­) ) é€šè¿‡ä¸Šé¢ SQL è¯­å¥å³å¯å¾—åˆ°ä¸‹é¢çš„ç»“æœ PIVOT åè·Ÿä¸€ä¸ªèšåˆå‡½æ•°æ¥æ‹¿åˆ°ç»“æœï¼ŒFOR åé¢è·Ÿçš„ç§‘ç›®æ˜¯æˆ‘ä»¬è¦è½¬æ¢çš„åˆ—ï¼Œè¿™æ ·çš„è¯ç§‘ç›®ä¸­çš„è¯­æ–‡ã€æ•°å­¦ã€è‹±è¯­å°±å°±è¢«è½¬æ¢ä¸ºåˆ—ã€‚IN åé¢è·Ÿçš„å°±æ˜¯å…·ä½“çš„ç§‘ç›®å€¼ã€‚ åˆ†ç»„åä½¿ç”¨caseè¿›è¡Œæ¡ä»¶åˆ¤æ–­å¤„ç† å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨ CASE WHEN å¾—åˆ°åŒæ ·çš„ç»“æœï¼Œå°±æ˜¯å†™èµ·æ¥éº»çƒ¦ä¸€ç‚¹ã€‚ SELECT name, MAX( CASE WHEN subject='è¯­æ–‡' THEN score ELSE 0 END) AS \"è¯­æ–‡\", MAX( CASE WHEN subject='æ•°å­¦' THEN score ELSE 0 END) AS \"æ•°å­¦\", MAX( CASE WHEN subject='è‹±è¯­' THEN score ELSE 0 END) AS \"è‹±è¯­\" FROM student GROUP BY name ä½¿ç”¨ CASE WHEN å¯ä»¥å¾—åˆ°å’Œ PIVOT åŒæ ·çš„ç»“æœï¼Œæ²¡æœ‰ PIVOT ç®€å•ç›´è§‚ã€‚ ","date":"2022-04-03","objectID":"/%E8%A1%8C%E8%BD%AC%E5%88%97%E5%88%97%E8%BD%AC%E8%A1%8C/:1:0","tags":["SQL"],"title":"æ•°æ®åº“Tip:è¡Œè½¬åˆ—ã€åˆ—è½¬è¡Œ","uri":"/%E8%A1%8C%E8%BD%AC%E5%88%97%E5%88%97%E8%BD%AC%E8%A1%8C/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"åˆ—è½¬è¡Œ å‡è®¾æˆ‘ä»¬æœ‰ä¸‹è¡¨ student1 ä½¿ç”¨UNPIVOTå®ç° SELECT * FROM student1 UNPIVOT ( score FOR subject IN (\"è¯­æ–‡\",\"æ•°å­¦\",\"è‹±è¯­\") ) é€šè¿‡ UNPIVOT å³å¯å¾—åˆ°å¦‚ä¸‹ç»“æœï¼š åˆ†ç»„åä½¿ç”¨caseè¿›è¡Œæ¡ä»¶åˆ¤æ–­å¤„ç† æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢æ–¹æ³•å¾—åˆ°åŒæ ·ç»“æœ SELECT NAME, 'è¯­æ–‡' AS subject , MAX(\"è¯­æ–‡\") AS score FROM student1 GROUP BY NAME UNION SELECT NAME, 'æ•°å­¦' AS subject , MAX(\"æ•°å­¦\") AS score FROM student1 GROUP BY NAME UNION SELECT NAME, 'è‹±è¯­' AS subject , MAX(\"è‹±è¯­\") AS score FROM student1 GROUP BY NAME UNION \u0026 UNION ALL UNION æ“ä½œç¬¦ç”¨äºåˆå¹¶ä¸¤ä¸ªæˆ–å¤šä¸ª SELECT è¯­å¥çš„ç»“æœé›†ã€‚ è¯·æ³¨æ„ï¼ŒUNION å†…éƒ¨çš„ SELECT è¯­å¥å¿…é¡»æ‹¥æœ‰ç›¸åŒæ•°é‡çš„åˆ—ã€‚åˆ—ä¹Ÿå¿…é¡»æ‹¥æœ‰ç›¸ä¼¼çš„æ•°æ®ç±»å‹ã€‚åŒæ—¶ï¼Œæ¯æ¡ SELECT è¯­å¥ä¸­çš„åˆ—çš„é¡ºåºå¿…é¡»ç›¸åŒã€‚ SQL UNION è¯­æ³• SELECT column_name(s) FROM table_name1 UNION SELECT column_name(s) FROM table_name2 **æ³¨é‡Šï¼š**é»˜è®¤åœ°ï¼ŒUNION æ“ä½œç¬¦é€‰å–ä¸åŒçš„å€¼ã€‚å¦‚æœå…è®¸é‡å¤çš„å€¼ï¼Œè¯·ä½¿ç”¨ UNION ALLã€‚ SQL UNION ALL è¯­æ³• SELECT column_name(s) FROM table_name1 UNION ALL SELECT column_name(s) FROM table_name2 å¦å¤–ï¼ŒUNION ç»“æœé›†ä¸­çš„åˆ—åæ€»æ˜¯ç­‰äº UNION ä¸­ç¬¬ä¸€ä¸ª SELECT è¯­å¥ä¸­çš„åˆ—åã€‚ ","date":"2022-04-03","objectID":"/%E8%A1%8C%E8%BD%AC%E5%88%97%E5%88%97%E8%BD%AC%E8%A1%8C/:2:0","tags":["SQL"],"title":"æ•°æ®åº“Tip:è¡Œè½¬åˆ—ã€åˆ—è½¬è¡Œ","uri":"/%E8%A1%8C%E8%BD%AC%E5%88%97%E5%88%97%E8%BD%AC%E8%A1%8C/"},{"categories":["æ”¶è—åˆ†äº«"],"content":"Yapiç®€ä»‹ Yapi ç”± YMFE å¼€æºï¼Œæ—¨åœ¨ä¸ºå¼€å‘ã€äº§å“ã€æµ‹è¯•äººå‘˜æä¾›æ›´ä¼˜é›…çš„æ¥å£ç®¡ç†æœåŠ¡ï¼Œå¯ä»¥å¸®åŠ©å¼€å‘è€…è½»æ¾åˆ›å»ºã€å‘å¸ƒã€ç»´æŠ¤ API æƒé™ç®¡ç† YApi æˆç†Ÿçš„å›¢é˜Ÿç®¡ç†æ‰å¹³åŒ–é¡¹ç›®æƒé™é…ç½®æ»¡è¶³å„ç±»ä¼ä¸šçš„éœ€æ±‚ å¯è§†åŒ–æ¥å£ç®¡ç† åŸºäº websocket çš„å¤šäººåä½œæ¥å£ç¼–è¾‘åŠŸèƒ½å’Œç±» postman æµ‹è¯•å·¥å…·ï¼Œè®©å¤šäººåä½œæˆå€æå‡å¼€å‘æ•ˆç‡ Mock Server æ˜“ç”¨çš„ Mock Serverï¼Œå†ä¹Ÿä¸ç”¨æ‹…å¿ƒ mock æ•°æ®çš„ç”Ÿæˆäº† è‡ªåŠ¨åŒ–æµ‹è¯• å®Œå–„çš„æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•,ä¿è¯æ•°æ®çš„æ­£ç¡®æ€§ æ•°æ®å¯¼å…¥ æ”¯æŒå¯¼å…¥ swagger, postman, har æ•°æ®æ ¼å¼ï¼Œæ–¹ä¾¿è¿ç§»æ—§é¡¹ç›® æ’ä»¶æœºåˆ¶ å¼ºå¤§çš„æ’ä»¶æœºåˆ¶ï¼Œæ»¡è¶³å„ç±»ä¸šåŠ¡éœ€æ±‚ ","date":"2022-04-03","objectID":"/%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%AA%E5%8F%AF%E4%BB%A5%E7%A7%81%E6%9C%89%E9%83%A8%E7%BD%B2%E7%9A%84%E6%8E%A5%E5%8F%A3%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9Fyapi/:1:0","tags":["Yapi"],"title":"åˆ†äº«ä¸€ä¸ªå¯ä»¥ç§æœ‰éƒ¨ç½²çš„æ¥å£ç®¡ç†ç³»ç»ŸYapi","uri":"/%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%AA%E5%8F%AF%E4%BB%A5%E7%A7%81%E6%9C%89%E9%83%A8%E7%BD%B2%E7%9A%84%E6%8E%A5%E5%8F%A3%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9Fyapi/"},{"categories":["æ”¶è—åˆ†äº«"],"content":"Yapiä½¿ç”¨Dockerå®‰è£… ç”±äºå†…ç½‘å¼€å‘ç¯å¢ƒï¼Œå¯¼è‡´å®‰è£…å„ç§ç¯å¢ƒæˆ–è€…ç³»ç»Ÿéå¸¸ä¸æ–¹ä¾¿ï¼Œæ‰€ä»¥ä¸ªäººæ¯”è¾ƒæ¨èé€šè¿‡dockeræ¥å®‰è£… æ‹‰å–é•œåƒ docker pull registry.cn-hangzhou.aliyuncs.com/anoy/yapi åˆ›å»ºæŒ‚è½½ç›®å½• mkdir -p /data/yapi/mongodata è¿è¡Œä¸“ç”¨mongoï¼ˆä¹Ÿå¯ä»¥æ”¾åœ¨å·²æœ‰çš„mongoï¼‰ docker run -d --name yapimongo --restart always -v /data/yapi/mongodata:/data/db mongo åˆå§‹åŒ– Yapi æ•°æ®åº“ç´¢å¼•åŠç®¡ç†å‘˜è´¦å· docker run -it --rm --link yapimongo:mongo --entrypoint npm --workdir /api/vendors registry.cn-hangzhou.aliyuncs.com/anoy/yapi run install-server **â€“rmï¼š**åœ¨ Docker å®¹å™¨é€€å‡ºæ—¶ï¼Œé»˜è®¤å®¹å™¨å†…éƒ¨çš„æ–‡ä»¶ç³»ç»Ÿä»ç„¶è¢«ä¿ç•™ï¼Œä»¥æ–¹ä¾¿è°ƒè¯•å¹¶ä¿ç•™ç”¨æˆ·æ•°æ®ã€‚ä½†æ˜¯ï¼Œå¯¹äº foreground å®¹å™¨ï¼Œç”±äºå…¶åªæ˜¯åœ¨å¼€å‘è°ƒè¯•è¿‡ç¨‹ä¸­çŸ­æœŸè¿è¡Œï¼Œå…¶ç”¨æˆ·æ•°æ®å¹¶æ— ä¿ç•™çš„å¿…è¦ï¼Œå› è€Œå¯ä»¥åœ¨å®¹å™¨å¯åŠ¨æ—¶è®¾ç½® â€“rm é€‰é¡¹ï¼Œè¿™æ ·åœ¨å®¹å™¨é€€å‡ºæ—¶å°±èƒ½å¤Ÿè‡ªåŠ¨æ¸…ç†å®¹å™¨å†…éƒ¨çš„æ–‡ä»¶ç³»ç»Ÿ **â€“entrypointï¼š**ç±»ä¼¼äº CMD æŒ‡ä»¤ï¼Œä½†å…¶ä¸ä¼šè¢« docker run çš„å‘½ä»¤è¡Œå‚æ•°æŒ‡å®šçš„æŒ‡ä»¤æ‰€è¦†ç›–ï¼Œè€Œä¸”è¿™äº›å‘½ä»¤è¡Œå‚æ•°ä¼šè¢«å½“ä½œå‚æ•°é€ç»™ ENTRYPOINT æŒ‡ä»¤æŒ‡å®šçš„ç¨‹åºã€‚ä½†æ˜¯, å¦‚æœè¿è¡Œ docker run æ—¶ä½¿ç”¨äº† â€“entrypoint é€‰é¡¹ï¼Œå°†è¦†ç›– ENTRYPOINT æŒ‡ä»¤æŒ‡å®šçš„ç¨‹åº **â€“workdirï¼š**æŒ‡å®šå·¥ä½œç›®å½•ã€‚ç”¨ WORKDIR æŒ‡å®šçš„å·¥ä½œç›®å½•ï¼Œä¼šåœ¨æ„å»ºé•œåƒçš„æ¯ä¸€å±‚ä¸­éƒ½å­˜åœ¨ **runï¼š**ç”¨äºæ‰§è¡Œåé¢è·Ÿç€çš„å‘½ä»¤è¡Œå‘½ä»¤ åˆ›å»ºYapiå®¹å™¨å¹¶å¯åŠ¨ docker run -d --name yapi --restart=always --link yapimongo:mongo --workdir /api/vendors -p 3001:3000 registry.cn-hangzhou.aliyuncs.com/anoy/yapi server/app.js **â€“linkï¼š**ç”¨äºå®¹å™¨ç›´æ¥çš„äº’é€š ä½¿ç”¨Yapi è®¿é—® http://localhost:3000 ç™»å½•è´¦å·admin@admin.comï¼Œå¯†ç ymfe.org Yapié…ç½® # è¿›å…¥Yapiå®¹å™¨ä¸­ docker exec -it yapi /bin/bash # ä¿®æ”¹é…ç½®æ–‡ä»¶ vi ../config.json # ä¿®æ”¹å†…å®¹å¦‚ä¸‹ { \"port\": \"3000\", \"adminAccount\": \"admin@admin.com\", \"closeRegister\":true, # é…ç½®ç¦ç”¨æ³¨å†Œï¼Œä¸»è¦æ˜¯æ·»åŠ è¿™å¥é…ç½® \"db\": { # é…ç½®MongoDB \"servername\": \"mongo\", \"DATABASE\": \"yapi\", \"port\": 27017 } } # é€€å‡º exit # é‡å¯å®¹å™¨ docker restart yapi æœ¬æ–‡å‚è€ƒè‡³ï¼š dockerå®‰è£…yapi å…·ä½“ä½¿ç”¨å¯å‚è€ƒå®˜æ–¹æ•™ç¨‹ ","date":"2022-04-03","objectID":"/%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%AA%E5%8F%AF%E4%BB%A5%E7%A7%81%E6%9C%89%E9%83%A8%E7%BD%B2%E7%9A%84%E6%8E%A5%E5%8F%A3%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9Fyapi/:2:0","tags":["Yapi"],"title":"åˆ†äº«ä¸€ä¸ªå¯ä»¥ç§æœ‰éƒ¨ç½²çš„æ¥å£ç®¡ç†ç³»ç»ŸYapi","uri":"/%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%AA%E5%8F%AF%E4%BB%A5%E7%A7%81%E6%9C%89%E9%83%A8%E7%BD%B2%E7%9A%84%E6%8E%A5%E5%8F%A3%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9Fyapi/"},{"categories":["å®è·µç¬”è®°"],"content":"æœ¬ç¯‡æ–‡ç« è®°å½•æœ¬äººæ­å»ºCI\u0026CDå®ç°æŒç»­é›†æˆå’ŒæŒç»­éƒ¨ç½² ","date":"2022-04-01","objectID":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/:0:0","tags":["Docker","gitlab","jenkins"],"title":"è®°ä¸€æ¬¡æ­å»ºgitlab+jenkinså®ç°CI\u0026CD","uri":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/"},{"categories":["å®è·µç¬”è®°"],"content":"1.ä½¿ç”¨dockerå®‰è£…gitlab ","date":"2022-04-01","objectID":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/:1:0","tags":["Docker","gitlab","jenkins"],"title":"è®°ä¸€æ¬¡æ­å»ºgitlab+jenkinså®ç°CI\u0026CD","uri":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/"},{"categories":["å®è·µç¬”è®°"],"content":"ä¸‹è½½é•œåƒ ï¼ˆä½¿ç”¨ä¸­æ–‡ç¤¾åŒºç‰ˆï¼‰ docker pull twang2218/gitlab-ce-zh ","date":"2022-04-01","objectID":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/:1:1","tags":["Docker","gitlab","jenkins"],"title":"è®°ä¸€æ¬¡æ­å»ºgitlab+jenkinså®ç°CI\u0026CD","uri":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/"},{"categories":["å®è·µç¬”è®°"],"content":"åˆ›å»ºæ‰€éœ€ç›®å½•ä¸ºåç»­æŒ‚è½½æ–‡ä»¶ è¿›å…¥æ‰€éœ€ç›®å½•åï¼Œæ‰“å¼€PowerShellï¼Œé€šè¿‡ä»¥ä¸‹å‘½ä»¤è¿›è¡Œç›®å½•åˆ›å»º mkdir -p gitlab/etc ã€ mkdir -p gitlab/etc ã€ mkdir -p gitlab/etc ç›®å½•ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤º ","date":"2022-04-01","objectID":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/:1:2","tags":["Docker","gitlab","jenkins"],"title":"è®°ä¸€æ¬¡æ­å»ºgitlab+jenkinså®ç°CI\u0026CD","uri":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/"},{"categories":["å®è·µç¬”è®°"],"content":"å¯åŠ¨å®¹å™¨ é•œåƒä¸‹è½½å®Œæˆåå¯é€šè¿‡docker imagesæŸ¥çœ‹ä¸‹è½½ç»“æœï¼Œå†é€šè¿‡é•œåƒå¯åŠ¨ä¸ºå®¹å™¨ docker run -d -p 9443:443 -p 9080:80 -p 9022:22 --restart always --name testgitlab -v D:\\testgitlab\\gitlab\\etc:/etc/gitlab -v D:\\testgitlab\\gitlab\\log:/var/log/gitlab -v D:\\testgitlab\\gitlab\\data:/var/opt/gitlab --privileged=true twang2218/gitlab-ce-zh # æ‰§è¡Œå®Œæˆåä¼šè¿”å›ä¸€ä¸²å­—ç¬¦ä¸² å…¶ä¸­ï¼š **-dï¼š**åå°æ‰§è¡Œ **-pï¼š**ç«¯å£æ˜ å°„ **â€“restartï¼š**é‡å¯æœºåˆ¶ **â€“nameï¼š**å®¹å™¨åç§° **-vï¼š**æŒ‚è½½æ–‡ä»¶ï¼Œä½¿å¾—å®¹å™¨å†…æ–‡ä»¶åœ¨å®¿ä¸»æœºå†…æœ‰æ˜ å°„ **â€“privilegedï¼š**ä½¿å¾—å®¹å™¨è·å–å®¿ä¸»æœºrootæƒé™ ","date":"2022-04-01","objectID":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/:1:3","tags":["Docker","gitlab","jenkins"],"title":"è®°ä¸€æ¬¡æ­å»ºgitlab+jenkinså®ç°CI\u0026CD","uri":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/"},{"categories":["å®è·µç¬”è®°"],"content":"è¿›å…¥å®¹å™¨ï¼Œä¿®æ”¹é…ç½® è¾“å…¥å‘½ä»¤ docker exec -it testgitlab bash å³å¯è¿›å…¥åˆšåˆšåˆ›å»ºå¥½çš„å®¹å™¨ ä¿®æ”¹gitlab.rbé…ç½®çš„ä¸¤ç§æ–¹å¼ï¼š1. è¿›å…¥æŒ‚è½½å¥½çš„etcç›®å½•ä¸‹æ‰¾åˆ°gitlab.rbæ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼›2. é€šè¿‡è¿›å…¥å®¹å™¨å†…è¿›è¡Œå‘½ä»¤è¡Œvi /etc/gitlab/gitlab.rb ä¿®æ”¹ # æ•´ä¸ªgitlab.rbéƒ½æ˜¯æ³¨é‡Šäº†çš„ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰éœ€åŠ å…¥æˆ‘ä»¬çš„é…ç½® # 1. gitlabè®¿é—®åœ°å€ï¼Œå¯ä»¥å†™åŸŸåã€‚å¦‚æœç«¯å£ä¸å†™çš„è¯é»˜è®¤ä¸º80ç«¯å£ eaxternal_url 'http://192.168.3.12:9080' # 2. sshä¸»æœºip gitlab_rails['gitlab_ssh_host'] = '192.168.3.12' # 3. sshè¿æ¥ç«¯å£ gitlab_rails['gitlab_shell_ssh_port'] = 9022 # 4. é˜²æ­¢å†…å­˜å ç”¨è¿‡å¤§ï¼Œé™åˆ¶çº¿ç¨‹æ•° unicorn['worker_processes'] = 2 ä¿®æ”¹gitlab.ymlé…ç½®ï¼ˆè¿™ä¸€æ­¥åŸæœ¬ä¸æ˜¯å¿…é¡»çš„ï¼Œå› ä¸ºgitlab.rbå†…é…ç½®ä¼šè¦†ç›–è¿™ä¸ªï¼Œä¸ºäº†é˜²æ­¢æ²¡æœ‰æˆåŠŸè¦†ç›–æ‰€ä»¥æˆ‘åœ¨è¿™é‡Œè¿›è¡Œé…ç½®ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥é€‰æ‹©ä¸ä¿®æ”¹gitlab.rbç›´æ¥ä¿®æ”¹è¿™é‡Œï¼‰ é€šè¿‡å‘½ä»¤è¡Œvi /opt/gitlab/embedded/service/gitlab-rails/config/gitlab.ymlä¿®æ”¹ï¼Œæˆ–è€…æ‰¾åˆ°æŒ‚è½½æ–‡ä»¶ä¿®æ”¹ ä¿®æ”¹ä¸Šå›¾çº¢æ¡†é…ç½® è®©ä¿®æ”¹åçš„é…ç½®ç”Ÿæ•ˆï¼Œå¹¶é‡å¯ gitlab-ctl reconfigure ã€ gitlab-ctl restart ã€ exitï¼ˆé€€å‡ºå®¹å™¨å‘½ä»¤è¡Œï¼‰ æˆ–è€…é‡å¯å®¹å™¨docker restart testgitlab ","date":"2022-04-01","objectID":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/:1:4","tags":["Docker","gitlab","jenkins"],"title":"è®°ä¸€æ¬¡æ­å»ºgitlab+jenkinså®ç°CI\u0026CD","uri":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/"},{"categories":["å®è·µç¬”è®°"],"content":"è®¿é—®gitlab è¾“å…¥http://192.168.3.12:9080æ‰“å¼€é¡µé¢ï¼ˆipè¯·è¾“å…¥å‰é¢è®¾ç½®çš„ï¼‰ï¼Œé»˜è®¤è´¦æˆ·rootï¼Œå¯†ç éœ€è¦é‡æ–°è®¾ç½®è‡³å°‘8ä½ ","date":"2022-04-01","objectID":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/:1:5","tags":["Docker","gitlab","jenkins"],"title":"è®°ä¸€æ¬¡æ­å»ºgitlab+jenkinså®ç°CI\u0026CD","uri":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/"},{"categories":["å®è·µç¬”è®°"],"content":"2.ä½¿ç”¨dockerå®‰è£…jenkins ","date":"2022-04-01","objectID":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/:2:0","tags":["Docker","gitlab","jenkins"],"title":"è®°ä¸€æ¬¡æ­å»ºgitlab+jenkinså®ç°CI\u0026CD","uri":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/"},{"categories":["å®è·µç¬”è®°"],"content":"ä¸‹è½½é•œåƒ docker pull jenkins/jenkins ","date":"2022-04-01","objectID":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/:2:1","tags":["Docker","gitlab","jenkins"],"title":"è®°ä¸€æ¬¡æ­å»ºgitlab+jenkinså®ç°CI\u0026CD","uri":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/"},{"categories":["å®è·µç¬”è®°"],"content":"åˆ›å»ºæ‰€éœ€ç›®å½•ä¸ºåç»­æŒ‚è½½æ–‡ä»¶ åœ¨æœåŠ¡å™¨ä¸Šå…ˆåˆ›å»ºä¸€ä¸ªjenkinså·¥ä½œç›®å½• /var/jenkins_mountï¼Œèµ‹äºˆç›¸åº”æƒé™ï¼Œç¨åæˆ‘ä»¬å°†jenkinså®¹å™¨ç›®å½•æŒ‚è½½åˆ°è¿™ä¸ªç›®å½•ä¸Šï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å¯¹å®¹å™¨å†…çš„é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹ã€‚å¦‚ä½•åç»­åœ¨å®¹å™¨å†…ä¿®æ”¹çš„è¯ä¼šéå¸¸éº»çƒ¦ï¼Œç”±äºå®¹å™¨ä¸­æ— viå‘½ä»¤ã€‚ mkdir -p /var/jenkins_mount ã€ chmod 777 /var/jenkins_mount ","date":"2022-04-01","objectID":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/:2:2","tags":["Docker","gitlab","jenkins"],"title":"è®°ä¸€æ¬¡æ­å»ºgitlab+jenkinså®ç°CI\u0026CD","uri":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/"},{"categories":["å®è·µç¬”è®°"],"content":"å¯åŠ¨å®¹å™¨ docker run -d -p 10240:8080 -p 10241:50000 -v D:\\testjenkins\\jenkins_mount:/var/jenkins_home -v /etc/localtime:/etc/localtime --name testjenkins jenkins/jenkins # å…¶ä¸­-v /etc/localtime:/etc/localtimeè®©å®¹å™¨ä½¿ç”¨å’ŒæœåŠ¡å™¨åŒæ ·çš„æ—¶é—´è®¾ç½® å¯ä»¥é€šè¿‡docker psæ¥æŸ¥çœ‹å¯åŠ¨æƒ…å†µ å¯ä»¥é€šè¿‡docker logs testjenkinsæ¥æŸ¥çœ‹å®¹å™¨æ—¥å¿— ","date":"2022-04-01","objectID":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/:2:3","tags":["Docker","gitlab","jenkins"],"title":"è®°ä¸€æ¬¡æ­å»ºgitlab+jenkinså®ç°CI\u0026CD","uri":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/"},{"categories":["å®è·µç¬”è®°"],"content":"ä¿®æ”¹é…ç½® è¿›å…¥åˆšåˆšæŒ‚è½½çš„æ–‡ä»¶ï¼Œä¿®æ”¹hudson.model.UpdateCenter.xmlæ–‡ä»¶ å°† url ä¿®æ”¹ä¸º æ¸…åå¤§å­¦å®˜æ–¹é•œåƒï¼šhttps://mirrors.tuna.tsinghua.edu.cn/jenkins/updates/update-center.json ï¼Œé…ç½®é•œåƒåŠ é€Ÿ è¿˜éœ€è¦ä¿®æ”¹default.jsonæ–‡ä»¶ï¼Œä½ç½®ä¸ºcd /var/jenkins_home/updates ä½¿ç”¨sedå‘½ä»¤ä¿®æ”¹default.json linuxä¸‹ï¼š sed -i 's/http:\\/\\/updates.jenkins-ci.org\\/download/https:\\/\\/mirrors.tuna.tsinghua.edu.cn\\/jenkins/g' default.json \u0026\u0026 sed -i 's/http:\\/\\/www.google.com/https:\\/\\/www.baidu.com/g' default.json macä¸‹ï¼š sed -i \"\" 's/http:\\/\\/updates.jenkins-ci.org\\/download/https:\\/\\/mirrors.tuna.tsinghua.edu.cn\\/jenkins/g' default.json \u0026\u0026 sed -i \"\" 's/http:\\/\\/www.google.com/https:\\/\\/www.baidu.com/g' default.json é‡å¯å®¹å™¨ docker restart testjenkins ","date":"2022-04-01","objectID":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/:2:4","tags":["Docker","gitlab","jenkins"],"title":"è®°ä¸€æ¬¡æ­å»ºgitlab+jenkinså®ç°CI\u0026CD","uri":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/"},{"categories":["å®è·µç¬”è®°"],"content":"è®¿é—®jenkins è¾“å…¥http://localhost:10240æ‰“å¼€é¡µé¢ é€‰æ‹©é»˜è®¤æ’ä»¶å®‰è£…å³å¯ ","date":"2022-04-01","objectID":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/:2:5","tags":["Docker","gitlab","jenkins"],"title":"è®°ä¸€æ¬¡æ­å»ºgitlab+jenkinså®ç°CI\u0026CD","uri":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/"},{"categories":["å®è·µç¬”è®°"],"content":"3.gitlab + jenkins ä¸ºäº†å®ç°è‡ªåŠ¨æŒç»­æ„å»º, ä¸éœ€è¦äººå·¥æ“ä½œ ( ç•™äººå·¥æ“ä½œç”¨äºå¤„ç†ç‰¹æ®Šæƒ…å†µ )ï¼Œé€šè¿‡gitlab+jenkinså®ç°CI\u0026CDï¼Œå…·ä½“æµç¨‹å¦‚ä¸‹ å¼€å‘æäº¤ä»£ç  å¼€å‘å¯¹éœ€è¦å‘å¸ƒçš„ç‰ˆæœ¬æ‰“ä¸Š Tag è§¦å‘ GitLab çš„ tag push äº‹ä»¶, è°ƒç”¨ Webhook Webhook è§¦å‘ Jenkins çš„æ„å»ºä»»åŠ¡ Jenkins æ„å»ºå®Œé¡¹ç›®å¯ä»¥æŒ‰ç‰ˆæœ¬å·ä¸Šä¼ åˆ°ä»“åº“ã€éƒ¨ç½²ã€é€šçŸ¥ç›¸å…³äººå‘˜ç­‰ç­‰ ","date":"2022-04-01","objectID":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/:3:0","tags":["Docker","gitlab","jenkins"],"title":"è®°ä¸€æ¬¡æ­å»ºgitlab+jenkinså®ç°CI\u0026CD","uri":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/"},{"categories":["å®è·µç¬”è®°"],"content":"é…ç½®gitlab å»ºä¸€ä¸ªæµ‹è¯•é¡¹ç›® test ï¼Œéšä¾¿ commit ä¸€äº›å†…å®¹ï¼Œæ¯”å¦‚é€šè¿‡ç½‘é¡µæ·»åŠ README.md åˆ›å»ºè´¦å·çš„ access token ï¼Œç”¨äº Jenkins è°ƒç”¨ GitLab çš„ API è®°ä¸‹ç”Ÿæˆçš„ access token , åé¢éœ€è¦ç”¨åˆ°ï¼ï¼ï¼ä¸”å®ƒåªä¼šå±•ç¤ºä¸€æ¬¡ï¼Œè¯·è®°å½•å¥½ï¼ï¼ï¼ ","date":"2022-04-01","objectID":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/:3:1","tags":["Docker","gitlab","jenkins"],"title":"è®°ä¸€æ¬¡æ­å»ºgitlab+jenkinså®ç°CI\u0026CD","uri":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/"},{"categories":["å®è·µç¬”è®°"],"content":"é…ç½®jenkins å®‰è£…ç¯å¢ƒæ‰€éœ€æ’ä»¶ Git Parameter ( ç”¨äºå‚æ•°åŒ–æ„å»ºä¸­åŠ¨æ€è·å–é¡¹ç›®åˆ†æ”¯ ) Generic Webhook Trigger ( ç”¨äºè§£æ Webhook ä¼ è¿‡æ¥çš„å‚æ•° ) GitLab ( ç”¨äºæ¨é€æ„å»ºç»“æœç»™ GitLab ) æ·»åŠ  GitLab å‡­æ® åœ¨ç³»ç»Ÿé…ç½®ä¸­é…ç½®gitlab åˆ›å»ºæ–°çš„FreeStyleä»»åŠ¡ General å‹¾é€‰ å‚æ•°åŒ–æ„å»ºè¿‡ç¨‹, æ·»åŠ  Git Parameter ç±»å‹çš„å‚æ•° ref , è¿™æ ·æ„å»ºçš„æ—¶å€™å°±å¯ä»¥æŒ‡å®šåˆ†æ”¯è¿›è¡Œæ„å»º æºç ç®¡ç† é€‰æ‹© Git , æ·»åŠ é¡¹ç›®åœ°å€å’Œæˆæƒæ–¹å¼ ( å¸å·å¯†ç  æˆ–è€… ssh key ) , åˆ†æ”¯å¡«å†™æ„å»ºå‚æ•° $ref æ„å»ºè§¦å‘å™¨ é€‰æ‹© Generic Webhook Trigger æ–¹å¼ç”¨äºè§£æ GitLab æ¨è¿‡æ¥çš„è¯¦ç»†å‚æ•° ( jsonpath åœ¨çº¿æµ‹è¯• ) ã€‚å…¶ä»–è§¦å‘æ–¹å¼ä¸­: Trigger builds remotely æ˜¯ Jenkins è‡ªå¸¦çš„, Build when a change is pushed to GitLab æ˜¯ GitLab æ’ä»¶ æä¾›çš„, éƒ½å±äºç®€å•çš„è§¦å‘æ„å»º, æ— æ³•åšå¤æ‚çš„å¤„ç† Optional filter è™½ç„¶ Generic Webhook Trigger æä¾›äº† Token å‚æ•°è¿›è¡Œé‰´æƒ, ä½†ä¸ºäº†é¿å…ä¸åŒé¡¹ç›®è¿›è¡Œæ··è°ƒ ( æ¯”å¦‚ A é¡¹ç›®æäº¤ä»£ç å´è§¦å‘äº† B é¡¹ç›®çš„æ„å»º) , è¿˜è¦å¯¹è¯·æ±‚åšä¸‹è¿‡æ»¤ã€‚Optional filter ä¸­ Text å¡«å†™éœ€è¦æ ¡éªŒçš„å†…å®¹ ( å¯ä½¿ç”¨å˜é‡ ) , Expression ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å¯¹ Text è¿›è¡ŒåŒ¹é…, åŒ¹é…æˆåŠŸæ‰å…è®¸è§¦å‘æ„å»º æ„å»º æ„å»ºå†…å®¹æŒ‰è‡ªå·±å®é™…çš„é¡¹ç›®ç±»å‹è¿›è¡Œè°ƒæ•´, ä½¿ç”¨ Maven æ’ä»¶ æˆ– è„šæœ¬ ç­‰ç­‰ æ„å»ºåæ“ä½œ æ„å»ºåæ“ä½œæ·»åŠ  Publish build status to GitLab åŠ¨ä½œ, å®ç°æ„å»ºç»“æŸåé€šçŸ¥æ„å»ºç»“æœç»™ GitLab åœ¨GitLabçš„é¡¹ç›®é¡µé¢ä¸­, æ·»åŠ ä¸€ä¸ªWebhook æ·»åŠ ä¸€ä¸ª Webhook ( http://JENKINS_URL/generic-webhook-trigger/invoke?token=\u003cä¸Šé¢ Jenkins é¡¹ç›®é…ç½®ä¸­çš„ token\u003e ) , è§¦å‘å™¨é€‰æ‹© æ ‡ç­¾æ¨é€äº‹ä»¶ã€‚å› ä¸ºæ—¥å¸¸å¼€å‘ä¸­ push æ“ä½œæ¯”è¾ƒé¢‘ç¹è€Œä¸”ä¸æ˜¯æ¯ä¸ªç‰ˆæœ¬éƒ½éœ€è¦æ„å»º, æ‰€ä»¥åªé’ˆå¯¹éœ€è¦æ„å»ºçš„ç‰ˆæœ¬æ‰“ä¸Š Tag å°±å¥½äº† http://172.20.10.7:10240//generic-webhook-trigger/invoke?token=d63ad84eb18cb04d4459ec347a196dce åˆ›å»ºå®Œä½¿ç”¨ test æŒ‰é’® å…ˆæµ‹è¯•ä¸‹, å¯èƒ½ä¼šå‡ºç°ä¸‹é¢çš„é”™è¯¯ Requests to the local network are not allowed é€šè¿‡ä¸‹é¢æ–¹æ³•è§£å†³ ","date":"2022-04-01","objectID":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/:3:2","tags":["Docker","gitlab","jenkins"],"title":"è®°ä¸€æ¬¡æ­å»ºgitlab+jenkinså®ç°CI\u0026CD","uri":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/"},{"categories":["å®è·µç¬”è®°"],"content":"æµ‹è¯•æ•ˆæœ å°†ä»£ç æ‹‰ä¸‹æ¥åœ¨æœ¬åœ°æ“ä½œé€šè¿‡IDEAè¿›è¡Œæ“ä½œ ç„¶åä½¿ç”¨å¿«æ·é”® Cmd + Shift + K è°ƒå‡º Push çª—å£ , æŠŠ Tag æ¨é€åˆ° GitLab ä¸­ å›åˆ° GitLab é¡µé¢å¯ä»¥çœ‹åˆ°è§¦å‘äº† Webhook , View details æŸ¥çœ‹è¯·æ±‚è¯¦æƒ…, Response body ä¸­ triggered å­—æ®µå€¼ä¸º true åˆ™è¡¨ç¤ºæˆåŠŸè§¦å‘äº† Jenkins è¿›è¡Œæ„å»º æ³¨æ„: æ¯æ·»åŠ ä¸€ä¸ª Tag å°±ä¼šè§¦å‘ä¸€æ¬¡äº‹ä»¶, ä¸ç®¡æ˜¯ä¸æ˜¯ä¸€èµ· push çš„ã€‚æ‰€ä»¥ä¸€æ¬¡ push å¤šä¸ª Tag ä¼šè§¦å‘ Jenkins è¿›è¡Œå¤šæ¬¡æ„å»ºã€‚ä¸è¿‡ Jenkins å·²ç»åšäº†å¤„ç†, é»˜è®¤ä¸²è¡Œæ‰§è¡Œä»»åŠ¡ ( ä¸€ä¸ªä»»åŠ¡ç»“æŸå†æ‰§è¡Œä¸‹ä¸€ä¸ª ) , è€Œä¸”åœ¨æ„å»ºå‰æœ‰ä¸€ä¸ª pending çŠ¶æ€, æ­¤æ—¶è¢«å¤šæ¬¡è§¦å‘ä¼šè¿›è¡Œåˆå¹¶, å¹¶å–é¦–æ¬¡è§¦å‘çš„å‚æ•°, å¦‚ä¸‹å›¾æ‰€ç¤º: ","date":"2022-04-01","objectID":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/:3:3","tags":["Docker","gitlab","jenkins"],"title":"è®°ä¸€æ¬¡æ­å»ºgitlab+jenkinså®ç°CI\u0026CD","uri":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/"},{"categories":["å®è·µç¬”è®°"],"content":"å…³äº Tag çš„å‡ ç‚¹è¯´æ˜ æ¨é€ Tag åˆ°è¿œç«¯çš„æ—¶å€™, è¿œç«¯å·²å­˜åœ¨ ( åŒå ) çš„ Tag ä¸ä¼šè¢«æ·»åŠ åˆ°è¿œç«¯ æ‹‰å–è¿œç«¯çš„ Tag æ—¶, æœ¬åœ°å·²å­˜åœ¨ ( åŒå ) çš„ Tag ä¸ä¼šæ·»åŠ åˆ°æœ¬åœ° æ‹‰å–è¿œç«¯çš„ Tag æ—¶, æœ¬åœ°ä¸ä¼šåˆ é™¤è¿œç«¯å·²åˆ é™¤çš„ Tag , éœ€è¦åŒæ­¥è¿œç«¯çš„ Tag å¯ä»¥å…ˆåˆ é™¤æœ¬åœ°æ‰€æœ‰ Tag å† pull åˆ é™¤ Tag ä¹Ÿä¼šæ¨é€äº‹ä»¶, è¦åšå¥½è¿‡æ»¤ ( ä¸Šé¢é…ç½®ä¸­å·²ä½¿ç”¨ commitsId å­—æ®µè¿›è¡Œè¿‡æ»¤ ) æœ¬ç¯‡æ–‡ç« äº§è€ƒä¸‹åˆ—æ–‡ç« ï¼š dockerå®‰è£…gitlab dockerå®‰è£…jenkins dockerä¸­jenkinsæ’ä»¶åŠ é€Ÿ æ•´åˆgitlab+jenkins ","date":"2022-04-01","objectID":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/:3:4","tags":["Docker","gitlab","jenkins"],"title":"è®°ä¸€æ¬¡æ­å»ºgitlab+jenkinså®ç°CI\u0026CD","uri":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BAgitlab-jenkins%E5%AE%9E%E7%8E%B0cicd/"},{"categories":["å®è·µç¬”è®°"],"content":"Docker ç®€ä»‹ Docker æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼ŒåŸºäº Go è¯­è¨€ å¹¶éµä» Apache2.0 åè®®å¼€æºã€‚Docker å¯ä»¥è®©å¼€å‘è€…æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªè½»é‡çº§ã€å¯ç§»æ¤çš„å®¹å™¨ä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ Linux æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–ã€‚å®¹å™¨æ˜¯å®Œå…¨ä½¿ç”¨æ²™ç®±æœºåˆ¶ï¼Œç›¸äº’ä¹‹é—´ä¸ä¼šæœ‰ä»»ä½•æ¥å£ï¼ˆç±»ä¼¼ iPhone çš„ appï¼‰,æ›´é‡è¦çš„æ˜¯å®¹å™¨æ€§èƒ½å¼€é”€æä½ã€‚ Docker çš„åº”ç”¨åœºæ™¯ï¼š Web åº”ç”¨çš„è‡ªåŠ¨åŒ–æ‰“åŒ…å’Œå‘å¸ƒã€‚ è‡ªåŠ¨åŒ–æµ‹è¯•å’ŒæŒç»­é›†æˆã€å‘å¸ƒã€‚ åœ¨æœåŠ¡å‹ç¯å¢ƒä¸­éƒ¨ç½²å’Œè°ƒæ•´æ•°æ®åº“æˆ–å…¶ä»–çš„åå°åº”ç”¨ã€‚ ä»å¤´ç¼–è¯‘æˆ–è€…æ‰©å±•ç°æœ‰çš„ OpenShift æˆ– Cloud Foundry å¹³å°æ¥æ­å»ºè‡ªå·±çš„ PaaS ç¯å¢ƒã€‚ Docker çš„ä¼˜ç‚¹ï¼š Docker æ˜¯ä¸€ä¸ªç”¨äºå¼€å‘ï¼Œäº¤ä»˜å’Œè¿è¡Œåº”ç”¨ç¨‹åºçš„å¼€æ”¾å¹³å°ã€‚Docker ä½¿æ‚¨èƒ½å¤Ÿå°†åº”ç”¨ç¨‹åºä¸åŸºç¡€æ¶æ„åˆ†å¼€ï¼Œä»è€Œå¯ä»¥å¿«é€Ÿäº¤ä»˜è½¯ä»¶ã€‚å€ŸåŠ© Dockerï¼Œæ‚¨å¯ä»¥ä¸ç®¡ç†åº”ç”¨ç¨‹åºç›¸åŒçš„æ–¹å¼æ¥ç®¡ç†åŸºç¡€æ¶æ„ã€‚é€šè¿‡åˆ©ç”¨ Docker çš„æ–¹æ³•æ¥å¿«é€Ÿäº¤ä»˜ï¼Œæµ‹è¯•å’Œéƒ¨ç½²ä»£ç ï¼Œæ‚¨å¯ä»¥å¤§å¤§å‡å°‘ç¼–å†™ä»£ç å’Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¿è¡Œä»£ç ä¹‹é—´çš„å»¶è¿Ÿã€‚ å¿«é€Ÿï¼Œä¸€è‡´åœ°äº¤ä»˜æ‚¨çš„åº”ç”¨ç¨‹åº å“åº”å¼éƒ¨ç½²å’Œæ‰©å±• åœ¨åŒä¸€ç¡¬ä»¶ä¸Šè¿è¡Œæ›´å¤šå·¥ä½œè´Ÿè½½ ","date":"2022-03-27","objectID":"/%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%B8%A6libgdiplus%E7%9A%84dotnetcore%E5%9F%BA%E7%A1%80%E9%95%9C%E5%83%8F/:1:0","tags":["Docker",".NET","linux"],"title":"æ„å»ºä¸€ä¸ªå¸¦libgdiplusçš„DotNetCoreåŸºç¡€Dockeré•œåƒ","uri":"/%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%B8%A6libgdiplus%E7%9A%84dotnetcore%E5%9F%BA%E7%A1%80%E9%95%9C%E5%83%8F/"},{"categories":["å®è·µç¬”è®°"],"content":"Docker å‘½ä»¤ è¯¦ç»†å‘½ä»¤å¯ä»¥æŸ¥çœ‹Docker å‘½ä»¤å¤§å…¨ ","date":"2022-03-27","objectID":"/%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%B8%A6libgdiplus%E7%9A%84dotnetcore%E5%9F%BA%E7%A1%80%E9%95%9C%E5%83%8F/:2:0","tags":["Docker",".NET","linux"],"title":"æ„å»ºä¸€ä¸ªå¸¦libgdiplusçš„DotNetCoreåŸºç¡€Dockeré•œåƒ","uri":"/%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%B8%A6libgdiplus%E7%9A%84dotnetcore%E5%9F%BA%E7%A1%80%E9%95%9C%E5%83%8F/"},{"categories":["å®è·µç¬”è®°"],"content":"å¸¸ç”¨é•œåƒå‘½ä»¤ 1. æŸ¥çœ‹æœåŠ¡å™¨ä¸­ Docker é•œåƒåˆ—è¡¨ docker images 2. æœç´¢é•œåƒ docker search é•œåƒå 3. æ‹‰å–é•œåƒï¼ˆä¸åŠ tag(ç‰ˆæœ¬å·)å°±é»˜è®¤æ‹‰å–Dockerä»“åº“ä¸­è¯¥é•œåƒçš„æœ€æ–°ç‰ˆæœ¬latest; åŠ :tagåˆ™æ˜¯æ‹‰å–æŒ‡å®šç‰ˆæœ¬ï¼‰ docker pull é•œåƒå docker pull é•œåƒå:v1 4. è¿è¡Œé•œåƒ docker run -itd --name=\"nginx\" --restart=always -p 80:80 -v /data:/data nginx:latest 5. åˆ é™¤é•œåƒ docker rmi -f é•œåƒå/é•œåƒID 6. ä¿å­˜é•œåƒ docker save nginx -o /nginx.tar 7. åŠ è½½é•œåƒ docker load -i é•œåƒæ–‡ä»¶ä½ç½® ","date":"2022-03-27","objectID":"/%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%B8%A6libgdiplus%E7%9A%84dotnetcore%E5%9F%BA%E7%A1%80%E9%95%9C%E5%83%8F/:2:1","tags":["Docker",".NET","linux"],"title":"æ„å»ºä¸€ä¸ªå¸¦libgdiplusçš„DotNetCoreåŸºç¡€Dockeré•œåƒ","uri":"/%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%B8%A6libgdiplus%E7%9A%84dotnetcore%E5%9F%BA%E7%A1%80%E9%95%9C%E5%83%8F/"},{"categories":["å®è·µç¬”è®°"],"content":"å¸¸ç”¨å®¹å™¨å‘½ä»¤ 1. æŸ¥çœ‹æ­£åœ¨è¿è¡Œå®¹å™¨åˆ—è¡¨ docker ps 2. æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ docker ps -a 3. åœæ­¢å®¹å™¨ docker stop å®¹å™¨å/å®¹å™¨ID 4. åˆ é™¤å®¹å™¨ docker rm -f å®¹å™¨å/å®¹å™¨ID 5. è¿›å…¥å®¹å™¨æ–¹å¼ docker exec -it å®¹å™¨å/å®¹å™¨ID /bin/bash exit/ctl+p+q #é€€å‡º 6. é‡å¯å®¹å™¨ docker restart å®¹å™¨å/å®¹å™¨ID 7. å¯åŠ¨å®¹å™¨ docker start å®¹å™¨å/å®¹å™¨ID 8. kill å®¹å™¨ docker kill å®¹å™¨å/å®¹å™¨ID 9. å®¹å™¨æ–‡ä»¶æ‹·è´ docker cp å®¹å™¨å/ID:å®¹å™¨å†…è·¯å¾„ å®¹å™¨å¤–è·¯å¾„ #å®¹å™¨å†…æ‹·å‡º docker cp å®¹å™¨å¤–è·¯å¾„ å®¹å™¨å/ID:å®¹å™¨å†…è·¯å¾„ #å®¹å™¨å¤–æ‹·å…¥ 10. æŸ¥çœ‹å®¹å™¨æ—¥å¿— docker logs -f --tail=100 å®¹å™¨ #tailæŸ¥çœ‹æœ«å°¾å¤šå°‘è¡Œ é»˜è®¤all 11. ä¿®æ”¹å­˜åœ¨å®¹å™¨çš„å¯åŠ¨é…ç½® docker update --restart=always å®¹å™¨ 12. æ›´æ¢å®¹å™¨å docker rename å®¹å™¨ å®¹å™¨æ–°åå­— 13. é€šè¿‡å®¹å™¨æäº¤é•œåƒï¼ï¼ï¼### docker commit -a=\"æäº¤ä½œè€…\" -m=\"æäº¤ä¿¡æ¯\" å®¹å™¨ æäº¤é•œåƒ:tag ","date":"2022-03-27","objectID":"/%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%B8%A6libgdiplus%E7%9A%84dotnetcore%E5%9F%BA%E7%A1%80%E9%95%9C%E5%83%8F/:2:2","tags":["Docker",".NET","linux"],"title":"æ„å»ºä¸€ä¸ªå¸¦libgdiplusçš„DotNetCoreåŸºç¡€Dockeré•œåƒ","uri":"/%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%B8%A6libgdiplus%E7%9A%84dotnetcore%E5%9F%BA%E7%A1%80%E9%95%9C%E5%83%8F/"},{"categories":["å®è·µç¬”è®°"],"content":"Docker è¿ç»´å‘½ä»¤ 1. æŸ¥çœ‹Dockerå·¥ä½œç›®å½• sudo docker info | grep \"Docker Root Dir\" 2. æŸ¥çœ‹Dockerç£ç›˜å ç”¨æ€»ä½“æƒ…å†µ du -hs /var/lib/docker/ 3. æŸ¥çœ‹Dockerçš„ç£ç›˜ä½¿ç”¨å…·ä½“æƒ…å†µ docker system df 4. åˆ é™¤æ— ç”¨çš„å®¹å™¨å’Œé•œåƒ docker rm `docker ps -a | grep Exited | awk '{print $1}'` docker rmi -f `docker images | grep '\u003cnone\u003e' | awk '{print $3}'` 5. æ¸…é™¤æ‰€æœ‰æ— å®¹å™¨ä½¿ç”¨çš„é•œåƒ docker system prune -a 6. æŸ¥æ‰¾å¤§æ–‡ä»¶ find / -type f -size +100M -print0 | xargs -0 du -h | sort -nr 7. æŸ¥æ‰¾æŒ‡å®šDockerä½¿ç”¨ç›®å½•ä¸‹å¤§äºæŒ‡å®šå¤§å°æ–‡ä»¶ find / -type f -size +100M -print0 | xargs -0 du -h | sort -nr | grep '/var/lib/docker/overlap2/*' ","date":"2022-03-27","objectID":"/%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%B8%A6libgdiplus%E7%9A%84dotnetcore%E5%9F%BA%E7%A1%80%E9%95%9C%E5%83%8F/:2:3","tags":["Docker",".NET","linux"],"title":"æ„å»ºä¸€ä¸ªå¸¦libgdiplusçš„DotNetCoreåŸºç¡€Dockeré•œåƒ","uri":"/%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%B8%A6libgdiplus%E7%9A%84dotnetcore%E5%9F%BA%E7%A1%80%E9%95%9C%E5%83%8F/"},{"categories":["å®è·µç¬”è®°"],"content":"æ„å»ºä¸€ä¸ªå¸¦libgdiplusçš„DotNetCoreåŸºç¡€é•œåƒ é€šè¿‡Dockeræ‹‰å–ä¸€ä¸ª.netcore3.1åŸºç¡€é•œåƒï¼šdocker pull mcr.microsoft.com/dotnet/aspnet:3.1 è¿›å…¥å®¹å™¨ï¼šdocker run -it mcr.microsoft.com/dotnet/aspnet:3.1 /bin/bash å®‰è£…libgdiplusï¼š apt-get update -y apt-get install -y libgdiplus apt-get clean ln -s /usr/lib/libgdiplus.so /usr/lib/gdiplus.dll æäº¤ä¸ºæ–°é•œåƒï¼šdocker commit -a=\"Lesan\" -m=\"added libgdiplus based on .netcore3.1\" 28a66ebccd55 dotnetcore-with-libgdiplus:v3.1 ä¿®æ”¹é¡¹ç›®DockerfileåŸºç¡€é•œåƒä¸ºåˆšåˆšæ„å»ºçš„è‡ªå®šä¹‰é•œåƒdotnetcore-with-libgdiplus:v3.1 å€Ÿé‰´å‚è€ƒä»¥ä¸‹æ–‡ç« ï¼š https://blog.csdn.net/leilei1366615/article/details/106267225 https://www.runoob.com/docker/docker-command-manual.html https://blog.csdn.net/u014374975/article/details/115436174 ","date":"2022-03-27","objectID":"/%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%B8%A6libgdiplus%E7%9A%84dotnetcore%E5%9F%BA%E7%A1%80%E9%95%9C%E5%83%8F/:3:0","tags":["Docker",".NET","linux"],"title":"æ„å»ºä¸€ä¸ªå¸¦libgdiplusçš„DotNetCoreåŸºç¡€Dockeré•œåƒ","uri":"/%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%B8%A6libgdiplus%E7%9A%84dotnetcore%E5%9F%BA%E7%A1%80%E9%95%9C%E5%83%8F/"},{"categories":["å®è·µç¬”è®°"],"content":"æœ¬ç¬”è®°ä¸ºDockerä¸Kubernetesçš„å­¦ä¹ ç¬”è®° ","date":"2022-03-27","objectID":"/%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8docker%E4%B8%8Ekubernetes/:0:0","tags":["Docker","K8S",".NET"],"title":"å­¦ä¹ ä½¿ç”¨Dockerä¸Kubernetes","uri":"/%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8docker%E4%B8%8Ekubernetes/"},{"categories":["å®è·µç¬”è®°"],"content":"å°†.NET Coreçš„é¡¹ç›®å‘å¸ƒä¸ºDockeré•œåƒ ","date":"2022-03-27","objectID":"/%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8docker%E4%B8%8Ekubernetes/:1:0","tags":["Docker","K8S",".NET"],"title":"å­¦ä¹ ä½¿ç”¨Dockerä¸Kubernetes","uri":"/%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8docker%E4%B8%8Ekubernetes/"},{"categories":["å®è·µç¬”è®°"],"content":"é€šè¿‡VSæ”¯æŒåˆ›å»ºDockeré•œåƒ ç¬¬ä¸€æ­¥ï¼Œåˆ›å»ºä¸€ä¸ªç©ºçš„.NET Coreé¡¹ç›®ï¼Œç”¨æ¥æµ‹è¯• ç¬¬äºŒæ­¥ï¼Œä¸ºé¡¹ç›®æ·»åŠ Dockeræ”¯æŒ æ·»åŠ æˆåŠŸåä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºDockerfileï¼Œä»¥åŠåœ¨Docker Desktopä¸­åˆ›å»ºå¯¹åº”çš„imageåŠcontainerï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º ","date":"2022-03-27","objectID":"/%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8docker%E4%B8%8Ekubernetes/:1:1","tags":["Docker","K8S",".NET"],"title":"å­¦ä¹ ä½¿ç”¨Dockerä¸Kubernetes","uri":"/%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8docker%E4%B8%8Ekubernetes/"},{"categories":["å®è·µç¬”è®°"],"content":"é€šè¿‡å·²å‘å¸ƒçš„æ–‡ä»¶åŒ…åˆ›å»ºDockeré•œåƒ ç¬¬ä¸€æ­¥ï¼Œå°†é¡¹ç›®å‘å¸ƒåˆ°æ–‡ä»¶å¤¹ ç¬¬äºŒæ­¥ï¼Œå»åˆ°å‘å¸ƒçš„æ–‡ä»¶å¤¹ä¸‹ï¼Œæ·»åŠ Dockerfileæ¥æ„å»ºé•œåƒ FROMmcr.microsoft.com/dotnet/core/aspnet:3.1-buster-slim AS base# é…ç½®å·¥ä½œç›®å½•WORKDIR/app# æš´éœ²å®¹å™¨ç«¯å£EXPOSE80EXPOSE443# è®¾ç½®æ—¶åŒºENV TZ = Asia/shanghaiRUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime \u0026\u0026 $TZ \u003e /etc/timezone #æ‰§è¡Œå‘½ä»¤# å¤åˆ¶æ–‡ä»¶åˆ°å·¥ä½œç›®å½•COPY . .#æŒ‡å®šæ‰§è¡Œç¨‹åºENTRYPOINT [\"dotnet\", \"DockerAndK8s.dll\"] ç¬¬ä¸‰æ­¥ï¼Œé€šè¿‡Dockerå‘½ä»¤è¿›è¡Œæ„å»ºé•œåƒ ç¬¬äº”æ­¥ï¼Œå¯åŠ¨é•œåƒ æœ€åï¼Œåœ¨æµè§ˆå™¨ä¸­è®¿é—®å¯ä»¥å‘ç°æˆåŠŸéƒ¨ç½² ","date":"2022-03-27","objectID":"/%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8docker%E4%B8%8Ekubernetes/:1:2","tags":["Docker","K8S",".NET"],"title":"å­¦ä¹ ä½¿ç”¨Dockerä¸Kubernetes","uri":"/%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8docker%E4%B8%8Ekubernetes/"},{"categories":["å®è·µç¬”è®°"],"content":"å°†é•œåƒå‘å¸ƒåˆ°Docker Hub é€šè¿‡å‘½ä»¤è¡Œè¿›è¡Œ F:\\Visual Studio\\repos\\DockerAndK8s\\output\u003edocker tag dockerandk8s:v1 lesan0u0/dockerandk8s:v1 F:\\Visual Studio\\repos\\DockerAndK8s\\output\u003edocker push lesan0u0/dockerandk8s:v1 ","date":"2022-03-27","objectID":"/%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8docker%E4%B8%8Ekubernetes/:1:3","tags":["Docker","K8S",".NET"],"title":"å­¦ä¹ ä½¿ç”¨Dockerä¸Kubernetes","uri":"/%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8docker%E4%B8%8Ekubernetes/"},{"categories":["å®è·µç¬”è®°"],"content":"æ·»åŠ Kubernetesæ”¯æŒ Kubernetesçš„å®‰è£…ä¸ä½¿ç”¨é€šè¿‡æœ¬ç¯‡æ–‡ç«  ASP.NET Core on K8Så­¦ä¹ åˆæ¢ï¼ˆ1ï¼‰K8Så•èŠ‚ç‚¹ç¯å¢ƒæ­å»º ç¬¬ä¸€æ­¥ï¼Œæ‰“å¼€æ§åˆ¶é¢æ¿ kubectl create -f kubernetes-dashboard.yaml // éƒ¨ç½²Kubernetes dashboard kubectl get pod -n kubernetes-dashboard // æ£€æŸ¥ kubernetes-dashboard åº”ç”¨çŠ¶æ€ kubectl proxy // å¼€å¯ API Server è®¿é—®ä»£ç† //dashboardåœ°å€ http://localhost:8001/api/v1/namespaces/kubernetes-dashboard/services/https:kubernetes-dashboard:/proxy/ // æ§åˆ¶å°è®¿é—®ä»¤ç‰Œ $TOKEN=((kubectl -n kube-system describe secret default | Select-String \"token:\") -split \" +\")[1] kubectl config set-credentials docker-desktop --token=\"${TOKEN}\" echo $TOKEN ç¬¬äºŒæ­¥ï¼Œå‡†å¤‡Department YAML apiVersion:apps/v1kind:Deploymentmetadata:name:dockerandk8snamespace:testlabels:name:dockerandk8sspec:replicas:2selector:matchLabels:name:dockerandk8stemplate:metadata:labels:name:dockerandk8sspec:containers:- name:dockerandk8simage:lesan0u0/dockerandk8s:v1ports:- containerPort:80imagePullPolicy:Always---kind:ServiceapiVersion:v1metadata:name:dockerandk8snamespace:testspec:type:NodePortports:- port:80targetPort:80selector:name:dockerandk8s ç¬¬ä¸‰æ­¥ï¼Œé€šè¿‡kubectléƒ¨ç½²åˆ°K8S kubectl create -f deploy.yaml //éƒ¨ç½² kubectl get svc -n aspnetcore //éªŒè¯ å¯ä»¥é€šè¿‡Dashboardæ¥æŸ¥çœ‹éƒ¨ç½²æƒ…å†µ æœ€åï¼Œå¤§åŠŸå‘Šæˆ ","date":"2022-03-27","objectID":"/%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8docker%E4%B8%8Ekubernetes/:2:0","tags":["Docker","K8S",".NET"],"title":"å­¦ä¹ ä½¿ç”¨Dockerä¸Kubernetes","uri":"/%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8docker%E4%B8%8Ekubernetes/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"ç®€ä»‹ Javaé›†åˆæ¡†æ¶ä¸ºç¨‹åºå‘˜æä¾›äº†é¢„å…ˆåŒ…è£…çš„æ•°æ®ç»“æ„å’Œç®—æ³•æ¥æ“çºµä»–ä»¬ã€‚è¿™ä½¿å¾—æˆ‘ä»¬ä½¿ç”¨å¤æ‚çš„æ•°æ®ç»“æ„å˜å¾—éå¸¸çš„æ–¹ä¾¿ï¼Œå¹¶ä¸”è¿™äº›é›†åˆæ¡†æ¶æ˜¯é«˜æ€§èƒ½çš„ï¼ŒåŸºæœ¬é›†åˆï¼ˆåŠ¨æ€æ•°ç»„ï¼Œé“¾è¡¨ï¼Œæ ‘ï¼Œå“ˆå¸Œè¡¨ï¼‰çš„å®ç°ä¹Ÿå¿…é¡»æ˜¯é«˜æ•ˆçš„ï¼›å…è®¸ä¸åŒç±»å‹çš„é›†åˆï¼Œä»¥ç±»ä¼¼çš„æ–¹å¼å·¥ä½œï¼Œå…·æœ‰é«˜åº¦çš„äº’æ“ä½œæ€§ã€‚ ä»ä¸Šé¢çš„é›†åˆæ¡†æ¶å›¾å¯ä»¥çœ‹åˆ°ï¼ŒJava é›†åˆæ¡†æ¶ä¸»è¦åŒ…æ‹¬ä¸¤ç§ç±»å‹çš„å®¹å™¨ï¼Œä¸€ç§æ˜¯é›†åˆï¼ˆCollectionï¼‰ï¼Œå­˜å‚¨ä¸€ä¸ªå…ƒç´ é›†åˆï¼Œå¦ä¸€ç§æ˜¯å›¾ï¼ˆMapï¼‰ï¼Œå­˜å‚¨é”®/å€¼å¯¹æ˜ å°„ã€‚Collection æ¥å£åˆæœ‰ 3 ç§å­ç±»å‹ï¼ŒListã€Set å’Œ Queueï¼Œå†ä¸‹é¢æ˜¯ä¸€äº›æŠ½è±¡ç±»ï¼Œæœ€åæ˜¯å…·ä½“å®ç°ç±»ï¼Œå¸¸ç”¨çš„æœ‰ ArrayListã€LinkedListã€HashSetã€LinkedHashSetã€HashMapã€LinkedHashMap ç­‰ç­‰ã€‚ é›†åˆæ¡†æ¶æ˜¯ä¸€ä¸ªç”¨æ¥ä»£è¡¨å’Œæ“çºµé›†åˆçš„ç»Ÿä¸€æ¶æ„ã€‚æ‰€æœ‰çš„é›†åˆæ¡†æ¶éƒ½åŒ…å«å¦‚ä¸‹å†…å®¹ï¼š **æ¥å£ï¼š**æ˜¯ä»£è¡¨é›†åˆçš„æŠ½è±¡æ•°æ®ç±»å‹ã€‚ä¾‹å¦‚ Collectionã€Listã€Setã€Map ç­‰ã€‚ä¹‹æ‰€ä»¥å®šä¹‰å¤šä¸ªæ¥å£ï¼Œæ˜¯ä¸ºäº†ä»¥ä¸åŒçš„æ–¹å¼æ“ä½œé›†åˆå¯¹è±¡ **å®ç°ï¼ˆç±»ï¼‰ï¼š**æ˜¯é›†åˆæ¥å£çš„å…·ä½“å®ç°ã€‚ä»æœ¬è´¨ä¸Šè®²ï¼Œå®ƒä»¬æ˜¯å¯é‡å¤ä½¿ç”¨çš„æ•°æ®ç»“æ„ï¼Œä¾‹å¦‚ï¼šArrayListã€LinkedListã€HashSetã€HashMapã€‚ **ç®—æ³•ï¼š**æ˜¯å®ç°é›†åˆæ¥å£çš„å¯¹è±¡é‡Œçš„æ–¹æ³•æ‰§è¡Œçš„ä¸€äº›æœ‰ç”¨çš„è®¡ç®—ï¼Œä¾‹å¦‚ï¼šæœç´¢å’Œæ’åºã€‚è¿™äº›ç®—æ³•è¢«ç§°ä¸ºå¤šæ€ï¼Œé‚£æ˜¯å› ä¸ºç›¸åŒçš„æ–¹æ³•å¯ä»¥åœ¨ç›¸ä¼¼çš„æ¥å£ä¸Šæœ‰ç€ä¸åŒçš„å®ç°ã€‚ é™¤äº†é›†åˆï¼Œè¯¥æ¡†æ¶ä¹Ÿå®šä¹‰äº†å‡ ä¸ª Map æ¥å£å’Œç±»ã€‚Map é‡Œå­˜å‚¨çš„æ˜¯é”®/å€¼å¯¹ã€‚å°½ç®¡ Map ä¸æ˜¯é›†åˆï¼Œä½†æ˜¯å®ƒä»¬å®Œå…¨æ•´åˆåœ¨é›†åˆä¸­ã€‚ Java é›†åˆæ¡†æ¶æä¾›äº†ä¸€å¥—æ€§èƒ½ä¼˜è‰¯ï¼Œä½¿ç”¨æ–¹ä¾¿çš„æ¥å£å’Œç±»ï¼Œjavaé›†åˆæ¡†æ¶ä½äºjava.utilåŒ…ä¸­ï¼Œ æ‰€ä»¥å½“ä½¿ç”¨é›†åˆæ¡†æ¶çš„æ—¶å€™éœ€è¦è¿›è¡Œå¯¼åŒ…ã€‚ ä¸‹é¢æˆ‘ä»¬å°±åˆ†åˆ«è¯¦ç»†ä»‹ç»é›†åˆæ¡†æ¶ä¸­çš„æ¯ä¸ªæ•°æ®ç»“æ„ï¼ ","date":"2022-03-20","objectID":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/:1:0","tags":["Java"],"title":"Javaé›†åˆå­¦ä¹ ","uri":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"Listæ¥å£ ","date":"2022-03-20","objectID":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/:2:0","tags":["Java"],"title":"Javaé›†åˆå­¦ä¹ ","uri":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"ç®€ä»‹ Listé›†åˆä»£è¡¨ä¸€ä¸ªæœ‰åºã€å¯é‡å¤é›†åˆï¼Œé›†åˆä¸­æ¯ä¸ªå…ƒç´ éƒ½æœ‰å…¶å¯¹åº”çš„é¡ºåºç´¢å¼•ã€‚Listé›†åˆé»˜è®¤æŒ‰ç…§å…ƒç´ çš„æ·»åŠ é¡ºåºè®¾ç½®å…ƒç´ çš„ç´¢å¼•ï¼Œå¯ä»¥é€šè¿‡ç´¢å¼•ï¼ˆç±»ä¼¼æ•°ç»„çš„ä¸‹æ ‡ï¼‰æ¥è®¿é—®æŒ‡å®šä½ç½®çš„é›†åˆå…ƒç´ ã€‚ å®ç°Listæ¥å£çš„é›†åˆä¸»è¦æœ‰ï¼šArrayListã€LinkedListã€Vectorã€Stackã€‚ |â€“List:å…ƒç´ æ˜¯æœ‰åºçš„(æ€ä¹ˆå­˜çš„å°±æ€ä¹ˆå–å‡ºæ¥ï¼Œé¡ºåºä¸ä¼šä¹±)ï¼Œå…ƒç´ å¯ä»¥é‡å¤ï¼ˆè§’æ ‡1ä¸Šæœ‰ä¸ª3ï¼Œè§’æ ‡2ä¸Šä¹Ÿå¯ä»¥æœ‰ä¸ª3ï¼‰å› ä¸ºè¯¥é›†åˆä½“ç³»æœ‰ç´¢å¼• â€‹ |â€“ ArrayListï¼šåº•å±‚çš„æ•°æ®ç»“æ„ä½¿ç”¨çš„æ˜¯æ•°ç»„ç»“æ„ï¼ˆæ•°ç»„é•¿åº¦æ˜¯å¯å˜çš„ç™¾åˆ†ä¹‹äº”åå»¶é•¿ï¼‰ï¼ˆç‰¹ç‚¹æ˜¯æŸ¥è¯¢å¾ˆå¿«ï¼Œä½†å¢åˆ è¾ƒæ…¢ï¼‰çº¿ç¨‹ä¸åŒæ­¥ â€‹ |â€“ LinkedListï¼šåº•å±‚çš„æ•°æ®ç»“æ„æ˜¯é“¾è¡¨ç»“æ„ï¼ˆç‰¹ç‚¹æ˜¯æŸ¥è¯¢è¾ƒæ…¢ï¼Œå¢åˆ è¾ƒå¿«ï¼‰ çº¿ç¨‹ä¸åŒæ­¥ â€‹ |â€“ Vectorï¼šåº•å±‚æ˜¯æ•°ç»„æ•°æ®ç»“æ„ çº¿ç¨‹åŒæ­¥ï¼ˆæ•°ç»„é•¿åº¦æ˜¯å¯å˜çš„ç™¾åˆ†ä¹‹ç™¾å»¶é•¿ï¼‰ï¼ˆæ— è®ºæŸ¥è¯¢è¿˜æ˜¯å¢åˆ éƒ½å¾ˆæ…¢ï¼Œè¢«ArrayListæ›¿ä»£äº†ï¼‰ Listæ’åºé€šç”¨æ–¹æ³• Collections.sort(list, new Comparator() { public int compare(Student s1, Student s2) { //å…ˆæŒ‰æˆç»© é™åº æ’åºï¼Œå¦‚æœæˆç»©ä¸€æ ·çš„è¯æŒ‰id å‡åº æ’åº if(s1.getScore()\u003es2.getScore()){ //greater return -1; }else if(s1.getScore()==s2.getScore()){ //equals if(s1.getId()\u003es2.getId()){ return 1; }else if(s1.getId()==s2.getId()){ return 0; }else{ return -1; } }else{ //less return 1; }ã€€} }); Listé€šç”¨æ–¹æ³• List list = new ArrayList(); // å‘åˆ—è¡¨çš„å°¾éƒ¨è¿½åŠ æŒ‡å®šçš„å…ƒç´  list.add(\"lwc\"); // åœ¨åˆ—è¡¨çš„æŒ‡å®šä½ç½®æ’å…¥æŒ‡å®šå…ƒç´  list.add(1, \"nxj\"); // è¿½åŠ æŒ‡å®š collection ä¸­çš„æ‰€æœ‰å…ƒç´ åˆ°æ­¤åˆ—è¡¨çš„ç»“å°¾ list.addAll(new ArrayList()); // ä»åˆ—è¡¨ä¸­ç§»é™¤æ‰€æœ‰å…ƒç´  list.clear(); // å¦‚æœåˆ—è¡¨åŒ…å«æŒ‡å®šçš„å…ƒç´ ,åˆ™è¿”å›true list.contains(\"nxj\"); // å¦‚æœåˆ—è¡¨åŒ…å«æŒ‡å®š collection çš„æ‰€æœ‰å…ƒç´ ,åˆ™è¿”å› true list.containsAll(new ArrayList()); // æ¯”è¾ƒæŒ‡å®šçš„å¯¹è±¡ä¸åˆ—è¡¨æ˜¯å¦ç›¸ç­‰ list.equals(new ArrayList()); // è¿”å›åˆ—è¡¨ä¸­æŒ‡å®šä½ç½®çš„å…ƒç´  list.get(0); // è¿”å›åˆ—è¡¨çš„å“ˆå¸Œç å€¼ list.hashCode(); // è¿”å›åˆ—è¡¨ä¸­é¦–æ¬¡å‡ºç°æŒ‡å®šå…ƒç´ çš„ç´¢å¼•,å¦‚æœåˆ—è¡¨ä¸åŒ…å«æ­¤å…ƒç´ ,åˆ™è¿”å› -1 list.indexOf(\"lwc\"); // è¿”å›åˆ—è¡¨ä¸­æœ€åå‡ºç°æŒ‡å®šå…ƒç´ çš„ç´¢å¼•,å¦‚æœåˆ—è¡¨ä¸åŒ…å«æ­¤å…ƒç´ ,åˆ™è¿”å› -1 list.lastIndexOf(\"lwc\"); // å¦‚æœåˆ—è¡¨ä¸åŒ…å«å…ƒç´ ,åˆ™è¿”å› true list.isEmpty(); // ç§»é™¤åˆ—è¡¨ä¸­æŒ‡å®šä½ç½®çš„å…ƒç´  list.remove(0); // ç§»é™¤åˆ—è¡¨ä¸­å‡ºç°çš„é¦–ä¸ªæŒ‡å®šå…ƒç´  list.remove(\"lwc\"); // ä»åˆ—è¡¨ä¸­ç§»é™¤æŒ‡å®š collection ä¸­åŒ…å«çš„æ‰€æœ‰å…ƒç´  list.removeAll(new ArrayList()); // ç”¨æŒ‡å®šå…ƒç´ æ›¿æ¢åˆ—è¡¨ä¸­æŒ‡å®šä½ç½®çš„å…ƒç´  list.set(0, \"lp\"); // è¿”å›åˆ—è¡¨ä¸­çš„å…ƒç´ æ•° list.size(); // è¿”å›åˆ—è¡¨ä¸­æŒ‡å®šçš„fromIndex(åŒ…æ‹¬)å’ŒtoIndex(ä¸åŒ…æ‹¬)ä¹‹é—´çš„éƒ¨åˆ†è§†å›¾ list.subList(1, 2); // è¿”å›ä»¥æ­£ç¡®é¡ºåºåŒ…å«åˆ—è¡¨ä¸­çš„æ‰€æœ‰å…ƒç´ çš„æ•°ç»„ list.toArray(); // è¿”å›ä»¥æ­£ç¡®é¡ºåºåŒ…å«åˆ—è¡¨ä¸­æ‰€æœ‰å…ƒç´ çš„æ•°ç»„ list.toArray(new String[] { \"a\", \"b\" }); Listé€šç”¨éå† // è¿­ä»£æ–¹å¼ // ç¬¬ä¸€ç§for-sizeå¾ªç¯ for (int i = 0; i \u003c sites.size(); i++) { System.out.println(sites.get(i)); } // ç¬¬äºŒç§for-eachå¾ªç¯ for (String i : sites) { System.out.println(i); } // ç¬¬ä¸‰ç§Iteratorå¾ªç¯ for(Iterator\u003cString\u003e it = sites.iterator(); it.hasNext();){ String value=it.next(); } ","date":"2022-03-20","objectID":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/:2:1","tags":["Java"],"title":"Javaé›†åˆå­¦ä¹ ","uri":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"ArrayListç±» ArrayListæ˜¯ä¸€ä¸ªåŠ¨æ€æ•°ç»„ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬æœ€å¸¸ç”¨çš„é›†åˆï¼Œæ˜¯Listç±»çš„å…¸å‹å®ç°ã€‚å®ƒå…è®¸ä»»ä½•ç¬¦åˆè§„åˆ™çš„å…ƒç´ æ’å…¥ç”šè‡³åŒ…æ‹¬nullã€‚æ¯ä¸€ä¸ªArrayListéƒ½æœ‰ä¸€ä¸ªåˆå§‹å®¹é‡ï¼ˆ10ï¼‰ï¼Œè¯¥å®¹é‡ä»£è¡¨äº†æ•°ç»„çš„å¤§å°ã€‚éšç€å®¹å™¨ä¸­çš„å…ƒç´ ä¸æ–­å¢åŠ ï¼Œå®¹å™¨çš„å¤§å°ä¹Ÿä¼šéšç€å¢åŠ ã€‚åœ¨æ¯æ¬¡å‘å®¹å™¨ä¸­å¢åŠ å…ƒç´ çš„åŒæ—¶éƒ½ä¼šè¿›è¡Œå®¹é‡æ£€æŸ¥ï¼Œå½“å¿«æº¢å‡ºæ—¶ï¼Œå°±ä¼šè¿›è¡Œæ‰©å®¹æ“ä½œã€‚æ‰€ä»¥å¦‚æœæˆ‘ä»¬æ˜ç¡®æ‰€æ’å…¥å…ƒç´ çš„å¤šå°‘ï¼Œæœ€å¥½æŒ‡å®šä¸€ä¸ªåˆå§‹å®¹é‡å€¼ï¼Œé¿å…è¿‡å¤šçš„è¿›è¡Œæ‰©å®¹æ“ä½œè€Œæµªè´¹æ—¶é—´ã€æ•ˆç‡ã€‚ ç¤ºä¾‹ï¼š import java.util.ArrayList; public class Test { public static void main(String[] args) { ArrayList\u003cString\u003e sites = new ArrayList\u003cString\u003e(); // åˆ›å»ºArrayList sites.add(\"Google\"); // æ·»åŠ å…ƒç´  sites.add(\"Runoob\"); sites.add(\"Taobao\"); sites.add(\"Weibo\"); sites.set(2, \"Wiki\"); // ä¿®æ”¹å…ƒç´  sites.remove(3); // åˆ é™¤å…ƒç´ ï¼Œä¸‹æ ‡ä¸º3çš„å…ƒç´ ï¼Œå°±æ˜¯ç¬¬å››ä¸ªå…ƒç´  System.out.println(sites.get(1)); // è®¿é—®å…ƒç´  System.out.println(sites.size()); // è·å–å¤§å° // å°† lambda è¡¨è¾¾å¼ä¼ é€’ç»™ forEach numbers.forEach((e) -\u003e { e = e * 10; System.out.print(e + \" \"); }); } } ","date":"2022-03-20","objectID":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/:2:2","tags":["Java"],"title":"Javaé›†åˆå­¦ä¹ ","uri":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"LinkedListç±» é“¾è¡¨ï¼ˆLinked listï¼‰æ˜¯ä¸€ç§å¸¸è§çš„åŸºç¡€æ•°æ®ç»“æ„ï¼Œæ˜¯ä¸€ç§çº¿æ€§è¡¨ï¼Œä½†æ˜¯å¹¶ä¸ä¼šæŒ‰çº¿æ€§çš„é¡ºåºå­˜å‚¨æ•°æ®ï¼Œè€Œæ˜¯åœ¨æ¯ä¸€ä¸ªèŠ‚ç‚¹é‡Œå­˜åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„åœ°å€ã€‚é“¾è¡¨å¯åˆ†ä¸ºå•å‘é“¾è¡¨å’ŒåŒå‘é“¾è¡¨ã€‚Java LinkedListï¼ˆé“¾è¡¨ï¼‰ ç±»ä¼¼äº ArrayListï¼Œæ˜¯ä¸€ç§å¸¸ç”¨çš„æ•°æ®å®¹å™¨ã€‚ä¸ ArrayList ç›¸æ¯”ï¼ŒLinkedList çš„å¢åŠ å’Œåˆ é™¤çš„æ“ä½œæ•ˆç‡æ›´é«˜ï¼Œè€ŒæŸ¥æ‰¾å’Œä¿®æ”¹çš„æ“ä½œæ•ˆç‡è¾ƒä½ã€‚ ä»¥ä¸‹æƒ…å†µä½¿ç”¨ ArrayList : é¢‘ç¹è®¿é—®åˆ—è¡¨ä¸­çš„æŸä¸€ä¸ªå…ƒç´ ã€‚ åªéœ€è¦åœ¨åˆ—è¡¨æœ«å°¾è¿›è¡Œæ·»åŠ å’Œåˆ é™¤å…ƒç´ æ“ä½œã€‚ ä»¥ä¸‹æƒ…å†µä½¿ç”¨ LinkedList : ä½ éœ€è¦é€šè¿‡å¾ªç¯è¿­ä»£æ¥è®¿é—®åˆ—è¡¨ä¸­çš„æŸäº›å…ƒç´ ã€‚ éœ€è¦é¢‘ç¹çš„åœ¨åˆ—è¡¨å¼€å¤´ã€ä¸­é—´ã€æœ«å°¾ç­‰ä½ç½®è¿›è¡Œæ·»åŠ å’Œåˆ é™¤å…ƒç´ æ“ä½œã€‚ LinkedList ç»§æ‰¿äº† AbstractSequentialList ç±»ã€‚ LinkedList å®ç°äº† Queue æ¥å£ï¼Œå¯ä½œä¸ºé˜Ÿåˆ—ä½¿ç”¨ã€‚ LinkedList å®ç°äº† List æ¥å£ï¼Œå¯è¿›è¡Œåˆ—è¡¨çš„ç›¸å…³æ“ä½œã€‚ LinkedList å®ç°äº† Deque æ¥å£ï¼Œå¯ä½œä¸ºé˜Ÿåˆ—ä½¿ç”¨ã€‚ LinkedList å®ç°äº† Cloneable æ¥å£ï¼Œå¯å®ç°å…‹éš†ã€‚ LinkedList å®ç°äº† java.io.Serializable æ¥å£ï¼Œå³å¯æ”¯æŒåºåˆ—åŒ–ï¼Œèƒ½é€šè¿‡åºåˆ—åŒ–å»ä¼ è¾“ã€‚ ç¤ºä¾‹ï¼š import java.util.LinkedList; public class Test { public static void main(String[] args) { LinkedList\u003cString\u003e sites = new LinkedList\u003cString\u003e(); //åˆ›å»ºLinkedList sites.add(\"Google\"); //æ·»åŠ å…ƒç´  sites.add(\"Runoob\"); sites.add(\"Taobao\"); sites.addFirst(\"Wiki\"); //å¤´éƒ¨æ·»åŠ å…ƒç´  sites.addLast(\"Weibo\"); //å°¾éƒ¨æ·»åŠ å…ƒç´  sites.removeFirst(); //ç§»é™¤å¤´éƒ¨å…ƒç´  sites.removeLast(); //ç§»é™¤å°¾éƒ¨å…ƒç´  System.out.println(sites.getFirst()); //è·å–å¤´éƒ¨å…ƒç´  System.out.println(sites.getLast()); //è·å–å°¾éƒ¨å…ƒç´  } } ","date":"2022-03-20","objectID":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/:2:3","tags":["Java"],"title":"Javaé›†åˆå­¦ä¹ ","uri":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"Setæ¥å£ ","date":"2022-03-20","objectID":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/:3:0","tags":["Java"],"title":"Javaé›†åˆå­¦ä¹ ","uri":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"ç®€ä»‹ Setä½“ç³»é›†åˆå¯ä»¥çŸ¥é“æŸç‰©æ˜¯å¦å·²è¿‘å­˜åœ¨äºé›†åˆä¸­,ä¸ä¼šå­˜å‚¨é‡å¤çš„å…ƒç´ ã€‚åŠ å…¥Setçš„æ¯ä¸ªå…ƒç´ å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œå¦åˆ™ï¼ŒSetæ˜¯ä¸ä¼šæŠŠå®ƒåŠ è¿›å»çš„ã€‚è¦æƒ³åŠ è¿›Setï¼ŒObjectå¿…é¡»å®šä¹‰equals()ï¼Œè¿™æ ·æ‰èƒ½æ ‡æ˜å¯¹è±¡çš„å”¯ä¸€æ€§ã€‚Setçš„æ¥å£å’ŒCollectionçš„ä¸€æ‘¸ä¸€æ ·ã€‚Setçš„æ¥å£ä¸ä¿è¯å®ƒä¼šç”¨å“ªç§é¡ºåºæ¥å­˜å‚¨å…ƒç´ ã€‚ |â€“Set â€‹ |â€“HashSet : ä¸ºå¿«é€ŸæŸ¥æ‰¾è®¾è®¡çš„Setã€‚å­˜å…¥HashSetçš„å¯¹è±¡å¿…é¡»å®šä¹‰hashCode()ã€‚ â€‹ |â€“TreeSet : ä¿å­˜æ¬¡åºçš„Set, åº•å±‚ä¸ºæ ‘ç»“æ„ã€‚ä½¿ç”¨å®ƒå¯ä»¥ä»Setä¸­æå–æœ‰åºçš„åºåˆ—ã€‚ â€‹ |â€“LinkedHashSet : å…·æœ‰HashSetçš„æŸ¥è¯¢é€Ÿåº¦ï¼Œä¸”å†…éƒ¨ä½¿ç”¨é“¾è¡¨ç»´æŠ¤å…ƒç´ çš„é¡ºåº(æ’å…¥çš„æ¬¡åº)ã€‚äºæ˜¯åœ¨ä½¿ç”¨è¿­ä»£å™¨éå†Setæ—¶ï¼Œç»“æœä¼šæŒ‰å…ƒç´ æ’å…¥çš„æ¬¡åºæ˜¾ç¤ºã€‚ Setæ’åº //æŠŠHashSetä¿å­˜åœ¨ArrayListé‡Œï¼Œå†ç”¨Collections.sort()æ–¹æ³•æ¯”è¾ƒ final HashSet\u003cInteger\u003e va = new HashSet\u003cInteger\u003e(); va.add(2007111315); va.add(2007111314); va.add(2007111318); va.add(2007111313); final List\u003cInteger\u003e list = new ArrayList\u003cInteger\u003e(); for(final Integer value : va){ list.add(value); } Collections.sort(list); System.out.println(list); //æŠŠè¿™ä¸ªHashSetåšä¸ºæ„é€ å‚æ•°æ”¾åˆ°TreeSetä¸­å°±å¯ä»¥æ’åºäº† final TreeSet ts = new TreeSet(va); ts.comparator(); System.out.println(ts); Setéå† //Iteratorè¿­ä»£éå† Set\u003cString\u003e set = new HashSet\u003cString\u003e(); Iterator\u003cString\u003e it = set.iterator(); while (it.hasNext()) { String str = it.next(); System.out.println(str); } //for-eachå¾ªç¯éå† for (String str : set) { System.out.println(str); } Setè½¬List //é€šè¿‡ArrayListè¿›è¡Œè½¬æ¢ List\u003cString\u003e list1 = new ArrayList\u003cString\u003e(set); //Listå®ç°ç±»è¿›è¡Œè½¬æ¢ List\u003cString\u003e list2 = new ArrayList\u003cString\u003e (); list2.addAll(set); ","date":"2022-03-20","objectID":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/:3:1","tags":["Java"],"title":"Javaé›†åˆå­¦ä¹ ","uri":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"HashSetç±» HashSetä½¿ç”¨çš„æ˜¯ç›¸å½“å¤æ‚çš„æ–¹å¼æ¥å­˜å‚¨å…ƒç´ çš„ï¼Œä½¿ç”¨HashSetèƒ½å¤Ÿæœ€å¿«çš„è·å–é›†åˆä¸­çš„å…ƒç´ ï¼Œæ•ˆç‡éå¸¸é«˜ï¼ˆä»¥ç©ºé—´æ¢æ—¶é—´ï¼‰ã€‚å®ƒä¼šæ ¹æ®hashcodeå’Œequalsæ¥åˆ¤æ–­æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æœhashcodeä¸€æ ·ï¼Œå¹¶ä¸”equalsè¿”å›trueï¼Œåˆ™æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œä¸èƒ½é‡å¤å­˜æ”¾ã€‚ |â€“HashSet åº•å±‚æ˜¯ç”±HashMapå®ç°çš„ï¼Œé€šè¿‡å¯¹è±¡çš„hashCodeæ–¹æ³•ä¸equalsæ–¹æ³•æ¥ä¿è¯æ’å…¥å…ƒç´ çš„å”¯ä¸€æ€§ï¼Œæ— åº(å­˜å‚¨é¡ºåºå’Œå–å‡ºé¡ºåºä¸ä¸€è‡´)ï¼Œã€‚ â€‹ |â€“LinkedHashSet åº•å±‚æ•°æ®ç»“æ„ç”±å“ˆå¸Œè¡¨å’Œé“¾è¡¨ç»„æˆã€‚å“ˆå¸Œè¡¨ä¿è¯å…ƒç´ çš„å”¯ä¸€æ€§ï¼Œé“¾è¡¨ä¿è¯å…ƒç´ æœ‰åºã€‚(å­˜å‚¨å’Œå–å‡ºæ˜¯ä¸€è‡´) LinkedHashSetç±» LinkedHashSetæ˜¯HashSetçš„ä¸€ä¸ªå­ç±»ï¼Œå…·æœ‰HashSetçš„ç‰¹æ€§ï¼Œä¹Ÿæ˜¯æ ¹æ®å…ƒç´ çš„hashCodeå€¼æ¥å†³å®šå…ƒç´ çš„å­˜å‚¨ä½ç½®ã€‚ä½†å®ƒä½¿ç”¨é“¾è¡¨ç»´æŠ¤å…ƒç´ çš„æ¬¡åºï¼Œå…ƒç´ çš„é¡ºåºä¸æ·»åŠ é¡ºåºä¸€è‡´ã€‚ç”±äºLinkedHashSetéœ€è¦ç»´æŠ¤å…ƒç´ çš„æ’å…¥é¡ºåºï¼Œå› æ­¤æ€§èƒ½ç•¥ä½äºHashSetï¼Œä½†åœ¨è¿­ä»£è®¿é—®Seté‡Œçš„å…¨éƒ¨å…ƒç´ æ—¶ç”±å¾ˆå¥½çš„æ€§èƒ½ã€‚ (1)HashSetæ˜¯Setæ¥å£çš„å®ç°ã€‚HashSetæŒ‰Hashç®—æ³•æ¥å­˜å‚¨é›†åˆä¸­çš„å…ƒç´ ï¼Œå…·æœ‰å¾ˆå¥½çš„å­˜å–å’ŒæŸ¥æ‰¾æ€§èƒ½ã€‚ (2)HashSetä¸æ˜¯åŒæ­¥çš„ï¼Œå¤šä¸ªçº¿ç¨‹è®¿é—®æ˜¯éœ€è¦é€šè¿‡ä»£ç ä¿è¯åŒæ­¥ (3)HashSeté›†åˆå…ƒç´ å€¼å¯ä»¥ä½¿nullã€‚ (4)HashSetä¸èƒ½ä¿è¯å…ƒç´ çš„æ’åˆ—é¡ºåºï¼Œé¡ºåºå¯èƒ½ä¸æ·»åŠ é¡ºåºä¸åŒï¼Œé¡ºåºä¹Ÿæœ‰å¯èƒ½å‘ç”Ÿå˜åŒ–ã€‚ (5)å½“å‘HashSeté›†åˆä¸­å­˜å…¥ä¸€ä¸ªå…ƒç´ æ—¶ï¼ŒHashSetä¼šè°ƒç”¨è¯¥å¯¹è±¡çš„hashCode()æ–¹æ³•æ¥å¾—åˆ°è¯¥å¯¹è±¡çš„hashCodeå€¼ï¼Œç„¶åæ ¹æ®è¯¥HashCodeå€¼å†³å®šè¯¥å¯¹è±¡åœ¨HashSetä¸­çš„å­˜å‚¨ä½ç½®ã€‚å¦‚æœæœ‰ä¸¤ä¸ªå…ƒç´ é€šè¿‡equals()æ–¹æ³•æ¯”è¾ƒè¿”å›trueï¼Œä½†å®ƒä»¬çš„hashCode()æ–¹æ³•è¿”å›å€¼ä¸ç›¸ç­‰ï¼ŒHashSetå°†ä¼šæŠŠå®ƒä»¬å­˜å‚¨åœ¨ä¸åŒçš„ä½ç½®ï¼Œä¾ç„¶å¯ä»¥æ·»åŠ æˆåŠŸã€‚å³ï¼ŒHashSeté›†åˆåˆ¤æ–­ä¸¤ä¸ªå…ƒç´ ç›¸ç­‰çš„æ ‡å‡†æ˜¯ä¸¤ä¸ªå¯¹è±¡é€šè¿‡equals()æ–¹æ³•æ¯”è¾ƒç›¸ç­‰ï¼Œå¹¶ä¸”ä¸¤ä¸ªå¯¹è±¡çš„hashCode()æ–¹æ³•è¿”å›å€¼ä¹Ÿç›¸ç­‰ã€‚ ","date":"2022-03-20","objectID":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/:3:2","tags":["Java"],"title":"Javaé›†åˆå­¦ä¹ ","uri":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"TreeSetç±» TreeSetæ—¶SortedSetæ¥å£çš„å®ç°ç±»ï¼ŒTreeSetå¯ä»¥ä¿è¯å…ƒç´ å¤„äºæ’åºçŠ¶æ€ï¼Œå®ƒé‡‡ç”¨çº¢é»‘æ ‘çš„æ•°æ®ç»“æ„æ¥å­˜å‚¨é›†åˆå…ƒç´ ã€‚TreeSetæ”¯æŒä¸¤ç§æ’åºæ–¹æ³•ï¼šè‡ªç„¶æ’åºå’Œå®šåˆ¶æ’åºï¼Œé»˜è®¤é‡‡ç”¨è‡ªç„¶æ’åºã€‚ è‡ªç„¶æ’åº ã€€TreeSetä¼šè°ƒç”¨é›†åˆå…ƒç´ çš„compareTo(Object obj)æ–¹æ³•æ¥æ¯”è¾ƒå…ƒç´ çš„å¤§å°å…³ç³»ï¼Œç„¶åå°†å…ƒç´ æŒ‰ç…§å‡åºæ’åˆ—ï¼Œè¿™å°±æ˜¯è‡ªç„¶æ’åºã€‚å¦‚æœè¯•å›¾å°†ä¸€ä¸ªå¯¹è±¡æ·»åŠ åˆ°TreeSeté›†åˆä¸­ï¼Œåˆ™è¯¥å¯¹è±¡å¿…é¡»å®ç°Comparableæ¥å£ï¼Œå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚å½“ä¸€ä¸ªå¯¹è±¡è°ƒç”¨æ–¹æ³•ä¸å¦ä¸€ä¸ªå¯¹è±¡æ¯”è¾ƒæ—¶ï¼Œä¾‹å¦‚obj1.compareTo(obj2)ï¼Œå¦‚æœè¯¥æ–¹æ³•è¿”å›0ï¼Œåˆ™ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ï¼›å¦‚æœè¿”å›ä¸€ä¸ªæ­£æ•°ï¼Œåˆ™obj1å¤§äºobj2ï¼›å¦‚æœè¿”å›ä¸€ä¸ªè´Ÿæ•°ï¼Œåˆ™obj1å°äºobj2ã€‚ ã€€Javaå¸¸ç”¨ç±»ä¸­å·²ç»å®ç°äº†Comparableæ¥å£çš„ç±»æœ‰ä»¥ä¸‹å‡ ä¸ªï¼š ã€€â™¦ BigDecimalã€BigDecimalä»¥åŠæ‰€æœ‰æ•°å€¼å‹å¯¹åº”çš„åŒ…è£…ç±»ï¼šæŒ‰ç…§å®ƒä»¬å¯¹åº”çš„æ•°å€¼å¤§å°è¿›è¡Œæ¯”è¾ƒã€‚ ã€€â™¦ Charchterï¼šæŒ‰ç…§å­—ç¬¦çš„unicodeå€¼è¿›è¡Œæ¯”è¾ƒã€‚ ã€€â™¦ Booleanï¼štrueå¯¹åº”çš„åŒ…è£…ç±»å®ä¾‹å¤§äºfalseå¯¹åº”çš„åŒ…è£…ç±»å®ä¾‹ã€‚ ã€€â™¦ Stringï¼šæŒ‰ç…§å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦çš„unicodeå€¼è¿›è¡Œæ¯”è¾ƒã€‚ ã€€â™¦ Dateã€Timeï¼šåé¢çš„æ—¶é—´ã€æ—¥æœŸæ¯”å‰é¢çš„æ—¶é—´ã€æ—¥æœŸå¤§ã€‚ ã€€å¯¹äºTreeSeté›†åˆè€Œè¨€ï¼Œå®ƒåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰çš„æ ‡å‡†æ˜¯ï¼šä¸¤ä¸ªå¯¹è±¡é€šè¿‡compareTo(Object obj)æ–¹æ³•æ¯”è¾ƒæ˜¯å¦è¿”å›0ï¼Œå¦‚æœè¿”å›0åˆ™ç›¸ç­‰ã€‚ å®šåˆ¶æ’åº ã€€æƒ³è¦å®ç°å®šåˆ¶æ’åºï¼Œéœ€è¦åœ¨åˆ›å»ºTreeSeté›†åˆå¯¹è±¡æ—¶ï¼Œæä¾›ä¸€ä¸ªComparatorå¯¹è±¡ä¸è¯¥TreeSeté›†åˆå…³è”ï¼Œç”±Comparatorå¯¹è±¡è´Ÿè´£é›†åˆå…ƒç´ çš„æ’åºé€»è¾‘ã€‚ ã€€ç»¼ä¸Šï¼šè‡ªç„¶æ’åºå®ç°çš„æ˜¯Comparableæ¥å£ï¼Œå®šåˆ¶æ’åºå®ç°çš„æ˜¯Comparatoræ¥å£ã€‚ ","date":"2022-03-20","objectID":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/:3:3","tags":["Java"],"title":"Javaé›†åˆå­¦ä¹ ","uri":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"Mapæ¥å£ ","date":"2022-03-20","objectID":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/:4:0","tags":["Java"],"title":"Javaé›†åˆå­¦ä¹ ","uri":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"ç®€ä»‹ Map æä¾›äº†ä¸€ä¸ªæ›´é€šç”¨çš„å…ƒç´ å­˜å‚¨æ–¹æ³•ã€‚Map é›†åˆç±»ç”¨äºå­˜å‚¨å…ƒç´ å¯¹ï¼ˆç§°ä½œâ€œé”®â€å’Œâ€œå€¼â€ï¼‰ï¼Œå…¶ä¸­æ¯ä¸ªé”®æ˜ å°„åˆ°ä¸€ä¸ªå€¼ã€‚ä»æ¦‚å¿µä¸Šè€Œè¨€ï¼Œæ‚¨å¯ä»¥å°† List çœ‹ä½œæ˜¯å…·æœ‰æ•°å€¼é”®çš„ Mapã€‚ |â€“Map æ˜¯æ˜ å°„æ¥å£ï¼ŒMapä¸­å­˜å‚¨çš„å†…å®¹æ˜¯é”®å€¼å¯¹(key-value)ã€‚ â€‹ |â€“TreeMap ç»§æ‰¿äºAbstractMapï¼Œä¸”å®ç°äº†NavigableMapæ¥å£ï¼›å› æ­¤ï¼ŒTreeMapä¸­çš„å†…å®¹æ˜¯â€œæœ‰åºçš„é”®å€¼å¯¹â€ â€‹ |â€“HashMap ç»§æ‰¿äºAbstractMapï¼Œä½†æ²¡å®ç°NavigableMapæ¥å£ï¼›å› æ­¤ï¼ŒHashMapçš„å†…å®¹æ˜¯â€œé”®å€¼å¯¹ï¼Œä½†ä¸ä¿è¯æ¬¡åºâ€ â€‹ |â€“Hashtable è™½ç„¶ä¸æ˜¯ç»§æ‰¿äºAbstractMapï¼Œä½†å®ƒç»§æ‰¿äºDictionary(Dictionaryä¹Ÿæ˜¯é”®å€¼å¯¹çš„æ¥å£)ï¼Œè€Œä¸”ä¹Ÿå®ç°Mapæ¥å£ï¼›å› æ­¤ï¼ŒHashtableçš„å†…å®¹ä¹Ÿæ˜¯â€œé”®å€¼å¯¹ï¼Œä¹Ÿä¸ä¿è¯æ¬¡åºâ€ã€‚ä½†å’ŒHashMapç›¸æ¯”ï¼ŒHashtableæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè€Œä¸”å®ƒæ”¯æŒé€šè¿‡Enumerationå»éå†ã€‚ Mapé€šç”¨æ–¹æ³• abstract void clear() abstract boolean containsKey(Object key) abstract boolean containsValue(Object value) abstract Set\u003cEntry\u003cK, V\u003e\u003e entrySet() abstract boolean equals(Object object) abstract V get(Object key) abstract int hashCode() abstract boolean isEmpty() abstract Set\u003cK\u003e keySet() abstract V put(K key, V value) abstract void putAll(Map\u003c? extends K, ? extends V\u003e map) abstract V remove(Object key) abstract int size() abstract Collection\u003cV\u003e values() Mapæä¾›æ¥å£åˆ†åˆ«ç”¨äºè¿”å› é”®é›†ã€å€¼é›†æˆ–é”®-å€¼æ˜ å°„å…³ç³»é›†ã€‚entrySet()ç”¨äºè¿”å›é”®-å€¼é›†çš„Seté›†åˆ;keySet()ç”¨äºè¿”å›é”®é›†çš„Seté›†åˆ;values()ç”¨æˆ·è¿”å›å€¼é›†çš„Collectioné›†åˆ,å› ä¸ºMapä¸­ä¸èƒ½åŒ…å«é‡å¤çš„é”®ï¼›æ¯ä¸ªé”®æœ€å¤šåªèƒ½æ˜ å°„åˆ°ä¸€ä¸ªå€¼ã€‚æ‰€ä»¥ï¼Œé”®-å€¼é›†ã€é”®é›†éƒ½æ˜¯Setï¼Œå€¼é›†æ—¶Collectionã€‚ Mapæä¾›äº†â€œé”®-å€¼å¯¹â€ã€â€œæ ¹æ®é”®è·å–å€¼â€ã€â€œåˆ é™¤é”®â€ã€â€œè·å–å®¹é‡å¤§å°â€ç­‰æ–¹æ³•ã€‚ Mapéå† //ç”¨forå¾ªç¯éå† for(Map.Entry\u003cString, String\u003e entry:map.entrySet()){ System.out.println(entry.getKey()+\"---\u003e\"+entry.getValue()); } //ç”¨Iteratorè¿­ä»£éå† Set set = map.entrySet(); Iterator i = set.iterator(); while(i.hasNext()){ Map.Entry\u003cString, String\u003e entry1=(Map.Entry\u003cString, String\u003e)i.next(); System.out.println(entry1.getKey()+\"==\"+entry1.getValue()); } //ç”¨keySet()è¿­ä»£éå† Iterator it=map.keySet().iterator(); while(it.hasNext()){ String key; String value; key=it.next().toString(); value=map.get(key); System.out.println(key+\"--\"+value); } ","date":"2022-03-20","objectID":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/:4:1","tags":["Java"],"title":"Javaé›†åˆå­¦ä¹ ","uri":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"HashMapç±» HashMapæ˜¯æˆ‘ä»¬ä½¿ç”¨éå¸¸å¤šçš„Collectionï¼Œå®ƒæ˜¯åŸºäºå“ˆå¸Œè¡¨çš„ Map æ¥å£çš„å®ç°ï¼Œä»¥key-valueçš„å½¢å¼å­˜åœ¨ã€‚ HashMapå®ç°æä¾›æ‰€æœ‰å¯é€‰çš„æ˜ å°„æ“ä½œï¼Œå¹¶å…è®¸ä½¿ç”¨ null å€¼å’Œ null é”®ã€‚ï¼ˆé™¤äº†ä¸åŒæ­¥å’Œå…è®¸ä½¿ç”¨ null ä¹‹å¤–ï¼ŒHashMap ç±»ä¸ Hashtable å¤§è‡´ç›¸åŒã€‚ï¼‰æ­¤ç±»ä¸ä¿è¯æ˜ å°„çš„é¡ºåºï¼Œç‰¹åˆ«æ˜¯å®ƒä¸ä¿è¯è¯¥é¡ºåºæ’ä¹…ä¸å˜ã€‚ HashMapä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¦‚æœæƒ³è¦çº¿ç¨‹å®‰å…¨çš„HashMapï¼Œå¯ä»¥é€šè¿‡Collectionsç±»çš„é™æ€æ–¹æ³•synchronizedMapè·å¾—çº¿ç¨‹å®‰å…¨çš„HashMap,ä¾‹å¦‚ï¼šMap map = Collections.synchronizedMap(new HashMap()); å½’çº³èµ·æ¥ç®€å•åœ°è¯´ï¼ŒHashMap åœ¨åº•å±‚å°† key-value å½“æˆä¸€ä¸ªæ•´ä½“è¿›è¡Œå¤„ç†ï¼Œè¿™ä¸ªæ•´ä½“å°±æ˜¯ä¸€ä¸ª Entry å¯¹è±¡ã€‚HashMap åº•å±‚é‡‡ç”¨ä¸€ä¸ª Entry[] æ•°ç»„æ¥ä¿å­˜æ‰€æœ‰çš„ key-value å¯¹ï¼Œå½“éœ€è¦å­˜å‚¨ä¸€ä¸ª Entry å¯¹è±¡æ—¶ï¼Œä¼šæ ¹æ® Hash ç®—æ³•æ¥å†³å®šå…¶å­˜å‚¨ä½ç½®ï¼›å½“éœ€è¦å–å‡ºä¸€ä¸ª Entry æ—¶ï¼Œä¹Ÿä¼šæ ¹æ® Hash ç®—æ³•æ‰¾åˆ°å…¶å­˜å‚¨ä½ç½®ï¼Œç›´æ¥å–å‡ºè¯¥ Entryã€‚ç”±æ­¤å¯è§ï¼šHashMap ä¹‹æ‰€ä»¥èƒ½å¿«é€Ÿå­˜ã€å–å®ƒæ‰€åŒ…å«çš„ Entryï¼Œå®Œå…¨ç±»ä¼¼äºç°å®ç”Ÿæ´»ä¸­æ¯äº²ä»å°æ•™æˆ‘ä»¬çš„ï¼šä¸åŒçš„ä¸œè¥¿è¦æ”¾åœ¨ä¸åŒçš„ä½ç½®ï¼Œéœ€è¦æ—¶æ‰èƒ½å¿«é€Ÿæ‰¾åˆ°å®ƒã€‚ å½“åˆ›å»º HashMap æ—¶ï¼Œæœ‰ä¸€ä¸ªé»˜è®¤çš„è´Ÿè½½å› å­ï¼ˆload factorï¼‰ï¼Œå…¶é»˜è®¤å€¼ä¸º 0.75ï¼Œè¿™æ˜¯æ—¶é—´å’Œç©ºé—´æˆæœ¬ä¸Šä¸€ç§æŠ˜è¡·ï¼šå¢å¤§è´Ÿè½½å› å­å¯ä»¥å‡å°‘ Hash è¡¨ï¼ˆå°±æ˜¯é‚£ä¸ª Entry æ•°ç»„ï¼‰æ‰€å ç”¨çš„å†…å­˜ç©ºé—´ï¼Œä½†ä¼šå¢åŠ æŸ¥è¯¢æ•°æ®çš„æ—¶é—´å¼€é”€ï¼Œè€ŒæŸ¥è¯¢æ˜¯æœ€é¢‘ç¹çš„çš„æ“ä½œï¼ˆHashMap çš„ get() ä¸ put() æ–¹æ³•éƒ½è¦ç”¨åˆ°æŸ¥è¯¢ï¼‰ï¼›å‡å°è´Ÿè½½å› å­ä¼šæé«˜æ•°æ®æŸ¥è¯¢çš„æ€§èƒ½ï¼Œä½†ä¼šå¢åŠ  Hash è¡¨æ‰€å ç”¨çš„å†…å­˜ç©ºé—´ã€‚ LinkedHashMapå®ç°ç±» LinkedHashMapä½¿ç”¨åŒå‘é“¾è¡¨æ¥ç»´æŠ¤key-valueå¯¹çš„æ¬¡åºï¼ˆå…¶å®åªéœ€è¦è€ƒè™‘keyçš„æ¬¡åºå³å¯ï¼‰ï¼Œè¯¥é“¾è¡¨è´Ÿè´£ç»´æŠ¤Mapçš„è¿­ä»£é¡ºåºï¼Œä¸æ’å…¥é¡ºåºä¸€è‡´ï¼Œå› æ­¤æ€§èƒ½æ¯”HashMapä½ï¼Œä½†åœ¨è¿­ä»£è®¿é—®Mapé‡Œçš„å…¨éƒ¨å…ƒç´ æ—¶æœ‰è¾ƒå¥½çš„æ€§èƒ½ã€‚ HashMapæŒ‰ç…§keyè¿›è¡Œæ’åº HashMapæœ¬èº«å°±æ˜¯å‡åºæ’åˆ—,å¦‚æœè¦è·å–é›†åˆæ•°æ®ï¼Œè§å¦‚ä¸‹ä»£ç ï¼š Map\u003cString, Integer\u003e map = new HashMap\u003cString, Integer\u003e(); map.put(\"d\", 3); map.put(\"c\", 1); Set keySet = map.keySet(); Collections.sort(keySet); for(Iterator ite = keySet.iterator(); ite.hasNext();) { String temp = ite.next(); System.out.println(\"key-value: \"+temp+\",\"+map.getValue(temp); } ä½†æ˜¯å¦‚æœæƒ³è¦é€šè¿‡keyè¿›è¡Œé™åºæ’åˆ—ï¼Œåˆ™éœ€è¦é‡å†™sortæ–¹æ³•ï¼Œè§å¦‚ä¸‹ä»£ç ï¼š Collections.sort(keySet, new Comparator() { public int compare(Object o1, Object o2) { //å¦‚æœmapé‡Œé¢æ˜¯å…¶ä»–ç±»å‹ç›´æ¥æ›´æ”¹sorté‡Œé¢çš„æ¯”è¾ƒæ–¹æ³•ã€‚ if (Integer.parseInt(o1.toString()) \u003e Integer.parseInt(o2.toString()) return 1; if (Integer.parseInt(o1.toString()) == Integer.parseInt(o2.toString()) return 0; else return - 1; } }); HashMapæŒ‰ç…§valueå€¼æ’åºçš„æ–¹æ³• HashMapçš„valueå€¼æ²¡æœ‰æ’åºåŠŸèƒ½ï¼Œè‹¥è¦è¿›è¡Œè¾ƒè½»æ¾çš„æ’åºï¼Œå¯æ”¹å†™Comparatoræ¥å£æ–¹æ³•compareè¿›è¡Œæ’åºï¼Œä»£ç å¦‚ä¸‹ï¼š Map\u003cString, Integer\u003e map = new HashMap\u003cString, Integer\u003e(); map.put(\"d\", 2); map.put(\"c\", 1); map.put(\"b\", 1); map.put(\"a\", 3); List\u003cMap.Entry\u003cString, Integer\u003e\u003e infoIds = new ArrayList\u003cMap.Entry\u003cString, Integer\u003e\u003e(map.entrySet()); //æ’åºå‰ for (int i = 0; i \u003c infoIds.size(); i++) { String id = infoIds.get(i).toString(); System.out.println(id); } //æ ¹æ®valueæ’åº Collections.sort(infoIds, new Comparator\u003cMap.Entry\u003cString, Integer\u003e\u003e() { public int compare(Map.Entry\u003cString, Integer\u003e o1, Map.Entry\u003cString, Integer\u003e o2) { return (o2.getValue() - o1.getValue()); //return (o1.getKey()).toString().compareTo(o2.getKey()); } }); //æ’åºå for (int i = 0; i \u003c infoIds.size(); i++) { String id = infoIds.get(i).toString(); System.out.println(id); } ","date":"2022-03-20","objectID":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/:4:2","tags":["Java"],"title":"Javaé›†åˆå­¦ä¹ ","uri":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"TreeMapç±» TreeMapç»§æ‰¿äº†NavigableMapï¼Œè€ŒNavigableMapç»§æ‰¿è‡ªSortedMapï¼Œä¸ºSortedMapæ·»åŠ äº†æœç´¢é€‰é¡¹ï¼ŒNavigableMapæœ‰å‡ ç§æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ä¸åŒçš„æ¯”è¾ƒè¦æ±‚ï¼šfloorKeyæ˜¯å°äºç­‰äºï¼ŒceilingKeyæ˜¯å¤§äºç­‰äºï¼ŒlowerKeyæ˜¯å°äºï¼ŒhigherKeyæ˜¯å¤§äºã€‚TreeMapçš„æœ¬è´¨æ˜¯R-B Tree(çº¢é»‘æ ‘)ï¼Œå®ƒåŒ…å«å‡ ä¸ªé‡è¦çš„æˆå‘˜å˜é‡ï¼š root, size, comparatorã€‚ TreeMap æ˜¯ä¸€ä¸ªæœ‰åºçš„key-valueé›†åˆï¼Œå®ƒæ˜¯é€šè¿‡çº¢é»‘æ ‘å®ç°çš„ã€‚ TreeMap ç»§æ‰¿äºAbstractMapï¼Œæ‰€ä»¥å®ƒæ˜¯ä¸€ä¸ªMapï¼Œå³ä¸€ä¸ªkey-valueé›†åˆã€‚ TreeMap å®ç°äº†NavigableMapæ¥å£ï¼Œæ„å‘³ç€å®ƒæ”¯æŒä¸€ç³»åˆ—çš„å¯¼èˆªæ–¹æ³•ã€‚æ¯”å¦‚è¿”å›æœ‰åºçš„keyé›†åˆã€‚ TreeMap å®ç°äº†Cloneableæ¥å£ï¼Œæ„å‘³ç€å®ƒèƒ½è¢«å…‹éš†ã€‚ TreeMap å®ç°äº†java.io.Serializableæ¥å£ï¼Œæ„å‘³ç€å®ƒæ”¯æŒåºåˆ—åŒ–ã€‚ TreeMapåŸºäºçº¢é»‘æ ‘ï¼ˆRed-Black treeï¼‰å®ç°ã€‚è¯¥æ˜ å°„æ ¹æ®å…¶é”®çš„è‡ªç„¶é¡ºåºè¿›è¡Œæ’åºï¼Œæˆ–è€…æ ¹æ®åˆ›å»ºæ˜ å°„æ—¶æä¾›çš„ Comparator è¿›è¡Œæ’åºï¼Œå…·ä½“å–å†³äºä½¿ç”¨çš„æ„é€ æ–¹æ³•ã€‚ TreeMapçš„åŸºæœ¬æ“ä½œ containsKeyã€getã€put å’Œ remove çš„æ—¶é—´å¤æ‚åº¦æ˜¯ log(n) ã€‚ TreeMapæ˜¯éåŒæ­¥çš„ã€‚ å®ƒçš„iterator æ–¹æ³•è¿”å›çš„è¿­ä»£å™¨æ˜¯fail-fastlçš„ã€‚ ","date":"2022-03-20","objectID":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/:4:3","tags":["Java"],"title":"Javaé›†åˆå­¦ä¹ ","uri":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"HashTableç±» hashTableå°†keyå’Œvalueç»“åˆèµ·æ¥æ„æˆé”®å€¼å¯¹é€šè¿‡put(key,value)æ–¹æ³•ä¿å­˜èµ·æ¥ï¼Œç„¶åé€šè¿‡get(key)æ–¹æ³•è·å–ç›¸å¯¹åº”çš„valueå€¼ã€‚å®ƒæ˜¯çº¿ç¨‹å®‰å…¨çš„å“ˆå¸Œæ˜ å°„è¡¨ï¼Œå†…éƒ¨é‡‡ç”¨Entry[]æ•°ç»„ï¼Œæ¯ä¸ªEntryå‡å¯ä½œä¸ºé“¾è¡¨çš„å¤´ï¼Œç”¨æ¥è§£å†³å†²çªï¼ˆç¢°æ’ï¼‰ã€‚åŒæ—¶Hashtablesæä¾›äº†ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„æ–¹æ³•å¯ä»¥ä½¿åº”ç”¨ç¨‹åºçš„æ€§èƒ½è¾¾åˆ°æœ€ä½³ã€‚ çº¿ç¨‹å®‰å…¨ã€‚ Keyã€Valueå‡ä¸èƒ½ä¸ºnullã€‚ åŒ…å«äº†ä¸€ä¸ªEntry[]æ•°ç»„ï¼Œè€ŒEntryåˆæ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œç”¨æ¥å¤„ç†å†²çªã€‚ æ¯ä¸ªKeyå¯¹åº”äº†Entryæ•°ç»„ä¸­å›ºå®šçš„ä½ç½®ï¼ˆè®°ä¸ºindexï¼‰ï¼Œç§°ä¸ºæ§½ä½ï¼ˆSlotï¼‰ã€‚æ§½ä½è®¡ç®—å…¬å¼ä¸ºï¼š (key.hashCode() \u0026 0x7FFFFFFF) % Entry[].length() ã€‚ å½“Entry[]çš„å®é™…å…ƒç´ æ•°é‡ï¼ˆCountï¼‰è¶…è¿‡äº†åˆ†é…å®¹é‡ï¼ˆCapacityï¼‰çš„75%æ—¶ï¼Œæ–°å»ºä¸€ä¸ªEntry[]æ˜¯åŸå…ˆçš„2å€ï¼Œå¹¶é‡æ–°Hashï¼ˆrehashï¼‰ã€‚ rehashçš„æ ¸å¿ƒæ€è·¯æ˜¯ï¼Œå°†æ—§Entry[]æ•°ç»„çš„å…ƒç´ é‡æ–°è®¡ç®—æ§½ä½ï¼Œæ•£åˆ—åˆ°æ–°Entry[]ä¸­ã€‚ HashTableä¸HashMapçš„åŒºåˆ« HashTableå’ŒHashMapå­˜åœ¨å¾ˆå¤šçš„ç›¸åŒç‚¹ï¼Œä½†æ˜¯ä»–ä»¬è¿˜æ˜¯æœ‰å‡ ä¸ªæ¯”è¾ƒé‡è¦çš„ä¸åŒç‚¹ã€‚ ç¬¬ä¸€ï¼šæˆ‘ä»¬ä»ä»–ä»¬çš„å®šä¹‰å°±å¯ä»¥çœ‹å‡ºä»–ä»¬çš„ä¸åŒï¼ŒHashTableåŸºäºDictionaryç±»ï¼Œè€ŒHashMapæ˜¯åŸºäºAbstractMapã€‚Dictionaryæ˜¯ä»€ä¹ˆï¼Ÿå®ƒæ˜¯ä»»ä½•å¯å°†é”®æ˜ å°„åˆ°ç›¸åº”å€¼çš„ç±»çš„æŠ½è±¡çˆ¶ç±»ï¼Œè€ŒAbstractMapæ˜¯åŸºäºMapæ¥å£çš„éª¨å¹²å®ç°ï¼Œå®ƒä»¥æœ€å¤§é™åº¦åœ°å‡å°‘å®ç°æ­¤æ¥å£æ‰€éœ€çš„å·¥ä½œã€‚ ç¬¬äºŒï¼šHashMapå¯ä»¥å…è®¸å­˜åœ¨ä¸€ä¸ªä¸ºnullçš„keyå’Œä»»æ„ä¸ªä¸ºnullçš„valueï¼Œä½†æ˜¯HashTableä¸­çš„keyå’Œvalueéƒ½ä¸å…è®¸ä¸ºnullã€‚å½“HashMapé‡åˆ°ä¸ºnullçš„keyæ—¶ï¼Œå®ƒä¼šè°ƒç”¨putForNullKeyæ–¹æ³•æ¥è¿›è¡Œå¤„ç†ã€‚å¯¹äºvalueæ²¡æœ‰è¿›è¡Œä»»ä½•å¤„ç†ï¼Œåªè¦æ˜¯å¯¹è±¡éƒ½å¯ä»¥ã€‚ è€Œå½“HashTableé‡åˆ°nullæ—¶ï¼Œä»–ä¼šç›´æ¥æŠ›å‡ºNullPointerExceptionå¼‚å¸¸ä¿¡æ¯ã€‚ ç¬¬ä¸‰ï¼šHashtableçš„æ–¹æ³•æ˜¯åŒæ­¥çš„ï¼Œè€ŒHashMapçš„æ–¹æ³•ä¸æ˜¯ã€‚æ‰€ä»¥æœ‰äººä¸€èˆ¬éƒ½å»ºè®®å¦‚æœæ˜¯æ¶‰åŠåˆ°å¤šçº¿ç¨‹åŒæ­¥æ—¶é‡‡ç”¨HashTableï¼Œæ²¡æœ‰æ¶‰åŠå°±é‡‡ç”¨HashMapï¼Œä½†æ˜¯åœ¨Collectionsç±»ä¸­å­˜åœ¨ä¸€ä¸ªé™æ€æ–¹æ³•ï¼šsynchronizedMap()ï¼Œè¯¥æ–¹æ³•åˆ›å»ºäº†ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„Mapå¯¹è±¡ï¼Œå¹¶æŠŠå®ƒä½œä¸ºä¸€ä¸ªå°è£…çš„å¯¹è±¡æ¥è¿”å›ï¼Œæ‰€ä»¥é€šè¿‡Collectionsç±»çš„synchronizedMapæ–¹æ³•æ˜¯å¯ä»¥æˆ‘ä»¬ä½ åŒæ­¥è®¿é—®æ½œåœ¨çš„HashMapã€‚ ","date":"2022-03-20","objectID":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/:4:4","tags":["Java"],"title":"Javaé›†åˆå­¦ä¹ ","uri":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"Queueæ¥å£ Queueï¼Œjavaä¸­æ¨¡æ‹Ÿé˜Ÿåˆ—çš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œå…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰,ä¸æ”¯æŒéšæœºè®¿é—®æ•°æ®ï¼Œé€šè¿‡offerï¼ˆï¼‰æ–¹æ³•å¢åŠ æ•°æ®åˆ°é˜Ÿåˆ—å°¾éƒ¨ï¼Œpollï¼ˆï¼‰è·å–é˜Ÿåˆ—å¤´éƒ¨å…ƒç´ ï¼Œå¯ä»¥å°†Queueçœ‹æˆä¸€ä¸ªé€šé“ï¼Œæœ€å…ˆèµ°è¿›çš„é€šé“çš„ä¹Ÿæ˜¯æœ€å…ˆèµ°å‡ºé€šé“çš„ï¼Œæœ€åèµ°è¿›å»çš„ï¼Œåœ¨é€šé“é‡Œé¢å‘†çš„æ—¶é—´æœ€ä¹…ã€‚ å¸¸ç”¨æ–¹æ³•ï¼š add å¢åŠ ä¸€ä¸ªå…ƒç´¢ å¦‚æœé˜Ÿåˆ—å·²æ»¡ï¼Œåˆ™æŠ›å‡ºä¸€ä¸ªIIIegaISlabEepeplianå¼‚å¸¸ remove ç§»é™¤å¹¶è¿”å›é˜Ÿåˆ—å¤´éƒ¨çš„å…ƒç´  å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™æŠ›å‡ºä¸€ä¸ªNoSuchElementExceptionå¼‚å¸¸ element è¿”å›é˜Ÿåˆ—å¤´éƒ¨çš„å…ƒç´  å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™æŠ›å‡ºä¸€ä¸ªNoSuchElementExceptionå¼‚å¸¸ offer æ·»åŠ ä¸€ä¸ªå…ƒç´ å¹¶è¿”å›true å¦‚æœé˜Ÿåˆ—å·²æ»¡ï¼Œåˆ™è¿”å›false poll ç§»é™¤å¹¶è¿”é—®é˜Ÿåˆ—å¤´éƒ¨çš„å…ƒç´  å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™è¿”å›null peek è¿”å›é˜Ÿåˆ—å¤´éƒ¨çš„å…ƒç´  å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™è¿”å›null put æ·»åŠ ä¸€ä¸ªå…ƒç´  å¦‚æœé˜Ÿåˆ—æ»¡ï¼Œåˆ™é˜»å¡ take ç§»é™¤å¹¶è¿”å›é˜Ÿåˆ—å¤´éƒ¨çš„å…ƒç´  å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™é˜»å¡ drainTo(list) ä¸€æ¬¡æ€§å–å‡ºé˜Ÿåˆ—æ‰€æœ‰å…ƒç´  ","date":"2022-03-20","objectID":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/:5:0","tags":["Java"],"title":"Javaé›†åˆå­¦ä¹ ","uri":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"PriorityQueueç±» ä¼˜å…ˆé˜Ÿåˆ—PriorityQueueæ˜¯Queueæ¥å£çš„å®ç°ï¼Œå¯ä»¥å¯¹å…¶ä¸­å…ƒç´ è¿›è¡Œæ’åºï¼Œå¯ä»¥æ”¾åŸºæœ¬æ•°æ®ç±»å‹çš„åŒ…è£…ç±»ï¼ˆå¦‚ï¼šIntegerï¼ŒLongç­‰ï¼‰æˆ–è‡ªå®šä¹‰çš„ç±»å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹çš„åŒ…è£…å™¨ç±»ï¼Œä¼˜å…ˆé˜Ÿåˆ—ä¸­å…ƒç´ é»˜è®¤æ’åˆ—é¡ºåºæ˜¯å‡åºæ’åˆ—ï¼Œä½†å¯¹äºè‡ªå·±å®šä¹‰çš„ç±»æ¥è¯´ï¼Œéœ€è¦è‡ªå·±å®šä¹‰æ¯”è¾ƒå™¨ã€‚ å¸¸ç”¨æ–¹æ³•ï¼š peek()//è¿”å›é˜Ÿé¦–å…ƒç´  poll()//è¿”å›é˜Ÿé¦–å…ƒç´ ï¼Œé˜Ÿé¦–å…ƒç´ å‡ºé˜Ÿåˆ— add()//æ·»åŠ å…ƒç´  size()//è¿”å›é˜Ÿåˆ—å…ƒç´ ä¸ªæ•° isEmpty()//åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©ºè¿”å›true,ä¸ç©ºè¿”å›false ç¤ºä¾‹ï¼š public static void main(String[] args) { //ä¸ç”¨æ¯”è¾ƒå™¨ï¼Œé»˜è®¤å‡åºæ’åˆ— Queue\u003cInteger\u003e q = new PriorityQueue\u003c\u003e(); q.add(3); q.add(2); q.add(4); while(!q.isEmpty()) { System.out.print(q.poll()+\" \"); //2 3 4 } //ä½¿ç”¨è‡ªå®šä¹‰æ¯”è¾ƒå™¨ï¼Œé™åºæ’åˆ— Queue\u003cInteger\u003e qq = new PriorityQueue\u003c\u003e(new Comparator\u003cInteger\u003e() { public int compare(Integer e1, Integer e2) { return e2 - e1; //å‡åº:e1-e2,é™åº:e2-e1 } }); qq.add(3); qq.add(2); qq.add(4); while(!qq.isEmpty()) { System.out.print(qq.poll()+\" \"); //4 3 2 } } æœ¬æ–‡å‚è€ƒè‡³ï¼Œå¦‚éœ€æ›´å¤šè¯¦æƒ…ï¼Œè¯·æŸ¥é˜…ä»¥ä¸‹ç½‘ç«™ èœé¸Ÿæ•™ç¨‹ Java School ","date":"2022-03-20","objectID":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/:5:1","tags":["Java"],"title":"Javaé›†åˆå­¦ä¹ ","uri":"/java%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0/"},{"categories":["å®è·µç¬”è®°"],"content":"æ¶ˆæ¯æ¨é€æ˜¯å¤§éƒ¨åˆ†ç³»ç»Ÿéƒ½éœ€è¦åšåˆ°çš„åŠŸèƒ½ï¼Œåœ¨.NETä¸­æˆ‘åˆ†åˆ«é€šè¿‡RabbitMQã€MQTTã€SignalRå®ç°æ¶ˆæ¯æ¨é€åŠŸèƒ½ï¼Œæœ¬ç¯‡æ–‡ç« å°†é€šè¿‡å®ƒä»¬å®ç°ç®€å•çš„æ¨é€åŠŸèƒ½ï¼Œæ‰‹æŠŠæ‰‹å¸¦å¤§å®¶å®Œæˆç¼–ç¨‹ã€‚æœ¬æ–‡ç¯å¢ƒä¸º.NET Core 3.1ä¸‹ ","date":"2022-03-19","objectID":"/%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81%E5%8A%9F%E8%83%BD/:0:0","tags":["æ¶ˆæ¯æ¨é€"],"title":"å®ç°ç®€å•æ¶ˆæ¯æ¨é€åŠŸèƒ½","uri":"/%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81%E5%8A%9F%E8%83%BD/"},{"categories":["å®è·µç¬”è®°"],"content":"SignalRå®ç° ","date":"2022-03-19","objectID":"/%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81%E5%8A%9F%E8%83%BD/:1:0","tags":["æ¶ˆæ¯æ¨é€"],"title":"å®ç°ç®€å•æ¶ˆæ¯æ¨é€åŠŸèƒ½","uri":"/%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81%E5%8A%9F%E8%83%BD/"},{"categories":["å®è·µç¬”è®°"],"content":"ç®€ä»‹ SignalRæ˜¯ä¸€ä¸ªå¼€æºçš„åº“ï¼Œè·¨å¹³å°ï¼›è®©Webåº”ç”¨ä¸å…¶ä»–åº”ç”¨é€šè®¯å˜å¾—å¾ˆç®€å•ï¼ŒWebæœåŠ¡ç«¯å¯ä»¥å®æ—¶çš„å°†å†…å®¹æ¨é€ç»™å¯¹åº”çš„å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯å‘é€çš„ä¿¡æ¯ä¹Ÿå¯ä»¥å®æ—¶åˆ°å…¶ä»–å®¢æˆ·ç«¯ã€‚ SignalRæä¾›äº†ä¸€ç§è¿œç¨‹è¿‡ç¨‹è°ƒç”¨(RPC)çš„æ–¹å¼ï¼Œä½¿å¾—å®¢æˆ·ç«¯å¯ä»¥è°ƒç”¨æœåŠ¡å™¨çš„æ–¹æ³•ï¼ŒåŒæ ·åœ¨æœåŠ¡å™¨ç«¯çš„æ–¹æ³•ä¸­ä¹Ÿèƒ½è°ƒç”¨å®¢æˆ·ç«¯çš„æ–¹æ³•ã€‚ ","date":"2022-03-19","objectID":"/%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81%E5%8A%9F%E8%83%BD/:1:1","tags":["æ¶ˆæ¯æ¨é€"],"title":"å®ç°ç®€å•æ¶ˆæ¯æ¨é€åŠŸèƒ½","uri":"/%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81%E5%8A%9F%E8%83%BD/"},{"categories":["å®è·µç¬”è®°"],"content":"ç¤ºä¾‹ NugetåŒ…ä¸ºï¼š\u003cPackageReference Include=\"Microsoft.AspNetCore.SignalR.Core\" Version=\"1.1.0\" /\u003e é¦–å…ˆæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªè‡ªå·±çš„SignalR Hub using Microsoft.AspNetCore.SignalR; using System.Threading.Tasks; namespace KBEAM.Hubs { public class ChatHub : Hub // ç»§æ‰¿è‡ªSignalR Hubåº“ { public async Task SendMessage(string user, string message) { await Clients.All.SendAsync(\"ReceiveMessage\", user, message); } public async Task SendMessageToGroup(string group, string message) { await Clients.Group(group).SendAsync(\"ReceiveMessageFromGroup\", group, message); } public async Task AddToGroup(string groupName) { await Groups.AddToGroupAsync(Context.ConnectionId, groupName); await Clients.Group(groupName).SendAsync(\"ReceiveMessage\", $\"{Context.ConnectionId} has joined the group {groupName}.\"); } public async Task RemoveFromGroup(string groupName) { await Groups.RemoveFromGroupAsync(Context.ConnectionId, groupName); //await Clients.Group(groupName).SendAsync(\"ReceiveMessage\", $\"{Context.ConnectionId} has left the group {groupName}.\"); } } } åœ¨Startup.csæ–‡ä»¶ä¸­æ³¨å†Œç›¸å…³æœåŠ¡åŠç®¡é“ // 1.åœ¨ConfigureServiceså‡½æ•°ä¸­æ·»åŠ ä»¥ä¸‹è¯­å¥ï¼Œæ³¨å†Œç›¸å…³æœåŠ¡ services.AddSignalR(); // 2.åœ¨Configureå‡½æ•°ä¸­æ·»åŠ ä»¥ä¸‹è¯­å¥ï¼Œé…ç½®ç®¡é“ç»ˆç»“ç‚¹ app.UseEndpoints(endpoints =\u003e { // ... endpoints.MapHub\u003cChatHub\u003e(\"/chatHub\"); // ... }); ç¼–å†™æœåŠ¡ç«¯ä¸šåŠ¡ï¼Œæ¨é€æ¶ˆæ¯ // å®šä¹‰ä¸€ä¸ªä¸Šä¸‹æ–‡ private readonly IHubContext\u003cChatHub\u003e hubContext; // é€šè¿‡æ„é€ å‡½æ•°æ³¨å…¥ä¾èµ– public MonitorService(IHubContext\u003cChatHub\u003e hub) { hubContext = hub; } //åœ¨éœ€è¦çš„åœ°æ–¹è°ƒç”¨æ–¹æ³•ï¼Œè¿›è¡Œæ¶ˆæ¯æ¨é€ await hubContext.Clients.Group(group).SendAsync(\"ReceiveMessageFromGroup\",group, \"éœ€è¦å‘é€çš„æ¶ˆæ¯\"); JSå®¢æˆ·ç«¯ç¨‹åºç¼–å†™ é¦–å…ˆï¼Œéœ€è¦é€šè¿‡npmæ¥å®‰è£…SignalRå°è£…å¥½çš„JSæ–‡ä»¶ï¼Œnpm install @microsoft/signalr // 1.é¦–å…ˆè¿›è¡ŒSignalRå®¢æˆ·ç«¯è¿æ¥ const signalR = require(\"@microsoft/signalr\") let conn = new signalR.HubConnectionBuilder() .withUrl(\"http://localhost:8988/chatHub\") .withAutomaticReconnect() .configureLogging(signalR.LogLevel.Error) .build() export default conn import signalR from \"@/utils/signalR\"; // 2.å®¢æˆ·ç«¯è°ƒç”¨æœåŠ¡ç«¯æ–¹æ³•ï¼ˆRPCï¼‰ signalR.invoke(\"AddToGroup\", \"groupName\").catch(function (err) { // åŠ å…¥ç”¨æˆ·ç»„ return console.error(err.toString()); }); signalR.invoke(\"RemoveFromGroup\", \"å¤§å±\").catch(function (err) { // ç§»é™¤ç”¨æˆ·ç»„ return console.error(err.toString()); }); // 3.å®¢æˆ·ç«¯ç›‘å¬æœåŠ¡å™¨æ¶ˆæ¯ signalR.on(\"ReceiveMessageFromGroup\", function (group, message) { console.log(group + \" \" + message); that.lineChartData = JSON.parse(message); }); ","date":"2022-03-19","objectID":"/%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81%E5%8A%9F%E8%83%BD/:1:2","tags":["æ¶ˆæ¯æ¨é€"],"title":"å®ç°ç®€å•æ¶ˆæ¯æ¨é€åŠŸèƒ½","uri":"/%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81%E5%8A%9F%E8%83%BD/"},{"categories":["å®è·µç¬”è®°"],"content":"RabbitMQå®ç° ","date":"2022-03-19","objectID":"/%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81%E5%8A%9F%E8%83%BD/:2:0","tags":["æ¶ˆæ¯æ¨é€"],"title":"å®ç°ç®€å•æ¶ˆæ¯æ¨é€åŠŸèƒ½","uri":"/%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81%E5%8A%9F%E8%83%BD/"},{"categories":["å®è·µç¬”è®°"],"content":"ç®€ä»‹ RabbitMQæ˜¯å®ç°äº†é«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®ï¼ˆAMQPï¼‰çš„å¼€æºæ¶ˆæ¯ä»£ç†è½¯ä»¶ï¼ˆäº¦ç§°é¢å‘æ¶ˆæ¯çš„ä¸­é—´ä»¶ï¼‰ï¼Œç”±ä»¥é«˜æ€§èƒ½ã€å¥å£®ä»¥åŠå¯ä¼¸ç¼©æ€§å‡ºåçš„ Erlang å†™æˆã€‚ ","date":"2022-03-19","objectID":"/%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81%E5%8A%9F%E8%83%BD/:2:1","tags":["æ¶ˆæ¯æ¨é€"],"title":"å®ç°ç®€å•æ¶ˆæ¯æ¨é€åŠŸèƒ½","uri":"/%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81%E5%8A%9F%E8%83%BD/"},{"categories":["å®è·µç¬”è®°"],"content":"ç¤ºä¾‹ é¦–å…ˆæ‚¨éœ€è¦åœ¨ç”µè„‘ä¸Šå®‰è£…å¥½ ErlangåŠRabbitMQæœåŠ¡å™¨ï¼Œè¿™ä¸€æ­¥å¤§å®¶å°±è‡ªè¡Œæœç´¢è§£å†³å§ï¼Œç½‘ä¸Šåº”è¯¥æœ‰å¾ˆå¤šçš„è§£å†³æ–¹æ³• RabbitMQå‡†å¤‡ é¦–å…ˆå¼€å¯Stompæ’ä»¶ rabbitmq-plugins enable rabbitmq_management # å¼€å¯æ­¤æ’ä»¶åæœ‰ç®¡ç†ç•Œé¢http://localhost:15672/ rabbitmq-plugins enable rabbitmq_web_stomp rabbitmq-plugins enable rabbitmq_web_stomp_examples æœåŠ¡ç«¯å‘é€æ¶ˆæ¯ æ‰€éœ€NugetåŒ…ï¼š\u003cPackageReference Include=\"RabbitMQ.Client\" Version=\"6.2.4\" /\u003e // å»ºç«‹RabbitMQè¿æ¥ private static readonly ConnectionFactory rabbitMqFactory = new ConnectionFactory() { HostName = \"localhost\", UserName = \"ç”¨æˆ·å\", Password = \"å¯†ç \", Port = 5672, VirtualHost = \"è™šæ‹Ÿä¸»æœºé…ç½®\" }; // å‘é€æ¶ˆæ¯ using (IConnection conn = rabbitMqFactory.CreateConnection()) { using (IModel channel = conn.CreateModel()) { channel.ExchangeDeclare(\"monitor\", ExchangeType.Direct, durable: true, autoDelete: false, arguments: null); channel.QueueDeclare(\"message\", durable: true, autoDelete: false, exclusive: false, arguments: null); channel.QueueBind(\"message\", \"monitor\", routingKey: \"message\"); var props = channel.CreateBasicProperties(); props.Persistent = true; channel.BasicPublish(exchange: \"monitor\", routingKey: \"message\", basicProperties: props, body: Encoding.UTF8.GetBytes(JsonConvert.SerializeObject(new { expectedData, actualData }))); } } å…·ä½“RabbitMQä½¿ç”¨å¯ä»¥çœ‹æˆ‘çš„RabbitMQå­¦ä¹ ç¬”è®° å®¢æˆ·ç«¯æ¥å—æ¶ˆæ¯ é¦–å…ˆéœ€è¦å®‰è£…npmåº“æ–‡ä»¶ï¼Œnpm install stompjs import Stomp from \"stompjs\"; // å®šä¹‰ä¸€ä¸ªRabbitMQå®¢æˆ·ç«¯ data() { return { client: Stomp.client(\"ws://localhost:15674/ws\"), }; }, // åˆå§‹åŒ–è¿æ¥æ“ä½œ created() { this.client.connect( \"ç”¨æˆ·å\", \"å¯†ç \", this.onConnected, this.onFailed, \"è™šæ‹Ÿä¸»æœºåç§°\" ); } methods: { onConnected: function () { //è®¢é˜…é¢‘é“ // const topic = localStorage.getItem(\"Lesan\"); console.log(\"è¿æ¥æˆåŠŸ\"); this.client.subscribe( \"/exchange/monitor/message\", this.responseCallback, this.onFailed ); }, onFailed: function (frame) { console.log(\"MQ Failed: \" + frame); this.$message.error(\"è¿æ¥å¤±è´¥\"); }, // å›ä¼ æ¶ˆæ¯ responseCallback: function (frame) { console.log(\"MQ msg=\u003e\" + frame.body); this.lineChartData = JSON.parse(frame.body); //æ¥æ”¶æ¶ˆæ¯å¤„ç† }, // æ–­å¼€ç›¸åº”çš„è¿æ¥ close: function () { this.client.disconnect(function () { console.log(\"å·²é€€å‡ºè´¦å·\"); }); }, }, ","date":"2022-03-19","objectID":"/%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81%E5%8A%9F%E8%83%BD/:2:2","tags":["æ¶ˆæ¯æ¨é€"],"title":"å®ç°ç®€å•æ¶ˆæ¯æ¨é€åŠŸèƒ½","uri":"/%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81%E5%8A%9F%E8%83%BD/"},{"categories":["å®è·µç¬”è®°"],"content":"MQTTå®ç° ","date":"2022-03-19","objectID":"/%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81%E5%8A%9F%E8%83%BD/:3:0","tags":["æ¶ˆæ¯æ¨é€"],"title":"å®ç°ç®€å•æ¶ˆæ¯æ¨é€åŠŸèƒ½","uri":"/%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81%E5%8A%9F%E8%83%BD/"},{"categories":["å®è·µç¬”è®°"],"content":"ç®€ä»‹ MQTTæ˜¯IBMå¼€å‘çš„ä¸€ä¸ªå³æ—¶é€šè®¯åè®®ï¼Œè¯¥åè®®æ”¯æŒæ‰€æœ‰çš„å¹³å°ï¼Œå‡ ä¹å¯ä»¥æŠŠæ‰€æœ‰è”ç½‘çš„ç‰©å“å’Œå¤–éƒ¨è¿æ¥èµ·æ¥ã€‚ ä½¿ç”¨å‘å¸ƒ/è®¢é˜…æ¶ˆæ¯æ¨¡å¼ï¼Œæä¾›ä¸€å¯¹å¤šçš„æ¶ˆæ¯å‘å¸ƒï¼Œè§£é™¤åº”ç”¨ç¨‹åºè€¦åˆã€‚è¿™ä¸€ç‚¹å¾ˆç±»ä¼¼äºXMPPï¼Œä½†æ˜¯MQTTçš„ä¿¡æ¯å†—ä½™è¿œå°äºXMPPã€‚ ä½¿ç”¨TCP/IPæä¾›ç½‘ç»œè¿æ¥ã€‚ä¸»æµçš„MQTTæ˜¯åŸºäºTCPè¿æ¥è¿›è¡Œæ•°æ®æ¨é€çš„ï¼Œä½†æ˜¯åŒæ ·æœ‰åŸºäºUDPçš„ç‰ˆæœ¬ï¼Œå«åšMQTT-SNã€‚è¿™ä¸¤ç§ç‰ˆæœ¬ç”±äºåŸºäºä¸åŒçš„è¿æ¥æ–¹å¼ï¼Œä¼˜ç¼ºç‚¹è‡ªç„¶ä¹Ÿå°±å„æœ‰ä¸åŒäº†ã€‚ ä¸‰ç§æ¶ˆæ¯ä¼ è¾“æ–¹å¼QoSï¼š 0ä»£è¡¨â€œè‡³å¤šä¸€æ¬¡â€ï¼Œæ¶ˆæ¯å‘å¸ƒå®Œå…¨ä¾èµ–åº•å±‚ TCP/IP åè®®ã€‚ä¼šå‘ç”Ÿæ¶ˆæ¯ä¸¢å¤±æˆ–é‡å¤ã€‚è¿™ä¸€çº§åˆ«å¯ç”¨äºå¦‚ä¸‹æƒ…å†µï¼Œç¯å¢ƒä¼ æ„Ÿå™¨æ•°æ®ï¼Œä¸¢å¤±ä¸€æ¬¡è¯»è®°å½•æ— æ‰€è°“ï¼Œå› ä¸ºä¸ä¹…åè¿˜ä¼šæœ‰ç¬¬äºŒæ¬¡å‘é€ 1ä»£è¡¨â€œè‡³å°‘ä¸€æ¬¡â€ï¼Œç¡®ä¿æ¶ˆæ¯åˆ°è¾¾ï¼Œä½†æ¶ˆæ¯é‡å¤å¯èƒ½ä¼šå‘ç”Ÿ 2ä»£è¡¨â€œåªæœ‰ä¸€æ¬¡â€ï¼Œç¡®ä¿æ¶ˆæ¯åˆ°è¾¾ä¸€æ¬¡ã€‚è¿™ä¸€çº§åˆ«å¯ç”¨äºå¦‚ä¸‹æƒ…å†µï¼Œåœ¨è®¡è´¹ç³»ç»Ÿä¸­ï¼Œæ¶ˆæ¯é‡å¤æˆ–ä¸¢å¤±ä¼šå¯¼è‡´ä¸æ­£ç¡®çš„ç»“æœ ","date":"2022-03-19","objectID":"/%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81%E5%8A%9F%E8%83%BD/:3:1","tags":["æ¶ˆæ¯æ¨é€"],"title":"å®ç°ç®€å•æ¶ˆæ¯æ¨é€åŠŸèƒ½","uri":"/%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81%E5%8A%9F%E8%83%BD/"},{"categories":["å®è·µç¬”è®°"],"content":"ç¤ºä¾‹ æœåŠ¡ç«¯å¼€å‘ æ‰€éœ€NugetåŒ…ï¼š\u003cPackageReference Include=\"MQTTnet.AspNetCore\" Version=\"3.1.2\" /\u003e å¯¹Program.csä¿®æ”¹ï¼š public static IHostBuilder CreateHostBuilder(string[] args) =\u003e Host.CreateDefaultBuilder(args) .ConfigureWebHostDefaults(webBuilder =\u003e { webBuilder.UseKestrel(o =\u003e { o.ListenAnyIP(8988); o.ListenAnyIP(1884, t =\u003e t.UseMqtt()); }); webBuilder.UseStartup\u003cStartup\u003e(); //webBuilder.UseUrls(\"http://0.0.0.0:8988\"); }); å¯¹Startup.csä¿®æ”¹ï¼š // åœ¨ConfigureServiceså‡½æ•°ä¸­æ·»åŠ  services.AddHostedMqttServer(mqttServer =\u003e mqttServer.WithoutDefaultEndpoint().WithConnectionValidator(c =\u003e { if (c.Username != \"admin\" || c.Password != \"123456\") { c.ReasonCode = MqttConnectReasonCode.BadUserNameOrPassword; return; } c.ReasonCode = MqttConnectReasonCode.Success; })) .AddMqttConnectionHandler() .AddConnections(); // åœ¨Configureå‡½æ•°ä¸­æ·»åŠ  app.UseEndpoints(endpoints =\u003e { endpoints.MapConnectionHandler\u003cMqttConnectionHandler\u003e( \"/mqtt\", httpConnectionDispatcherOptions =\u003e httpConnectionDispatcherOptions.WebSockets.SubProtocolSelector = protocolList =\u003e protocolList.FirstOrDefault() ?? string.Empty); }); app.UseMqttServer(S =\u003e { MqttHelper.Server = S; S.ClientConnectedHandler = new MqttServerClientConnectedHandlerDelegate(OnConnected); S.StartedHandler = new MqttServerStartedHandlerDelegate(OnStarted); }); // æ·»åŠ äº‹ä»¶å¤„ç†å‡½æ•° private void OnStarted(EventArgs obj) { RecurringJob.AddOrUpdate\u003cMonitorService\u003e(\"MonitorData\", p =\u003e p.UpdateDataAsync(\"å¤§å±\"), \"0/15 * * * * *\"); } private void OnConnected(MqttServerClientConnectedEventArgs args) { Console.WriteLine(args.ClientId); } // æ¶ˆæ¯æ¨é€æ–¹æ³• MqttHelper.PublishAsync(\"monitor\", JsonConvert.SerializeObject(new { expectedData, actualData })); æ·»åŠ MqttHelperç±»ï¼š using MQTTnet.Server; using System.Text; namespace Common { public class MqttHelper { public static IMqttServer Server { get; set; } public static void PublishAsync(string topic, byte[] payload) { if (Server != null) { Server.PublishAsync(new MQTTnet.MqttApplicationMessage() { Topic = topic, Payload = payload }, new System.Threading.CancellationToken(false)); } } public static void PublishAsync(string topic, string payload) { if (Server != null) { Server.PublishAsync(new MQTTnet.MqttApplicationMessage() { Topic = topic, Payload = Encoding.UTF8.GetBytes(payload) }, new System.Threading.CancellationToken(false)); ; } } } } å®¢æœç«¯å¼€å‘ é¦–å…ˆéœ€è¦å¼•å…¥npmåŒ…ï¼šnpm install mqtt import mqtt from \"mqtt\"; // è¿æ¥MqttæœåŠ¡å™¨ï¼Œå¹¶è®¢é˜…æ¶ˆæ¯ mounted() { let that = this; let mqttClient = mqtt.connect(\"ws://localhost:8988/mqtt\", { username: \"ç”¨æˆ·å\", password: \"å¯†ç \", clientId: \"å®¢æˆ·ç«¯ID\", }); mqttClient.on(\"connect\", (e) =\u003e { console.log(\"connected\", e); mqttClient.subscribe(\"monitor\", { qos: 1 }, (err) =\u003e { if (!err) { console.log(\"subscribed\"); } }); }); mqttClient.on(\"message\", (topic, message) =\u003e { console.log(topic, message.toString()); that.lineChartData = JSON.parse(message.toString()); }); }, ","date":"2022-03-19","objectID":"/%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81%E5%8A%9F%E8%83%BD/:3:2","tags":["æ¶ˆæ¯æ¨é€"],"title":"å®ç°ç®€å•æ¶ˆæ¯æ¨é€åŠŸèƒ½","uri":"/%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81%E5%8A%9F%E8%83%BD/"},{"categories":["å®è·µç¬”è®°"],"content":"å…¶ä»– Vueå‰ç«¯æµ‹è¯•å®¢æˆ·ç«¯å…¨éƒ¨ä»£ç ï¼Œé€šè¿‡Vue-cliæ­å»ºçš„é¡¹ç›®ï¼Œä¿®æ”¹App.vueå³å¯ \u003ctemplate\u003e \u003cdiv id=\"app\"\u003e \u003cimg alt=\"Vue logo\" src=\"./assets/logo.png\" /\u003e \u003cHelloWorld msg=\"Welcome to Your Vue.js App\" /\u003e \u003c/div\u003e \u003c/template\u003e \u003cscript\u003e import HelloWorld from \"./components/HelloWorld.vue\"; import mqtt from \"mqtt\"; import Stomp from \"stompjs\"; export default { name: \"App\", components: { HelloWorld, }, data() { return { rabbitClient: Stomp.client(\"ws://172.21.30.233:15674/ws\"), }; }, created() {}, mounted() { // this.useMqtt(); // this.useRabbitMQ(); this.useSignalR(); }, methods: { useSignalR() { const signalR = require(\"@microsoft/signalr\"); const conn = new signalR.HubConnectionBuilder() .withUrl(\"http://172.21.30.233:8988/chatHub\") .withAutomaticReconnect() .configureLogging(signalR.LogLevel.Error) .build(); conn .start() .then(() =\u003e { console.log(\"conneted\"); conn.invoke(\"AddToGroup\", \"å¤§å±\").catch(function (err) { return console.error(err.toString()); }); conn.on(\"ReceiveMessageFromGroup\", function (group, message) { console.log(group + \" \" + message); }); }) .catch((err) =\u003e { return console.error(err.toString()); }); }, useMqtt() { let mqttClient = mqtt.connect(\"ws://172.21.30.233:8988/mqtt\", { username: \"admin\", password: \"123456\", // clientId: \"Lesan\", }); mqttClient.on(\"connect\", (e) =\u003e { console.log(\"connected\", e); mqttClient.subscribe(\"monitor\", { qos: 1 }, (err) =\u003e { if (!err) { console.log(\"subscribed\"); } }); }); mqttClient.on(\"message\", (topic, message) =\u003e { console.log(topic, message.toString()); }); }, useRabbitMQ() { // this.rabbitClient.heartbeat.outgoing = 0; // this.rabbitClient.heartbeat.incoming = 0; this.rabbitClient.connect( \"KB\", \"KB\", this.onConnected, this.onFailed, \"kb_monitor\" ); }, onConnected: function () { //è®¢é˜…é¢‘é“ // const topic = localStorage.getItem(\"Lesan\"); console.log(\"è¿æ¥æˆåŠŸ\"); this.rabbitClient.subscribe( \"/exchange/monitor/message\", this.responseCallback, this.onFailed ); }, onFailed: function (frame) { console.log(\"MQ Failed: \" + frame); this.$message.error(\"è¿æ¥å¤±è´¥\"); }, // å›ä¼ æ¶ˆæ¯ responseCallback: function (frame) { console.log(\"MQ msg=\u003e\" + frame.body); //æ¥æ”¶æ¶ˆæ¯å¤„ç† }, // æ–­å¼€ç›¸åº”çš„è¿æ¥ close: function () { this.rabbitClient.disconnect(function () { console.log(\"å·²é€€å‡ºè´¦å·\"); }); }, }, }; \u003c/script\u003e \u003cstyle\u003e #app { font-family: Avenir, Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; text-align: center; color: #2c3e50; margin-top: 60px; } \u003c/style\u003e ","date":"2022-03-19","objectID":"/%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81%E5%8A%9F%E8%83%BD/:4:0","tags":["æ¶ˆæ¯æ¨é€"],"title":"å®ç°ç®€å•æ¶ˆæ¯æ¨é€åŠŸèƒ½","uri":"/%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81%E5%8A%9F%E8%83%BD/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"RabbitMQç®€è¿° MQå…¨ç§°ä¸ºMessage Queue, æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMQï¼‰æ˜¯ä¸€ç§åº”ç”¨ç¨‹åºå¯¹åº”ç”¨ç¨‹åºçš„é€šä¿¡æ–¹æ³•ã€‚RabbitMQæ˜¯ä¸€ä¸ªåœ¨AMQPåŸºç¡€ä¸Šå®Œæ•´çš„ï¼Œå¯å¤ç”¨çš„ä¼ä¸šæ¶ˆæ¯ç³»ç»Ÿã€‚ä»–éµå¾ªMozilla Public Licenseå¼€æºåè®®ã€‚AMQP(é«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®) æ˜¯ä¸€ä¸ªå¼‚æ­¥æ¶ˆæ¯ä¼ é€’æ‰€ä½¿ç”¨çš„åº”ç”¨å±‚åè®®è§„èŒƒï¼Œä½œä¸ºçº¿è·¯å±‚åè®®ï¼Œè€Œä¸æ˜¯APIï¼ˆä¾‹å¦‚JMSï¼‰ï¼ŒAMQP å®¢æˆ·ç«¯èƒ½å¤Ÿæ— è§†æ¶ˆæ¯çš„æ¥æºä»»æ„å‘é€å’Œæ¥å—ä¿¡æ¯ã€‚AMQPçš„åŸå§‹ç”¨é€”åªæ˜¯ä¸ºé‡‘èç•Œæä¾›ä¸€ä¸ªå¯ä»¥å½¼æ­¤åä½œçš„æ¶ˆæ¯åè®®ï¼Œè€Œç°åœ¨çš„ç›®æ ‡åˆ™æ˜¯ä¸ºé€šç”¨æ¶ˆæ¯é˜Ÿåˆ—æ¶æ„æä¾›é€šç”¨æ„å»ºå·¥å…·ã€‚å› æ­¤ï¼Œé¢å‘æ¶ˆæ¯çš„ä¸­é—´ä»¶ ï¼ˆMOMï¼‰ç³»ç»Ÿï¼Œä¾‹å¦‚å‘å¸ƒ/è®¢é˜…é˜Ÿåˆ—ï¼Œæ²¡æœ‰ä½œä¸ºåŸºæœ¬å…ƒç´ å®ç°ã€‚AMQPå½“ä¸­æœ‰å››ä¸ªæ¦‚å¿µéå¸¸é‡è¦ï¼ˆä¸€ä¸ªè™šæ‹Ÿä¸»æœºæŒæœ‰ä¸€ç»„äº¤æ¢æœºã€é˜Ÿåˆ—å’Œç»‘å®šï¼‰ï¼š virtual hostï¼Œè™šæ‹Ÿä¸»æœº exchangeï¼Œäº¤æ¢æœº queueï¼Œé˜Ÿåˆ— bindingï¼Œç»‘å®š ","date":"2022-02-17","objectID":"/rabbitmq%E5%AD%A6%E4%B9%A0/:1:0","tags":["RabbitMQ",".NET"],"title":"RabbitMQå­¦ä¹ ","uri":"/rabbitmq%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"æ¶ˆæ¯ä¼ é€’è¿‡ç¨‹ ä¸Šå›¾ä¸ºRabbitMQä¸­ä¸€äº›é‡è¦åè¯çš„æ¦‚è¿°ï¼Œå…¶ä¸­åŒ…æ‹¬Connectionã€Channelã€Exchangeã€Queueã€Bindã€Routing Key ä¸Šå›¾ä¸ºæ¶ˆæ¯ä»ç”Ÿäº§åˆ°æ¶ˆè´¹çš„æ•´ä¸ªæµç¨‹ï¼Œå…¶ä¸­Exchangeï¼Œä¸Queueéƒ½æ˜¯å¯ä»¥è®¾ç½®ç›¸å…³å±æ€§ï¼Œé˜Ÿåˆ—çš„æŒä¹…åŒ–ï¼Œäº¤æ¢å™¨ç±»å‹åˆ¶å®š è¿™ä¸ªè¿‡ç¨‹èµ°åˆ†ä¸‰ä¸ªéƒ¨åˆ†ï¼Œ1ã€å®¢æˆ·ç«¯ï¼ˆç”Ÿäº§æ¶ˆæ¯é˜Ÿåˆ—ï¼‰ï¼Œ2ã€RabbitMQæœåŠ¡ç«¯ï¼ˆè´Ÿè´£è·¯ç”±è§„åˆ™çš„ç»‘å®šä¸æ¶ˆæ¯çš„åˆ†å‘ï¼‰ï¼Œ3ã€å®¢æˆ·ç«¯ï¼ˆæ¶ˆè´¹æ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ï¼‰ ç”±å›¾å¯ä»¥çœ‹å‡ºï¼Œä¸€ä¸ªæ¶ˆæ¯å¯ä»¥èµ°ä¸€æ¬¡ç½‘ç»œå´è¢«åˆ†å‘åˆ°ä¸åŒçš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œç„¶åè¢«å¤šä¸ªçš„å®¢æˆ·ç«¯æ¶ˆè´¹ï¼Œé‚£ä¹ˆè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯RabbitMQçš„æ ¸å¿ƒæœºåˆ¶ï¼ŒRabbitMQçš„è·¯ç”±ç±»å‹ä¸æ¶ˆè´¹æ¨¡å¼ ","date":"2022-02-17","objectID":"/rabbitmq%E5%AD%A6%E4%B9%A0/:2:0","tags":["RabbitMQ",".NET"],"title":"RabbitMQå­¦ä¹ ","uri":"/rabbitmq%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"RabbitMQä¸­Exchangeçš„ç±»å‹ ç±»å‹æœ‰4ç§ï¼Œdirectï¼Œfanoutï¼Œtopicï¼Œheadersã€‚å…¶ä¸­headersä¸å¸¸ç”¨ï¼Œæœ¬ç¯‡ä¸åšä»‹ç»ï¼Œå…¶ä»–ä¸‰ç§ç±»å‹ï¼Œä¼šåšè¯¦ç»†ä»‹ç»ã€‚ é‚£ä¹ˆè¿™äº›ç±»å‹æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå°±æ˜¯Exchangeä¸é˜Ÿåˆ—è¿›è¡Œç»‘å®šåï¼Œæ¶ˆæ¯æ ¹æ®exchangçš„ç±»å‹ï¼ŒæŒ‰ç…§ä¸åŒçš„ç»‘å®šè§„åˆ™åˆ†å‘æ¶ˆæ¯åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ¶ˆæ¯è¢«åˆ†å‘ç»™å¤šä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ¶ˆæ¯åˆ†å‘åˆ°ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ã€‚å…·ä½“è¯·çœ‹ä¸‹æ–‡ã€‚ ä»‹ç»ä¹‹åˆè¿˜è¦è¯´ä¸‹RoutingKeyï¼Œè¿™æ˜¯ä¸ªä»€ä¹ˆç©æ„å‘¢ï¼Ÿä»–æ˜¯exchangeä¸æ¶ˆæ¯é˜Ÿåˆ—ç»‘å®šä¸­çš„ä¸€ä¸ªæ ‡è¯†ã€‚æœ‰äº›è·¯ç”±ç±»å‹ä¼šæŒ‰ç…§æ ‡è¯†å¯¹åº”æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæœ‰äº›è·¯ç”±ç±»å‹å¿½ç•¥routingkeyã€‚å…·ä½“çœ‹ä¸‹æ–‡ã€‚ ","date":"2022-02-17","objectID":"/rabbitmq%E5%AD%A6%E4%B9%A0/:3:0","tags":["RabbitMQ",".NET"],"title":"RabbitMQå­¦ä¹ ","uri":"/rabbitmq%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"Exchangeç±»å‹direct æ ¹æ®äº¤æ¢å™¨åç§°ä¸routingkeyæ¥æ‰¾é˜Ÿåˆ—çš„ Note:æ¶ˆæ¯ä»clientå‘å‡ºï¼Œä¼ é€ç»™äº¤æ¢å™¨ChangeAï¼ŒRoutingKeyä¸ºroutingkey.ZLH,é‚£ä¹ˆä¸ç®¡ä½ å‘é€ç»™Queue1ï¼Œè¿˜æ˜¯Queue2ä¸€ä¸ªæ¶ˆæ¯éƒ½ä¼šä¿å­˜åœ¨Queue1ï¼ŒQueue2ï¼ŒQueue3ï¼Œä¸‰ä¸ªé˜Ÿåˆ—ä¸­ã€‚è¿™å°±æ˜¯äº¤æ¢å™¨çš„directç±»å‹çš„è·¯ç”±è§„åˆ™ã€‚åªè¦æ‰¾åˆ°è·¯ç”±å™¨ä¸routingkeyç»‘å®šçš„é˜Ÿåˆ—ï¼Œé‚£ä¹ˆä»–æœ‰å¤šå°‘é˜Ÿåˆ—ï¼Œä»–å°±åˆ†å‘ç»™å¤šå°‘é˜Ÿåˆ—ã€‚ ","date":"2022-02-17","objectID":"/rabbitmq%E5%AD%A6%E4%B9%A0/:3:1","tags":["RabbitMQ",".NET"],"title":"RabbitMQå­¦ä¹ ","uri":"/rabbitmq%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"Exchangeç±»å‹fanout è¿™ä¸ªç±»å‹å¿½ç•¥Routingkeyï¼Œä»–ä¸ºå¹¿æ’­æ¨¡å¼ Note:æ¶ˆæ¯ä»å®¢æˆ·ç«¯å‘å‡ºï¼Œåªè¦queueä¸exchangeæœ‰ç»‘å®šï¼Œé‚£ä¹ˆä»–ä¸ç®¡ä½ çš„Routingkeyæ˜¯ä»€ä¹ˆä»–éƒ½ä¼šå°†æ¶ˆæ¯åˆ†å‘ç»™æ‰€æœ‰ä¸è¯¥exchangç»‘å®šçš„é˜Ÿåˆ—ä¸­ã€‚ ","date":"2022-02-17","objectID":"/rabbitmq%E5%AD%A6%E4%B9%A0/:3:2","tags":["RabbitMQ",".NET"],"title":"RabbitMQå­¦ä¹ ","uri":"/rabbitmq%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"Exchangeç±»å‹topic è¿™ä¸ªç±»å‹çš„è·¯ç”±è§„åˆ™å¦‚æœä½ æŒæ¡å•¦ï¼Œé‚£æ˜¯ç›¸å½“çš„å¥½ç”¨ï¼Œä¸çµæ´»ã€‚ä»–æ˜¯æ ¹æ®RoutingKeyçš„è®¾ç½®ï¼Œæ¥åšåŒ¹é…çš„ï¼Œå…¶ä¸­è¿™é‡Œè¿˜æœ‰ä¸¤ä¸ªé€šé…ç¬¦ä¸ºï¼š *ï¼Œä»£è¡¨ä»»æ„çš„ä¸€ä¸ªè¯ã€‚ä¾‹å¦‚topic.zlh.*ï¼Œä»–èƒ½å¤ŸåŒ¹é…åˆ°ï¼Œtopic.zlh.one ,topic.zlh.two ,topic.zlh.abc, â€¦. #ï¼Œä»£è¡¨ä»»æ„å¤šä¸ªè¯ã€‚ä¾‹å¦‚topic.#ï¼Œä»–èƒ½å¤ŸåŒ¹é…åˆ°ï¼Œtopic.zlh.one ,topic.zlh.two ,topic.zlh.abc, â€¦. Noteï¼šè¿™ä¸ªå›¾çœ‹ä¸Šå»å¾ˆä¹±ï¼Œä½†æ˜¯ä»–æ˜¯æ ¹æ®åŒ¹é…ç¬¦åšåŒ¹é…çš„ï¼Œè¿™é‡Œæˆ‘å»ºè®®ä½ è‡ªå·±åšä¸‹æ¶ˆæ¯é˜Ÿåˆ—çš„å…·ä½“æ“ä½œã€‚ss ","date":"2022-02-17","objectID":"/rabbitmq%E5%AD%A6%E4%B9%A0/:3:3","tags":["RabbitMQ",".NET"],"title":"RabbitMQå­¦ä¹ ","uri":"/rabbitmq%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"æ¶ˆæ¯é˜Ÿåˆ—çš„æ¶ˆè´¹ä¸æ¶ˆæ¯ç¡®è®¤ ","date":"2022-02-17","objectID":"/rabbitmq%E5%AD%A6%E4%B9%A0/:4:0","tags":["RabbitMQ",".NET"],"title":"RabbitMQå­¦ä¹ ","uri":"/rabbitmq%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"æ¶ˆæ¯é˜Ÿåˆ—çš„æ¶ˆè´¹ Note:å¦‚æœä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ä¸­æœ‰å¤§é‡æ¶ˆæ¯ç­‰å¾…æ“ä½œæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å¤šä¸ªå®¢æˆ·ç«¯æ¥å¤„ç†æ¶ˆæ¯ï¼Œè¿™é‡Œçš„åˆ†å‘æœºåˆ¶æ˜¯é‡‡ç”¨è´Ÿè½½å‡è¡¡ç®—æ³•ä¸­çš„è½®è¯¢ã€‚ç¬¬ä¸€ä¸ªæ¶ˆæ¯ç»™Aï¼Œä¸‹ä¸€ä¸ªæ¶ˆæ¯ç»™Bï¼Œä¸‹ä¸‹ä¸€ä¸ªæ¶ˆæ¯ç»™Aï¼Œä¸‹ä¸‹ä¸‹ä¸€ä¸ªæ¶ˆæ¯ç»™Bâ€¦â€¦ä»¥æ­¤ç±»æ¨ ","date":"2022-02-17","objectID":"/rabbitmq%E5%AD%A6%E4%B9%A0/:4:1","tags":["RabbitMQ",".NET"],"title":"RabbitMQå­¦ä¹ ","uri":"/rabbitmq%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"æ¶ˆæ¯ç¡®è®¤ ä¿è¯æ¶ˆæ¯çš„å®‰å…¨æ€§ï¼Œä¿è¯æ­¤æ¶ˆæ¯è¢«æ­£ç¡®å¤„ç†åæ‰èƒ½åœ¨æœåŠ¡ç«¯çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­åˆ é™¤ã€‚é‚£ä¹ˆrabbitmqæä¾›å•¦ackåº”ç­”æœºåˆ¶ï¼Œæ¥å®ç°è¿™ä¸€åŠŸèƒ½ã€‚ ackåº”ç­”æœ‰ä¸¤ç§æ–¹å¼ï¼š1ã€è‡ªåŠ¨åº”ç­”ï¼Œ2ã€æ‰‹åŠ¨åº”ç­” ","date":"2022-02-17","objectID":"/rabbitmq%E5%AD%A6%E4%B9%A0/:4:2","tags":["RabbitMQ",".NET"],"title":"RabbitMQå­¦ä¹ ","uri":"/rabbitmq%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"ä½¿ç”¨ä¾‹å­ ","date":"2022-02-17","objectID":"/rabbitmq%E5%AD%A6%E4%B9%A0/:5:0","tags":["RabbitMQ",".NET"],"title":"RabbitMQå­¦ä¹ ","uri":"/rabbitmq%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"ç”Ÿäº§è€… using RabbitMQ.Client; using System; using System.Text; namespace RabbitMQProduct { internal class Program { static void Main(string[] args) { Console.WriteLine(\"Welcome to RabbitMQ Product!\"); DirectExchangeSendMsg(); // TopicExchangeSendMsg(); Console.WriteLine(\"æŒ‰ä»»æ„å€¼ï¼Œé€€å‡ºç¨‹åº\"); Console.ReadKey(); } /// \u003csummary\u003e /// è¿æ¥é…ç½® /// \u003c/summary\u003e private static readonly ConnectionFactory rabbitMqFactory = new ConnectionFactory() { UserName = \"guest\", Password = \"guest\", Port = 5672, //VirtualHost = \"LesanVirtualHost\" }; /// \u003csummary\u003e /// è·¯ç”±åç§° /// \u003c/summary\u003e const string ExchangeName = \"Lesan.exchange\"; //é˜Ÿåˆ—åç§° const string QueueName = \"Lesan.queue\"; /// \u003csummary\u003e /// è·¯ç”±åç§° /// \u003c/summary\u003e const string TopExchangeName = \"topic.Lesan.exchange\"; //é˜Ÿåˆ—åç§° const string TopQueueName = \"topic.Lesan.queue\"; /// \u003csummary\u003e /// å•ç‚¹ç²¾ç¡®è·¯ç”±æ¨¡å¼ /// \u003c/summary\u003e public static void DirectExchangeSendMsg() { using (IConnection conn = rabbitMqFactory.CreateConnection()) { using (IModel channel = conn.CreateModel()) { //è®¾ç½®äº¤æ¢å™¨çš„ç±»å‹ channel.ExchangeDeclare(ExchangeName, ExchangeType.Direct, durable: true, autoDelete: false, arguments: null); //å£°æ˜ä¸€ä¸ªé˜Ÿåˆ—ï¼Œè®¾ç½®é˜Ÿåˆ—æ˜¯å¦æŒä¹…åŒ–ï¼Œæ’ä»–æ€§ï¼Œä¸è‡ªåŠ¨åˆ é™¤ channel.QueueDeclare(QueueName, durable: true, autoDelete: false, exclusive: false, arguments: null); //ç»‘å®šæ¶ˆæ¯é˜Ÿåˆ—ï¼Œäº¤æ¢å™¨ï¼Œroutingkey channel.QueueBind(QueueName, ExchangeName, routingKey: QueueName); var props = channel.CreateBasicProperties(); //é˜Ÿåˆ—æŒä¹…åŒ– props.Persistent = true; string vadata = Console.ReadLine(); while (vadata != \"exit\") { var msgBody = Encoding.UTF8.GetBytes(vadata); //å‘é€ä¿¡æ¯ channel.BasicPublish(exchange: ExchangeName, routingKey: QueueName, basicProperties: props, body: msgBody); Console.WriteLine(string.Format(\"***å‘é€æ—¶é—´:{0}ï¼Œå‘é€å®Œæˆï¼Œè¾“å…¥exité€€å‡ºæ¶ˆæ¯å‘é€\", DateTime.Now.ToString(\"yyyy-MM-dd HH:mm:ss\"))); vadata = Console.ReadLine(); } } } } /// \u003csummary\u003e /// topic æ¨¡ç³ŠåŒ¹é…æ¨¡å¼ï¼Œç¬¦å·â€œ#â€åŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªè¯ï¼Œç¬¦å·â€œ*â€åŒ¹é…ä¸å¤šä¸å°‘ä¸€ä¸ªè¯ã€‚å› æ­¤â€œlog.#â€èƒ½å¤ŸåŒ¹é…åˆ°â€œlog.info.oaâ€ï¼Œä½†æ˜¯â€œlog.*â€ åªä¼šåŒ¹é…åˆ°â€œlog.errorâ€ /// \u003c/summary\u003e public static void TopicExchangeSendMsg() { using (IConnection conn = rabbitMqFactory.CreateConnection()) { using (IModel channel = conn.CreateModel()) { channel.ExchangeDeclare(TopExchangeName, ExchangeType.Topic, durable: false, autoDelete: false, arguments: null); channel.QueueDeclare(TopQueueName, durable: false, autoDelete: false, exclusive: false, arguments: null); channel.QueueBind(TopQueueName, TopExchangeName, routingKey: TopQueueName); //var props = channel.CreateBasicProperties(); //props.Persistent = true; string vadata = Console.ReadLine(); while (vadata != \"exit\") { var msgBody = Encoding.UTF8.GetBytes(vadata); channel.BasicPublish(exchange: TopExchangeName, routingKey: TopQueueName, basicProperties: null, body: msgBody); Console.WriteLine(string.Format(\"***å‘é€æ—¶é—´:{0}ï¼Œå‘é€å®Œæˆï¼Œè¾“å…¥exité€€å‡ºæ¶ˆæ¯å‘é€\", DateTime.Now.ToString(\"yyyy-MM-dd HH:mm:ss\"))); vadata = Console.ReadLine(); } } } } } } ","date":"2022-02-17","objectID":"/rabbitmq%E5%AD%A6%E4%B9%A0/:5:1","tags":["RabbitMQ",".NET"],"title":"RabbitMQå­¦ä¹ ","uri":"/rabbitmq%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"æ¶ˆè´¹è€… using RabbitMQ.Client; using RabbitMQ.Client.Events; using System; using System.Text; namespace RabbitMQConsumer { internal class Program { static void Main(string[] args) { Console.WriteLine(\"Welcome to RabbitMQ Consumer!\"); //DirectAcceptExchange(); //DirectAcceptExchangeEvent(); DirectAcceptExchangeTask(); //TopicAcceptExchange(); Console.WriteLine(\"æŒ‰ä»»æ„å€¼ï¼Œé€€å‡ºç¨‹åº\"); Console.ReadKey(); } /// \u003csummary\u003e /// è¿æ¥é…ç½® /// \u003c/summary\u003e private static readonly ConnectionFactory rabbitMqFactory = new ConnectionFactory() { UserName = \"guest\", Password = \"guest\", Port = 5672, //VirtualHost = \"LesanVirtualHost\" }; /// \u003csummary\u003e /// è·¯ç”±åç§° /// \u003c/summary\u003e const string ExchangeName = \"Lesan.exchange\"; //é˜Ÿåˆ—åç§° const string QueueName = \"Lesan.queue\"; /// \u003csummary\u003e /// è·¯ç”±åç§° /// \u003c/summary\u003e const string TopExchangeName = \"topic.Lesan.exchange\"; //é˜Ÿåˆ—åç§° const string TopQueueName = \"topic.Lesan.queue\"; /// \u003csummary\u003e /// åŸºäºæ—¶é—´è½®è¯¢çš„ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´è·å–ä¸€æ¬¡ /// \u003c/summary\u003e public static void DirectAcceptExchange() { using (IConnection conn = rabbitMqFactory.CreateConnection()) { using (IModel channel = conn.CreateModel()) { //è®¾ç½®äº¤æ¢å™¨çš„ç±»å‹ channel.ExchangeDeclare(ExchangeName, ExchangeType.Direct, durable: true, autoDelete: false, arguments: null); //å£°æ˜ä¸€ä¸ªé˜Ÿåˆ—ï¼Œè®¾ç½®é˜Ÿåˆ—æ˜¯å¦æŒä¹…åŒ–ï¼Œæ’ä»–æ€§ï¼Œä¸è‡ªåŠ¨åˆ é™¤ channel.QueueDeclare(QueueName, durable: true, autoDelete: false, exclusive: false, arguments: null); //ç»‘å®šæ¶ˆæ¯é˜Ÿåˆ—ï¼Œäº¤æ¢å™¨ï¼Œroutingkey channel.QueueBind(QueueName, ExchangeName, routingKey: QueueName); while (true) { BasicGetResult msgResponse = channel.BasicGet(QueueName, true); if (msgResponse != null) { var msgBody = Encoding.UTF8.GetString(msgResponse.Body.ToArray()); Console.WriteLine(string.Format(\"***æ¥æ”¶æ—¶é—´:{0}ï¼Œæ¶ˆæ¯å†…å®¹ï¼š{1}\", DateTime.Now.ToString(\"yyyy-MM-dd HH:mm:ss\"), msgBody)); } System.Threading.Thread.Sleep(TimeSpan.FromSeconds(1)); } } } } /// \u003csummary\u003e /// åŸºäºäº‹ä»¶çš„ï¼Œå½“æ¶ˆæ¯åˆ°è¾¾æ—¶è§¦å‘äº‹ä»¶ï¼Œè·å–æ•°æ® /// \u003c/summary\u003e public static void DirectAcceptExchangeEvent() { using (IConnection conn = rabbitMqFactory.CreateConnection()) { using (IModel channel = conn.CreateModel()) { //channel.ExchangeDeclare(ExchangeName, \"direct\", durable: true, autoDelete: false, arguments: null); channel.QueueDeclare(QueueName, durable: true, autoDelete: false, exclusive: false, arguments: null); //channel.QueueBind(QueueName, ExchangeName, routingKey: QueueName); var consumer = new EventingBasicConsumer(channel); consumer.Received += (model, ea) =\u003e { var msgBody = Encoding.UTF8.GetString(ea.Body.ToArray()); Console.WriteLine(string.Format(\"***æ¥æ”¶æ—¶é—´:{0}ï¼Œæ¶ˆæ¯å†…å®¹ï¼š{1}\", DateTime.Now.ToString(\"yyyy-MM-dd HH:mm:ss\"), msgBody)); }; channel.BasicConsume(QueueName, true, consumer: consumer); Console.WriteLine(\"æŒ‰ä»»æ„å€¼ï¼Œé€€å‡ºç¨‹åº\"); Console.ReadKey(); } } } /// \u003csummary\u003e /// åŸºäºäº‹ä»¶çš„ï¼Œå½“æ¶ˆæ¯åˆ°è¾¾æ—¶è§¦å‘äº‹ä»¶ï¼Œè·å–æ•°æ® /// \u003c/summary\u003e public static void DirectAcceptExchangeTask() { using (IConnection conn = rabbitMqFactory.CreateConnection()) { using (IModel channel = conn.CreateModel()) { //channel.ExchangeDeclare(ExchangeName, \"direct\", durable: true, autoDelete: false, arguments: null); channel.QueueDeclare(QueueName, durable: true, autoDelete: false, exclusive: false, arguments: null); channel.BasicQos(prefetchSize: 0, prefetchCount: 1, global: false);//å‘Šè¯‰brokeråŒä¸€æ—¶é—´åªå¤„ç†ä¸€ä¸ªæ¶ˆæ¯ //channel.QueueBind(QueueName, ExchangeName, routingKey: QueueName); //å®šä¹‰è¿™ä¸ªé˜Ÿåˆ—çš„æ¶ˆè´¹è€… var consumer = new EventingBasicConsumer(channel); consumer.Received += (model, ea) =\u003e { var msgBody = Encoding.UTF8.GetString(ea.Body.ToArray()); Console.WriteLine(string.Format(\"***æ¥æ”¶æ—¶é—´:{0}ï¼Œæ¶ˆæ¯å†…å®¹ï¼š{1}\", DateTime.Now.ToString(\"yyyy-MM-dd HH:mm:ss\"), msgBody)); int dots = msgBody.Split('.').Length - 1; System.Threading.Thread.Sleep(dots * 1000); //å¤„ç†å®Œæˆï¼Œå‘Šè¯‰Brokerå¯ä»¥æœåŠ¡ç«¯å¯ä»¥åˆ é™¤æ¶ˆæ¯ï¼Œåˆ†é…æ–°çš„æ¶ˆæ¯è¿‡æ¥ channel.BasicAck(deliveryTag: ea.DeliveryTag, multiple: false); }; //noAckè®¾ç½®false,å‘Šè¯‰brokerï¼Œå‘é€æ¶ˆæ¯ä¹‹åï¼Œæ¶ˆæ¯æš‚æ—¶ä¸è¦åˆ é™¤ï¼Œç­‰æ¶ˆè´¹è€…å¤„ç†å®Œæˆå†è¯´ //falseä¸ºæ‰‹åŠ¨åº”ç­”ï¼Œtrueä¸ºè‡ªåŠ¨åº”ç­” channel.BasicConsume(QueueName, false, consumer: consumer); Console.WriteLine(\"æŒ‰ä»»æ„å€¼ï¼Œé€€å‡ºç¨‹åº\"); Console.ReadKey(); } } } /// \u003csummary\u003e /// topic æ¨¡ç³ŠåŒ¹é…æ¨¡å¼ï¼Œç¬¦å·â€œ#â€åŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªè¯ï¼Œç¬¦å·â€œ*â€åŒ¹é…ä¸å¤šä¸å°‘ä¸€ä¸ªè¯ã€‚å› æ­¤â€œlog.#â€èƒ½å¤ŸåŒ¹é…åˆ°â€œlog.info.oaâ€ï¼Œä½†æ˜¯â€œlog.*â€ åªä¼šåŒ¹é…åˆ°â€œlog.errorâ€ /","date":"2022-02-17","objectID":"/rabbitmq%E5%AD%A6%E4%B9%A0/:5:2","tags":["RabbitMQ",".NET"],"title":"RabbitMQå­¦ä¹ ","uri":"/rabbitmq%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"å¼•ç”¨ ä»¥ä¸Šç¬”è®°æ‘˜å½•è‡ªç½‘ç»œ https://www.cnblogs.com/knowledgesea/p/5296008.html https://www.cnblogs.com/personblog/p/10681741.html ","date":"2022-02-17","objectID":"/rabbitmq%E5%AD%A6%E4%B9%A0/:6:0","tags":["RabbitMQ",".NET"],"title":"RabbitMQå­¦ä¹ ","uri":"/rabbitmq%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"æœ¬æ–‡ä¸ºä¸ªäººå­¦ä¹ å’Œå®è·µ Nginx çš„ç¬”è®° ","date":"2022-02-16","objectID":"/nginx%E5%AD%A6%E4%B9%A0/:0:0","tags":["Nginx"],"title":"Nginxå­¦ä¹ ","uri":"/nginx%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"Nginx å¸¸ç”¨åŠŸèƒ½ Nginx æœ‰ä»¥ä¸‹å‡ ä¸ªå¸¸ç”¨åŠŸèƒ½ åå‘ä»£ç† è¿™æ˜¯å®ƒçš„ä¸»è¦åŠŸèƒ½ä¹‹ä¸€ï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶ï¼Œä¼šå…ˆé€šè¿‡ Nginx æœåŠ¡å™¨ï¼Œç”±æœåŠ¡å™¨å°†è¯·æ±‚åˆ†å‘åˆ°ç›¸åº”çš„WebæœåŠ¡å™¨ã€‚æ­£å‘ä»£ç†æ˜¯ä»£ç†å®¢æˆ·ç«¯ï¼Œè€Œåå‘ä»£ç†åˆ™æ˜¯ä»£ç†æœåŠ¡å™¨ï¼ŒNginx åœ¨æä¾›åå‘ä»£ç†æœåŠ¡æ–¹é¢ï¼Œé€šè¿‡ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œç›¸å…³é…ç½®ï¼Œé‡‡å–ä¸åŒçš„è½¬å‘ç­–ç•¥ï¼Œé…ç½®ç›¸å½“çµæ´»ï¼Œè€Œä¸”åœ¨é…ç½®åç«¯è½¬å‘è¯·æ±‚æ—¶ï¼Œå®Œå…¨ä¸ç”¨å…³å¿ƒç½‘ç»œç¯å¢ƒå¦‚ä½•ï¼Œå¯ä»¥æŒ‡å®šä»»æ„çš„IPåœ°å€å’Œç«¯å£å·ï¼Œæˆ–å…¶ä»–ç±»å‹çš„è¿æ¥ã€è¯·æ±‚ç­‰ã€‚ è´Ÿè½½å‡è¡¡ è¿™ä¹Ÿæ˜¯ Nginx æœ€å¸¸ç”¨çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œè´Ÿè½½å‡è¡¡ï¼Œä¸€æ–¹é¢æ˜¯å°†å•ä¸€çš„é‡è´Ÿè½½åˆ†æ‹…åˆ°å¤šä¸ªç½‘ç»œèŠ‚ç‚¹ä¸Šåšå¹¶è¡Œå¤„ç†ï¼Œæ¯ä¸ªèŠ‚ç‚¹å¤„ç†ç»“æŸåå°†ç»“æœæ±‡æ€»è¿”å›ç»™ç”¨æˆ·ï¼Œè¿™æ ·å¯ä»¥å¤§å¹…åº¦æé«˜ç½‘ç»œç³»ç»Ÿçš„å¤„ç†èƒ½åŠ›ï¼›å¦ä¸€æ–¹é¢å°†å¤§é‡çš„å‰ç«¯å¹¶å‘è¯·æ±‚æˆ–æ•°æ®æµé‡åˆ†æ‹…åˆ°å¤šä¸ªåç«¯ç½‘ç»œèŠ‚ç‚¹åˆ†åˆ«å¤„ç†ï¼Œè¿™æ ·å¯ä»¥æœ‰æ•ˆå‡å°‘å‰ç«¯ç”¨æˆ·ç­‰å¾…ç›¸åº”çš„æ—¶é—´ã€‚è€Œ Nginx è´Ÿè½½å‡è¡¡éƒ½æ˜¯å±äºåä¸€æ–¹é¢ï¼Œä¸»è¦æ˜¯å¯¹å¤§é‡å‰ç«¯è®¿é—®æˆ–æµé‡è¿›è¡Œåˆ†æµï¼Œå·²ä¿è¯å‰ç«¯ç”¨æˆ·è®¿é—®æ•ˆç‡ï¼Œå¹¶å¯ä»¥å‡å°‘åç«¯æœåŠ¡å™¨å¤„ç†å‹åŠ›ã€‚ Webç¼“å­˜ åœ¨å¾ˆå¤šä¼˜ç§€çš„ç½‘ç«™ä¸­ï¼ŒNginx å¯ä»¥ä½œä¸ºå‰ç½®ç¼“å­˜æœåŠ¡å™¨ï¼Œå®ƒè¢«ç”¨äºç¼“å­˜å‰ç«¯è¯·æ±‚ï¼Œä»è€Œæé«˜ WebæœåŠ¡å™¨çš„æ€§èƒ½ã€‚Nginx ä¼šå¯¹ç”¨æˆ·å·²ç»è®¿é—®è¿‡çš„å†…å®¹åœ¨æœåŠ¡å™¨æœ¬åœ°å»ºç«‹å‰¯æœ¬ï¼Œè¿™æ ·åœ¨ä¸€æ®µæ—¶é—´å†…å†æ¬¡è®¿é—®è¯¥æ•°æ®ï¼Œå°±ä¸éœ€è¦é€šè¿‡ Nginx æœåŠ¡å™¨å‘åç«¯å‘å‡ºè¯·æ±‚ã€‚å‡è½»ç½‘ç»œæ‹¥å µï¼Œå‡å°æ•°æ®ä¼ è¾“å»¶æ—¶ï¼Œæé«˜ç”¨æˆ·è®¿é—®é€Ÿåº¦ã€‚ ","date":"2022-02-16","objectID":"/nginx%E5%AD%A6%E4%B9%A0/:1:0","tags":["Nginx"],"title":"Nginxå­¦ä¹ ","uri":"/nginx%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"Nginx å®‰è£… ","date":"2022-02-16","objectID":"/nginx%E5%AD%A6%E4%B9%A0/:2:0","tags":["Nginx"],"title":"Nginxå­¦ä¹ ","uri":"/nginx%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"ä¸‹è½½åœ°å€ Nginx ä¸‹è½½åœ°å€ï¼šhttp://nginx.org/en/download.html ","date":"2022-02-16","objectID":"/nginx%E5%AD%A6%E4%B9%A0/:2:1","tags":["Nginx"],"title":"Nginxå­¦ä¹ ","uri":"/nginx%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"Windows ç‰ˆæœ¬å®‰è£… è§£å‹ä¸‹è½½çš„æ–‡ä»¶å ä¸‹é¢å¯¹ä¸Šé¢æ–‡ä»¶å¤¹è¿›è¡Œä»‹ç»ï¼š conf ç›®å½•ï¼šå­˜æ”¾ Nginx çš„ä¸»è¦é…ç½®æ–‡ä»¶ï¼Œå¾ˆå¤šåŠŸèƒ½å®ç°éƒ½æ˜¯é€šè¿‡é…ç½®è¯¥ç›®å½•ä¸‹çš„ nginx.conf æ–‡ä»¶ï¼Œåé¢æˆ‘ä»¬ä¼šè¯¦ç»†ä»‹ç»ã€‚ docsç›®å½•ï¼šå­˜æ”¾ Nginx æœåŠ¡å™¨çš„ä¸»è¦æ–‡æ¡£èµ„æ–™ï¼ŒåŒ…æ‹¬ Nginx æœåŠ¡å™¨çš„ LICENSEã€OpenSSL çš„ LICENSE ã€PCRE çš„ LICENSE ä»¥åŠ zlib çš„ LICENSE ï¼Œè¿˜åŒ…æ‹¬æœ¬ç‰ˆæœ¬çš„ NginxæœåŠ¡å™¨å‡çº§çš„ç‰ˆæœ¬å˜æ›´è¯´æ˜ï¼Œä»¥åŠ README æ–‡æ¡£ã€‚ htmlç›®å½•ï¼šå­˜æ”¾äº†ä¸¤ä¸ªåç¼€åä¸º .html çš„é™æ€ç½‘é¡µæ–‡ä»¶ï¼Œè¿™ä¸¤ä¸ªæ–‡ä»¶ä¸ Nginx æœåŠ¡å™¨çš„è¿è¡Œç›¸å…³ã€‚ logsç›®å½•ï¼šå­˜æ”¾ Nginx æœåŠ¡å™¨è¿è¡Œçš„æ—¥å¿—æ–‡ä»¶ã€‚ nginx.exeï¼šå¯åŠ¨ Nginx æœåŠ¡å™¨çš„exeæ–‡ä»¶ï¼Œå¦‚æœ conf ç›®å½•ä¸‹çš„ nginx.conf æ–‡ä»¶é…ç½®æ­£ç¡®çš„è¯ï¼Œé€šè¿‡è¯¥æ–‡ä»¶å³å¯å¯åŠ¨ Nginx æœåŠ¡å™¨ã€‚ å…³é—­ nginx çš„æ–¹æ³•ï¼š è¿›å…¥åˆ° nginx ç›®å½•å¹¶ä¸”è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼šnginx.exe -s stop ","date":"2022-02-16","objectID":"/nginx%E5%AD%A6%E4%B9%A0/:2:2","tags":["Nginx"],"title":"Nginxå­¦ä¹ ","uri":"/nginx%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"Linux ç‰ˆæœ¬å®‰è£… é¦–å…ˆéœ€è¦å®‰è£… nginx çš„ä¾èµ–ç¯å¢ƒï¼š yum install gcc-c++ yum install -y pcre pcre-devel yum install -y zlib zlib-devel yum install -y openssl openssl-devel å¯¹äº gccï¼Œå› ä¸ºå®‰è£…nginxéœ€è¦å…ˆå°†å®˜ç½‘ä¸‹è½½çš„æºç è¿›è¡Œç¼–è¯‘ï¼Œç¼–è¯‘ä¾èµ–gccç¯å¢ƒï¼Œå¦‚æœæ²¡æœ‰gccç¯å¢ƒçš„è¯ï¼Œéœ€è¦å®‰è£…gccã€‚ å¯¹äº pcreï¼Œprce(Perl Compatible Regular Expressions)æ˜¯ä¸€ä¸ªPerlåº“ï¼ŒåŒ…æ‹¬ perl å…¼å®¹çš„æ­£åˆ™è¡¨è¾¾å¼åº“ã€‚nginxçš„httpæ¨¡å—ä½¿ç”¨pcreæ¥è§£ææ­£åˆ™è¡¨è¾¾å¼ï¼Œæ‰€ä»¥éœ€è¦åœ¨linuxä¸Šå®‰è£…pcreåº“ã€‚ å¯¹äº zlibï¼Œzlibåº“æä¾›äº†å¾ˆå¤šç§å‹ç¼©å’Œè§£å‹ç¼©çš„æ–¹å¼ï¼Œnginxä½¿ç”¨zlibå¯¹httpåŒ…çš„å†…å®¹è¿›è¡Œgzipï¼Œæ‰€ä»¥éœ€è¦åœ¨linuxä¸Šå®‰è£…zlibåº“ã€‚ å¯¹äº opensslï¼ŒOpenSSL æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å®‰å…¨å¥—æ¥å­—å±‚å¯†ç åº“ï¼Œå›Šæ‹¬ä¸»è¦çš„å¯†ç ç®—æ³•ã€å¸¸ç”¨çš„å¯†é’¥å’Œè¯ä¹¦å°è£…ç®¡ç†åŠŸèƒ½åŠSSLåè®®ï¼Œå¹¶æä¾›ä¸°å¯Œçš„åº”ç”¨ç¨‹åºä¾›æµ‹è¯•æˆ–å…¶å®ƒç›®çš„ä½¿ç”¨ã€‚nginxä¸ä»…æ”¯æŒhttpåè®®ï¼Œè¿˜æ”¯æŒhttpsï¼ˆå³åœ¨sslåè®®ä¸Šä¼ è¾“httpï¼‰ï¼Œæ‰€ä»¥éœ€è¦åœ¨linuxå®‰è£…opensslåº“ã€‚ ç¼–è¯‘åŠå®‰è£…ï¼š 1. é¦–å…ˆå°†ä¸‹è½½çš„æ–‡ä»¶æ”¾åˆ° Linux ç³»ç»Ÿä¸­ï¼Œç„¶åè§£å‹ï¼š tar -zxvf nginx-1.14.0.tar.gz 2. æ¥ç€è¿›å…¥è§£å‹ä¹‹åçš„ç›®å½•è¿›è¡Œç¼–è¯‘å®‰è£… ./configure --prefix=/usr/local/nginx make make install 3. è¿›å…¥åˆ°/usr/local/nginxç›®å½•ï¼Œå†è¿›å…¥sbinç›®å½•ï¼Œé€šè¿‡ä»¥ä¸‹å‘½ä»¤å¯åŠ¨nginx: ./nginx é€šè¿‡ ps -ef | grep nginx æŸ¥çœ‹nginxçš„è¿›ç¨‹ 4. å…³é—­nginxï¼š å¿«é€Ÿå…³é—­ï¼šcd /usr/local/nginx/sbin ./nginx -s stop ç›¸å½“äºç›´æ¥killæ‰nginxçš„è¿›ç¨‹id å¹³ç¼“å…³é—­ï¼šcd /usr/local/nginx/sbin ./nginx -s quit ç­‰nginxæœåŠ¡å¤„ç†å®Œæ‰€æœ‰è¯·æ±‚åå†å…³é—­è¿æ¥ï¼Œåœæ­¢å·¥ä½œ 5. é‡å¯nginx å…ˆåœæ­¢å†å¯åŠ¨ï¼š./nginx -s quit ./nginx é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ï¼š./nginx -s reload 6. æ£€æµ‹é…ç½®æ–‡ä»¶è¯­æ³•æ˜¯å¦æ­£ç¡® æŒ‡å®šéœ€è¦æ£€æµ‹çš„é…ç½®æ–‡ä»¶ï¼šnginx -t -c /usr/local/nginx/conf/nginx.conf æ£€æµ‹é»˜è®¤nginx.confé…ç½®æ–‡ä»¶ï¼šnginx -t ","date":"2022-02-16","objectID":"/nginx%E5%AD%A6%E4%B9%A0/:2:3","tags":["Nginx"],"title":"Nginxå­¦ä¹ ","uri":"/nginx%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"nginx.conf é…ç½®æ–‡ä»¶ æ ¹æ®é»˜è®¤é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†nginx.confé…ç½®æ–‡ä»¶åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š ","date":"2022-02-16","objectID":"/nginx%E5%AD%A6%E4%B9%A0/:3:0","tags":["Nginx"],"title":"Nginxå­¦ä¹ ","uri":"/nginx%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"å…¨å±€å— ä»é…ç½®æ–‡ä»¶å¼€å§‹åˆ° events å—ä¹‹é—´çš„å†…å®¹ï¼Œä¸»è¦ä¼šè®¾ç½®ä¸€äº›å½±å“ nginx æœåŠ¡å™¨æ•´ä½“è¿è¡Œçš„é…ç½®æŒ‡ä»¤ï¼Œä¸»è¦åŒ…æ‹¬é…ç½®è¿è¡Œ Nginx æœåŠ¡å™¨çš„ç”¨æˆ·ï¼ˆç»„ï¼‰ã€å…è®¸ç”Ÿæˆçš„ worker process æ•°ï¼Œè¿›ç¨‹ PID å­˜æ”¾è·¯å¾„ã€æ—¥å¿—å­˜æ”¾è·¯å¾„å’Œç±»å‹ä»¥åŠé…ç½®æ–‡ä»¶çš„å¼•å…¥ç­‰ã€‚ æ¯”å¦‚ï¼šworker_processes 1; è¿™æ˜¯NginxæœåŠ¡å™¨å¹¶å‘å¤„ç†æœåŠ¡çš„å…³é”®é…ç½®ï¼Œworker_processes å€¼è¶Šå¤§ï¼Œå¯ä»¥æ”¯æŒçš„å¹¶å‘å¤„ç†é‡ä¹Ÿè¶Šå¤šï¼Œä½†æ˜¯ä¼šå—åˆ°ç¡¬ä»¶ã€è½¯ä»¶ç­‰è®¾å¤‡çš„åˆ¶çº¦ã€‚ ","date":"2022-02-16","objectID":"/nginx%E5%AD%A6%E4%B9%A0/:3:1","tags":["Nginx"],"title":"Nginxå­¦ä¹ ","uri":"/nginx%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"events å— æ¯”å¦‚ï¼š events { worker_connections 1024; } events å—æ¶‰åŠçš„æŒ‡ä»¤ä¸»è¦å½±å“ Nginx æœåŠ¡å™¨ä¸ç”¨æˆ·çš„ç½‘ç»œè¿æ¥ï¼Œå¸¸ç”¨çš„è®¾ç½®åŒ…æ‹¬æ˜¯å¦å¼€å¯å¯¹å¤š work process ä¸‹çš„ç½‘ç»œè¿æ¥è¿›è¡Œåºåˆ—åŒ–ï¼Œæ˜¯å¦å…è®¸åŒæ—¶æ¥æ”¶å¤šä¸ªç½‘ç»œè¿æ¥ï¼Œé€‰å–å“ªç§äº‹ä»¶é©±åŠ¨æ¨¡å‹æ¥å¤„ç†è¿æ¥è¯·æ±‚ï¼Œæ¯ä¸ª word process å¯ä»¥åŒæ—¶æ”¯æŒçš„æœ€å¤§è¿æ¥æ•°ç­‰ã€‚ ä¸Šè¿°ä¾‹å­å°±è¡¨ç¤ºæ¯ä¸ª work process æ”¯æŒçš„æœ€å¤§è¿æ¥æ•°ä¸º 1024. è¿™éƒ¨åˆ†çš„é…ç½®å¯¹ Nginx çš„æ€§èƒ½å½±å“è¾ƒå¤§ï¼Œåœ¨å®é™…ä¸­åº”è¯¥çµæ´»é…ç½®ã€‚ ","date":"2022-02-16","objectID":"/nginx%E5%AD%A6%E4%B9%A0/:3:2","tags":["Nginx"],"title":"Nginxå­¦ä¹ ","uri":"/nginx%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"http å— http { include mime.types; default_type application/octet-stream; sendfile on; keepalive_timeout 65; server { listen 80; server_name localhost; location / { root html; index index.html index.htm; } error_page 500 502 503 504 /50x.html; location = /50x.html { root html; } } } è¿™æ˜¯NginxæœåŠ¡å™¨é…ç½®ä¸­æœ€é¢‘ç¹çš„éƒ¨åˆ†ï¼Œä»£ç†ã€ç¼“å­˜å’Œæ—¥å¿—å®šä¹‰ç­‰ç»å¤§å¤šæ•°åŠŸèƒ½å’Œç¬¬ä¸‰æ–¹æ¨¡å—çš„é…ç½®éƒ½åœ¨è¿™é‡Œã€‚ http å—ä¹Ÿå¯ä»¥åŒ…æ‹¬ httpå…¨å±€å—ã€server å—ï¼š httpå…¨å±€å— httpå…¨å±€å—é…ç½®çš„æŒ‡ä»¤åŒ…æ‹¬æ–‡ä»¶å¼•å…¥ã€MIME-TYPE å®šä¹‰ã€æ—¥å¿—è‡ªå®šä¹‰ã€è¿æ¥è¶…æ—¶æ—¶é—´ã€å•é“¾æ¥è¯·æ±‚æ•°ä¸Šé™ç­‰ã€‚ serverå— è¿™å—å’Œè™šæ‹Ÿä¸»æœºæœ‰å¯†åˆ‡å…³ç³»ï¼Œè™šæ‹Ÿä¸»æœºä»ç”¨æˆ·è§’åº¦çœ‹ï¼Œå’Œä¸€å°ç‹¬ç«‹çš„ç¡¬ä»¶ä¸»æœºæ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œè¯¥æŠ€æœ¯çš„äº§ç”Ÿæ˜¯ä¸ºäº†èŠ‚çœäº’è”ç½‘æœåŠ¡å™¨ç¡¬ä»¶æˆæœ¬ã€‚åé¢ä¼šè¯¦ç»†ä»‹ç»è™šæ‹Ÿä¸»æœºçš„æ¦‚å¿µã€‚ æ¯ä¸ª http å—å¯ä»¥åŒ…æ‹¬å¤šä¸ª server å—ï¼Œè€Œæ¯ä¸ª server å—å°±ç›¸å½“äºä¸€ä¸ªè™šæ‹Ÿä¸»æœºã€‚ è€Œæ¯ä¸ª server å—ä¹Ÿåˆ†ä¸ºå…¨å±€ server å—ï¼Œä»¥åŠå¯ä»¥åŒæ—¶åŒ…å«å¤šä¸ª locaton å—ã€‚ å…¨å±€serverå—ï¼šæœ€å¸¸è§çš„é…ç½®æ˜¯æœ¬è™šæ‹Ÿæœºä¸»æœºçš„ç›‘å¬é…ç½®å’Œæœ¬è™šæ‹Ÿä¸»æœºçš„åç§°æˆ–IPé…ç½®ã€‚ locationå—ï¼šä¸€ä¸ª server å—å¯ä»¥é…ç½®å¤šä¸ª location å—ã€‚ è¿™å—çš„ä¸»è¦ä½œç”¨æ˜¯åŸºäº Nginx æœåŠ¡å™¨æ¥æ”¶åˆ°çš„è¯·æ±‚å­—ç¬¦ä¸²ï¼ˆä¾‹å¦‚ server_name/uri-stringï¼‰ï¼Œå¯¹è™šæ‹Ÿä¸»æœºåç§°ï¼ˆä¹Ÿå¯ä»¥æ˜¯IPåˆ«åï¼‰ä¹‹å¤–çš„å­—ç¬¦ä¸²ï¼ˆä¾‹å¦‚ å‰é¢çš„ /uri-stringï¼‰è¿›è¡ŒåŒ¹é…ï¼Œå¯¹ç‰¹å®šçš„è¯·æ±‚è¿›è¡Œå¤„ç†ã€‚åœ°å€å®šå‘ã€æ•°æ®ç¼“å­˜å’Œåº”ç­”æ§åˆ¶ç­‰åŠŸèƒ½ï¼Œè¿˜æœ‰è®¸å¤šç¬¬ä¸‰æ–¹æ¨¡å—çš„é…ç½®ä¹Ÿåœ¨è¿™é‡Œè¿›è¡Œã€‚ ","date":"2022-02-16","objectID":"/nginx%E5%AD%A6%E4%B9%A0/:3:3","tags":["Nginx"],"title":"Nginxå­¦ä¹ ","uri":"/nginx%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"åå‘ä»£ç† ","date":"2022-02-16","objectID":"/nginx%E5%AD%A6%E4%B9%A0/:4:0","tags":["Nginx"],"title":"Nginxå­¦ä¹ ","uri":"/nginx%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"ä»£ç†å®šä¹‰ Nginx ä¸»è¦èƒ½å¤Ÿä»£ç†å¦‚ä¸‹å‡ ç§åè®®ï¼Œå…¶ä¸­ç”¨åˆ°çš„æœ€å¤šçš„å°±æ˜¯åšHttpä»£ç†æœåŠ¡å™¨ã€‚ åœ¨Javaè®¾è®¡æ¨¡å¼ä¸­ï¼Œä»£ç†æ¨¡å¼æ˜¯è¿™æ ·å®šä¹‰çš„ï¼šç»™æŸä¸ªå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œå¹¶ç”±ä»£ç†å¯¹è±¡æ§åˆ¶åŸå¯¹è±¡çš„å¼•ç”¨ã€‚ ä»£ç†ç®€å•æ¥è¯´ï¼Œå°±æ˜¯å¦‚æœæˆ‘ä»¬æƒ³åšä»€ä¹ˆï¼Œä½†åˆä¸æƒ³ç›´æ¥å»åšï¼Œé‚£ä¹ˆè¿™æ—¶å€™å°±æ‰¾å¦å¤–ä¸€ä¸ªäººå¸®æˆ‘ä»¬å»åšã€‚é‚£ä¹ˆè¿™ä¸ªä¾‹å­é‡Œé¢çš„ä¸­ä»‹å…¬å¸å°±æ˜¯ç»™æˆ‘ä»¬åšä»£ç†æœåŠ¡çš„ï¼Œæˆ‘ä»¬å§”æ‰˜ä¸­ä»‹å…¬å¸å¸®æˆ‘ä»¬æ‰¾æˆ¿å­ã€‚ ","date":"2022-02-16","objectID":"/nginx%E5%AD%A6%E4%B9%A0/:4:1","tags":["Nginx"],"title":"Nginxå­¦ä¹ ","uri":"/nginx%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"æ­£å‘ä»£ç†å®šä¹‰ ã€€å¼„æ¸…æ¥šä»€ä¹ˆæ˜¯ä»£ç†äº†ï¼Œé‚£ä¹ˆä»€ä¹ˆåˆæ˜¯æ­£å‘ä»£ç†å‘¢ï¼Ÿ ã€€è¿™é‡Œæˆ‘å†ä¸¾ä¸€ä¸ªä¾‹å­ï¼šå¤§å®¶éƒ½çŸ¥é“ï¼Œç°åœ¨å›½å†…æ˜¯è®¿é—®ä¸äº† Googleçš„ï¼Œé‚£ä¹ˆæ€ä¹ˆæ‰èƒ½è®¿é—® Googleå‘¢ï¼Ÿæˆ‘ä»¬åˆæƒ³ï¼Œç¾å›½äººä¸æ˜¯èƒ½è®¿é—® Googleå—ï¼ˆè¿™ä¸åºŸè¯ï¼ŒGoogleå°±æ˜¯ç¾å›½çš„ï¼‰ï¼Œå¦‚æœæˆ‘ä»¬ç”µè„‘çš„å¯¹å¤–å…¬ç½‘ IP åœ°å€èƒ½å˜æˆç¾å›½çš„ IP åœ°å€ï¼Œé‚£ä¸å°±å¯ä»¥è®¿é—® Googleäº†ã€‚ä½ å¾ˆèªæ˜ï¼ŒVPN å°±æ˜¯è¿™æ ·äº§ç”Ÿçš„ã€‚æˆ‘ä»¬åœ¨è®¿é—® Google æ—¶ï¼Œå…ˆè¿ä¸Š VPN æœåŠ¡å™¨å°†æˆ‘ä»¬çš„ IP åœ°å€å˜æˆç¾å›½çš„ IP åœ°å€ï¼Œç„¶åå°±å¯ä»¥é¡ºåˆ©çš„è®¿é—®äº†ã€‚ ã€€è¿™é‡Œçš„ VPN å°±æ˜¯åšæ­£å‘ä»£ç†çš„ã€‚æ­£å‘ä»£ç†æœåŠ¡å™¨ä½äºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ï¼Œä¸ºäº†å‘æœåŠ¡å™¨è·å–æ•°æ®ï¼Œå®¢æˆ·ç«¯è¦å‘ä»£ç†æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œå¹¶æŒ‡å®šç›®æ ‡æœåŠ¡å™¨ï¼Œä»£ç†æœåŠ¡å™¨å°†ç›®æ ‡æœåŠ¡å™¨è¿”å›çš„æ•°æ®è½¬äº¤ç»™å®¢æˆ·ç«¯ã€‚è¿™é‡Œå®¢æˆ·ç«¯æ˜¯è¦è¿›è¡Œä¸€äº›æ­£å‘ä»£ç†çš„è®¾ç½®çš„ã€‚ ã€€PSï¼šè¿™é‡Œä»‹ç»ä¸€ä¸‹ä»€ä¹ˆæ˜¯ VPNï¼ŒVPN é€šä¿—çš„è®²å°±æ˜¯ä¸€ç§ä¸­è½¬æœåŠ¡ï¼Œå½“æˆ‘ä»¬ç”µè„‘æ¥å…¥ VPN åï¼Œæˆ‘ä»¬å¯¹å¤– IP åœ°å€å°±ä¼šå˜æˆ VPN æœåŠ¡å™¨çš„ å…¬ç½‘ IPï¼Œæˆ‘ä»¬è¯·æ±‚æˆ–æ¥å—ä»»ä½•æ•°æ®éƒ½ä¼šé€šè¿‡è¿™ä¸ªVPN æœåŠ¡å™¨ç„¶åä¼ å…¥åˆ°æˆ‘ä»¬æœ¬æœºã€‚è¿™æ ·åšæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿæ¯”å¦‚ VPN æ¸¸æˆåŠ é€Ÿæ–¹é¢çš„åŸç†ï¼Œæˆ‘ä»¬è¦ç©ç½‘é€šåŒºçš„ LOLï¼Œä½†æ˜¯æœ¬æœºæ¥å…¥çš„æ˜¯ç”µä¿¡çš„å®½å¸¦ï¼Œç©ç½‘é€šåŒºçš„ä¼šæ¯”è¾ƒå¡ï¼Œè¿™æ—¶å€™å°±åˆ©ç”¨ VPN å°†ç”µä¿¡ç½‘ç»œå˜ä¸ºç½‘é€šç½‘ç»œï¼Œç„¶ååœ¨ç©ç½‘é€šåŒºçš„LOLå°±ä¸ä¼šå¡äº†ï¼ˆæ³¨æ„ï¼šVPN æ˜¯ä¸èƒ½å¢åŠ å¸¦å®½çš„ï¼Œä¸è¦ä»¥ä¸ºä¸å¡äº†æ˜¯å› ä¸ºç½‘é€Ÿæå‡äº†ï¼‰ã€‚ ã€€å¯èƒ½å¬åˆ°è¿™é‡Œå¤§å®¶è¿˜æ˜¯å¾ˆæŠ½è±¡ï¼Œæ²¡å…³ç³»ï¼Œå’Œä¸‹é¢çš„åå‘ä»£ç†å¯¹æ¯”ç†è§£å°±ç®€å•äº†ã€‚ ","date":"2022-02-16","objectID":"/nginx%E5%AD%A6%E4%B9%A0/:4:2","tags":["Nginx"],"title":"Nginxå­¦ä¹ ","uri":"/nginx%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"åå‘ä»£ç†å®šä¹‰ ã€€åå‘ä»£ç†å’Œæ­£å‘ä»£ç†çš„åŒºåˆ«å°±æ˜¯ï¼šæ­£å‘ä»£ç†ä»£ç†å®¢æˆ·ç«¯ï¼Œåå‘ä»£ç†ä»£ç†æœåŠ¡å™¨ã€‚ ã€€åå‘ä»£ç†ï¼Œå…¶å®å®¢æˆ·ç«¯å¯¹ä»£ç†æ˜¯æ— æ„ŸçŸ¥çš„ï¼Œå› ä¸ºå®¢æˆ·ç«¯ä¸éœ€è¦ä»»ä½•é…ç½®å°±å¯ä»¥è®¿é—®ï¼Œæˆ‘ä»¬åªéœ€è¦å°†è¯·æ±‚å‘é€åˆ°åå‘ä»£ç†æœåŠ¡å™¨ï¼Œç”±åå‘ä»£ç†æœåŠ¡å™¨å»é€‰æ‹©ç›®æ ‡æœåŠ¡å™¨è·å–æ•°æ®åï¼Œåœ¨è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œæ­¤æ—¶åå‘ä»£ç†æœåŠ¡å™¨å’Œç›®æ ‡æœåŠ¡å™¨å¯¹å¤–å°±æ˜¯ä¸€ä¸ªæœåŠ¡å™¨ï¼Œæš´éœ²çš„æ˜¯ä»£ç†æœåŠ¡å™¨åœ°å€ï¼Œéšè—äº†çœŸå®æœåŠ¡å™¨IPåœ°å€ã€‚ ã€€ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸¤å¼ å›¾æ¥å¯¹æ¯”æ­£å‘ä»£ç†å’Œæ–¹å‘ä»£ç†ï¼š ç†è§£è¿™ä¸¤ç§ä»£ç†çš„å…³é”®åœ¨äºä»£ç†æœåŠ¡å™¨æ‰€ä»£ç†çš„å¯¹è±¡æ˜¯ä»€ä¹ˆï¼Œæ­£å‘ä»£ç†ä»£ç†çš„æ˜¯å®¢æˆ·ç«¯ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å®¢æˆ·ç«¯è¿›è¡Œä¸€äº›ä»£ç†çš„è®¾ç½®ã€‚è€Œåå‘ä»£ç†ä»£ç†çš„æ˜¯æœåŠ¡å™¨ï¼Œä½œä¸ºå®¢æˆ·ç«¯çš„æˆ‘ä»¬æ˜¯æ— æ³•æ„ŸçŸ¥åˆ°æœåŠ¡å™¨çš„çœŸå®å­˜åœ¨çš„ã€‚ æ€»ç»“èµ·æ¥è¿˜æ˜¯ä¸€å¥è¯ï¼šæ­£å‘ä»£ç†ä»£ç†å®¢æˆ·ç«¯ï¼Œåå‘ä»£ç†ä»£ç†æœåŠ¡å™¨ã€‚ ","date":"2022-02-16","objectID":"/nginx%E5%AD%A6%E4%B9%A0/:4:3","tags":["Nginx"],"title":"Nginxå­¦ä¹ ","uri":"/nginx%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"Nginx åå‘ä»£ç† ç›¸å…³æŒ‡ä»¤ listen è¯¥æŒ‡ä»¤ç”¨äºé…ç½®ç½‘ç»œç›‘å¬ã€‚ä¸»è¦æœ‰å¦‚ä¸‹ä¸‰ç§é…ç½®è¯­æ³•ç»“æ„ï¼š â‘  é…ç½®ç›‘å¬çš„IPåœ°å€ listen address[:port] [default_server] [setfib=number] [backlog=number] [rcvbuf=size] [sndbuf=size] [deferred] [accept_filter=filter] [bind] [ssl]; â‘¡ é…ç½®ç›‘å¬ç«¯å£ listen port [default_server] [setfib=number] [backlog=number] [rcvbuf=size] [sndbuf=size] [accept_filter=filter] [deffered] [bind] [ipv6only=on|off] [ssl]; â‘¢ é…ç½® UNIX Domain Socket listen unix:path [default_server] [backlog=number] [rcvbuf=size] [sndbuf=size] [accept_filter=filter] [deffered] [bind] [ssl] ä¸Šé¢çš„é…ç½®çœ‹ä¼¼æ¯”è¾ƒå¤æ‚ï¼Œå…¶å®ä½¿ç”¨èµ·æ¥æ˜¯æ¯”è¾ƒç®€å•çš„ï¼š listen *:80 | *:8080 #ç›‘å¬æ‰€æœ‰80ç«¯å£å’Œ8080ç«¯å£ listen IP_address:port #ç›‘å¬æŒ‡å®šçš„åœ°å€å’Œç«¯å£å· listen IP_address #ç›‘å¬æŒ‡å®šipåœ°å€æ‰€æœ‰ç«¯å£ listen port #ç›‘å¬è¯¥ç«¯å£çš„æ‰€æœ‰IPè¿æ¥ ä¸‹é¢åˆ†åˆ«è§£é‡Šæ¯ä¸ªé€‰é¡¹çš„å…·ä½“å«ä¹‰ï¼š 1ã€address:IPåœ°å€ï¼Œå¦‚æœæ˜¯ IPV6åœ°å€ï¼Œéœ€è¦ä½¿ç”¨ä¸­æ‹¬å·[] æ‹¬èµ·æ¥ï¼Œæ¯”å¦‚[fe80::1]ç­‰ã€‚ 2ã€port:ç«¯å£å·ï¼Œå¦‚æœåªå®šä¹‰äº†IPåœ°å€ï¼Œæ²¡æœ‰å®šä¹‰ç«¯å£å·ï¼Œé‚£ä¹ˆå°±ä½¿ç”¨80ç«¯å£ã€‚ 3ã€path:socketæ–‡ä»¶è·¯å¾„ï¼Œå¦‚ var/run/nginx.sockç­‰ã€‚ 4ã€default_server:æ ‡è¯†ç¬¦ï¼Œå°†æ­¤è™šæ‹Ÿä¸»æœºè®¾ç½®ä¸º address:port çš„é»˜è®¤ä¸»æœºã€‚ï¼ˆåœ¨ nginx-0.8.21 ä¹‹å‰ä½¿ç”¨çš„æ˜¯ default æŒ‡ä»¤ï¼‰ 5ã€ setfib=number:Nginx-0.8.44 ä¸­ä½¿ç”¨è¿™ä¸ªå˜é‡ç›‘å¬ socket å…³è”è·¯ç”±è¡¨ï¼Œç›®å‰åªå¯¹ FreeBSD èµ·ä½œç”¨ï¼Œä¸å¸¸ç”¨ã€‚ 6ã€backlog=number:è®¾ç½®ç›‘å¬å‡½æ•°listen()æœ€å¤šå…è®¸å¤šå°‘ç½‘ç»œè¿æ¥åŒæ—¶å¤„äºæŒ‚èµ·çŠ¶æ€ï¼Œåœ¨ FreeBSD ä¸­é»˜è®¤ä¸º -1,å…¶ä»–å¹³å°é»˜è®¤ä¸º511. 7ã€rcvbuf=size:è®¾ç½®ç›‘å¬socketæ¥æ”¶ç¼“å­˜åŒºå¤§å°ã€‚ 8ã€sndbuf=size:è®¾ç½®ç›‘å¬socketå‘é€ç¼“å­˜åŒºå¤§å°ã€‚ 9ã€deferred:æ ‡è¯†ç¬¦ï¼Œå°†accept()è®¾ç½®ä¸ºDeferredæ¨¡å¼ã€‚ 10ã€accept_filter=filter:è®¾ç½®ç›‘å¬ç«¯å£å¯¹æ‰€æœ‰è¯·æ±‚è¿›è¡Œè¿‡æ»¤ï¼Œè¢«è¿‡æ»¤çš„å†…å®¹ä¸èƒ½è¢«æ¥æ”¶å’Œå¤„ç†ï¼Œæœ¬æŒ‡ä»¤åªåœ¨ FreeBSD å’Œ NetBSD 5.0+ å¹³å°ä¸‹æœ‰æ•ˆã€‚filter å¯ä»¥è®¾ç½®ä¸º dataready æˆ– httpready ã€‚ 11ã€bind:æ ‡è¯†ç¬¦ï¼Œä½¿ç”¨ç‹¬ç«‹çš„bind() å¤„ç†æ­¤address:portï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¯¹äºç«¯å£ç›¸åŒè€ŒIPåœ°å€ä¸åŒçš„å¤šä¸ªè¿æ¥ï¼ŒNginx æœåŠ¡å™¨å°†åªä½¿ç”¨ä¸€ä¸ªç›‘å¬æŒ‡ä»¤ï¼Œå¹¶ä½¿ç”¨ bind() å¤„ç†ç«¯å£ç›¸åŒçš„æ‰€æœ‰è¿æ¥ã€‚ 12ã€ssl:æ ‡è¯†ç¬¦ï¼Œè®¾ç½®ä¼šè¯è¿æ¥ä½¿ç”¨ SSLæ¨¡å¼è¿›è¡Œï¼Œæ­¤æ ‡è¯†ç¬¦å’ŒNginxæœåŠ¡å™¨æä¾›çš„ HTTPS æœåŠ¡æœ‰å…³ã€‚ server_name è¯¥æŒ‡ä»¤ç”¨äºè™šæ‹Ÿä¸»æœºçš„é…ç½®ã€‚é€šå¸¸åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§ï¼š 1ã€åŸºäºåç§°çš„è™šæ‹Ÿä¸»æœºé…ç½® è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š server_name name ...; ä¸€ã€å¯¹äºname æ¥è¯´ï¼Œå¯ä»¥åªæœ‰ä¸€ä¸ªåç§°ï¼Œä¹Ÿå¯ä»¥æœ‰å¤šä¸ªåç§°ï¼Œä¸­é—´ç”¨ç©ºæ ¼éš”å¼€ã€‚è€Œæ¯ä¸ªåå­—ç”±ä¸¤æ®µæˆ–è€…ä¸‰æ®µç»„æˆï¼Œæ¯æ®µä¹‹é—´ç”¨â€œ.â€éš”å¼€ã€‚ server_name 123.com www.123.com äºŒã€å¯ä»¥ä½¿ç”¨é€šé…ç¬¦â€œ*â€ï¼Œä½†é€šé…ç¬¦åªèƒ½ç”¨åœ¨ç”±ä¸‰æ®µå­—ç¬¦ç»„æˆçš„é¦–æ®µæˆ–è€…å°¾ç«¯ï¼Œæˆ–è€…ç”±ä¸¤ç«¯å­—ç¬¦ç»„æˆçš„å°¾ç«¯ã€‚ server_name *.123.com www.123.* ä¸‰ã€è¿˜å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œç”¨â€œ~â€ä½œä¸ºæ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ä¸²çš„å¼€å§‹æ ‡è®°ã€‚ server_name ~^www\\d+\\.123\\.com$; è¯¥è¡¨è¾¾å¼â€œ~â€è¡¨ç¤ºåŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ï¼Œä»¥wwwå¼€å¤´ï¼ˆâ€œ^â€è¡¨ç¤ºå¼€å¤´ï¼‰ï¼Œç´§è·Ÿç€ä¸€ä¸ª0~9ä¹‹é—´çš„æ•°å­—ï¼Œåœ¨ç´§è·Ÿâ€œ.123.coâ€ï¼Œæœ€åè·Ÿç€â€œmâ€($è¡¨ç¤ºç»“å°¾) ä»¥ä¸ŠåŒ¹é…çš„é¡ºåºä¼˜å…ˆçº§å¦‚ä¸‹ï¼š 1 â‘ ã€å‡†ç¡®åŒ¹é… server_name 2 â‘¡ã€é€šé…ç¬¦åœ¨å¼€å§‹æ—¶åŒ¹é… server_name æˆåŠŸ 3 â‘¢ã€é€šé…ç¬¦åœ¨ç»“å°¾æ—¶åŒ¹é… server_name æˆåŠŸ 4 â‘£ã€æ­£åˆ™è¡¨è¾¾å¼åŒ¹é… server_name æˆåŠŸ 2ã€åŸºäº IP åœ°å€çš„è™šæ‹Ÿä¸»æœºé…ç½® è¯­æ³•ç»“æ„å’ŒåŸºäºåŸŸååŒ¹é…ä¸€æ ·ï¼Œè€Œä¸”ä¸éœ€è¦è€ƒè™‘é€šé…ç¬¦å’Œæ­£åˆ™è¡¨è¾¾å¼çš„é—®é¢˜ã€‚ server_name 192.168.1.1 location è¯¥æŒ‡ä»¤ç”¨äºåŒ¹é… URLã€‚ ã€€è¯­æ³•å¦‚ä¸‹ï¼š location [ = | ~ | ~* | ^~] uri { } ã€€1ã€= ï¼šç”¨äºä¸å«æ­£åˆ™è¡¨è¾¾å¼çš„ uri å‰ï¼Œè¦æ±‚è¯·æ±‚å­—ç¬¦ä¸²ä¸ uri ä¸¥æ ¼åŒ¹é…ï¼Œå¦‚æœåŒ¹é…æˆåŠŸï¼Œå°±åœæ­¢ç»§ç»­å‘ä¸‹æœç´¢å¹¶ç«‹å³å¤„ç†è¯¥è¯·æ±‚ã€‚ ã€€2ã€~ï¼šç”¨äºè¡¨ç¤º uri åŒ…å«æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¹¶ä¸”åŒºåˆ†å¤§å°å†™ã€‚ ã€€3ã€~*ï¼šç”¨äºè¡¨ç¤º uri åŒ…å«æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¹¶ä¸”ä¸åŒºåˆ†å¤§å°å†™ã€‚ ã€€4ã€^~ï¼šç”¨äºä¸å«æ­£åˆ™è¡¨è¾¾å¼çš„ uri å‰ï¼Œè¦æ±‚ Nginx æœåŠ¡å™¨æ‰¾åˆ°æ ‡è¯† uri å’Œè¯·æ±‚å­—ç¬¦ä¸²åŒ¹é…åº¦æœ€é«˜çš„ location åï¼Œç«‹å³ä½¿ç”¨æ­¤ location å¤„ç†è¯·æ±‚ï¼Œè€Œä¸å†ä½¿ç”¨ location å—ä¸­çš„æ­£åˆ™ uri å’Œè¯·æ±‚å­—ç¬¦ä¸²åšåŒ¹é…ã€‚ ã€€æ³¨æ„ï¼šå¦‚æœ uri åŒ…å«æ­£åˆ™è¡¨è¾¾å¼ï¼Œåˆ™å¿…é¡»è¦æœ‰ ~ æˆ–è€… ~* æ ‡è¯†ã€‚ proxy_pass ã€€è¯¥æŒ‡ä»¤ç”¨äºè®¾ç½®è¢«ä»£ç†æœåŠ¡å™¨çš„åœ°å€ã€‚å¯ä»¥æ˜¯ä¸»æœºåç§°ã€IPåœ°å€åŠ ç«¯å£å·çš„å½¢å¼ã€‚ ã€€è¯­æ³•ç»“æ„å¦‚ä¸‹ï¼š proxy_pass URL; ã€€URL ä¸ºè¢«ä»£ç†æœåŠ¡å™¨çš„åœ°å€ï¼Œå¯ä»¥åŒ…å«ä¼ è¾“åè®®ã€ä¸»æœºåç§°æˆ–IPåœ°å€åŠ ç«¯å£å·ï¼ŒURIç­‰ã€‚ proxy_pass http://www.123.com/uri; index ã€€è¯¥æŒ‡ä»¤ç”¨äºè®¾ç½®ç½‘ç«™çš„é»˜è®¤é¦–é¡µã€‚ ã€€è¯­æ³•ä¸ºï¼š index filename ...; ã€€åé¢çš„æ–‡ä»¶åç§°å¯ä»¥æœ‰å¤šä¸ªï¼Œä¸­é—´ç”¨ç©ºæ ¼éš”å¼€ã€‚ index index.html index.jsp; ã€€é€šå¸¸è¯¥æŒ‡ä»¤æœ‰ä¸¤ä¸ªä½œç”¨ï¼šç¬¬ä¸€ä¸ªæ˜¯ç”¨æˆ·åœ¨è¯·æ±‚è®¿é—®ç½‘ç«™æ—¶ï¼Œè¯·æ±‚åœ°å€å¯ä»¥ä¸å†™é¦–é¡µåç§°ï¼›ç¬¬äºŒä¸ªæ˜¯å¯ä»¥å¯¹ä¸€ä¸ªè¯·æ±‚ï¼Œæ ¹æ®è¯·æ±‚å†…å®¹è€Œè®¾ç½®ä¸åŒçš„é¦–é¡µã€‚ ","date":"2022-02-16","objectID":"/nginx%E5%AD%A6%E4%B9%A0/:4:4","tags":["Nginx"],"title":"Nginxå­¦ä¹ ","uri":"/nginx%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"é…ç½®æ¡ˆä¾‹ server { listen 80; server_name localhost; charset utf-8; location / { root /home/ruoyi/projects/ruoyi-ui; try_files $uri $uri/ /index.html; index index.html index.htm; } location /prod-api/ { proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header REMOTE-HOST $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_pass http://localhost:8080/; } error_page 500 502 503 504 /50x.html; location = /50x.html { root html; } } ","date":"2022-02-16","objectID":"/nginx%E5%AD%A6%E4%B9%A0/:4:5","tags":["Nginx"],"title":"Nginxå­¦ä¹ ","uri":"/nginx%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"è´Ÿè½½å‡è¡¡ ","date":"2022-02-16","objectID":"/nginx%E5%AD%A6%E4%B9%A0/:5:0","tags":["Nginx"],"title":"Nginxå­¦ä¹ ","uri":"/nginx%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"è´Ÿè½½å‡è¡¡çš„ç”±æ¥ æ—©æœŸçš„ç³»ç»Ÿæ¶æ„ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯å¦‚ä¸‹å½¢å¼çš„ï¼š å®¢æˆ·ç«¯å‘é€å¤šä¸ªè¯·æ±‚åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å¤„ç†è¯·æ±‚ï¼Œæœ‰ä¸€äº›å¯èƒ½è¦ä¸æ•°æ®åº“è¿›è¡Œäº¤äº’ï¼ŒæœåŠ¡å™¨å¤„ç†å®Œæ¯•åï¼Œå†å°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚ è¿™ç§æ¶æ„æ¨¡å¼å¯¹äºæ—©æœŸçš„ç³»ç»Ÿç›¸å¯¹å•ä¸€ï¼Œå¹¶å‘è¯·æ±‚ç›¸å¯¹è¾ƒå°‘çš„æƒ…å†µä¸‹æ˜¯æ¯”è¾ƒé€‚åˆçš„ï¼Œæˆæœ¬ä¹Ÿä½ã€‚ä½†æ˜¯éšç€ä¿¡æ¯æ•°é‡çš„ä¸æ–­å¢é•¿ï¼Œè®¿é—®é‡å’Œæ•°æ®é‡çš„é£é€Ÿå¢é•¿ï¼Œä»¥åŠç³»ç»Ÿä¸šåŠ¡çš„å¤æ‚åº¦å¢åŠ ï¼Œè¿™ç§æ¶æ„ä¼šé€ æˆæœåŠ¡å™¨ç›¸åº”å®¢æˆ·ç«¯çš„è¯·æ±‚æ—¥ç›Šç¼“æ…¢ï¼Œå¹¶å‘é‡ç‰¹åˆ«å¤§çš„æ—¶å€™ï¼Œè¿˜å®¹æ˜“é€ æˆæœåŠ¡å™¨ç›´æ¥å´©æºƒã€‚å¾ˆæ˜æ˜¾è¿™æ˜¯ç”±äºæœåŠ¡å™¨æ€§èƒ½çš„ç“¶é¢ˆé€ æˆçš„é—®é¢˜ï¼Œé‚£ä¹ˆå¦‚ä½•è§£å†³è¿™ç§æƒ…å†µå‘¢ï¼Ÿ æˆ‘ä»¬é¦–å…ˆæƒ³åˆ°çš„å¯èƒ½æ˜¯å‡çº§æœåŠ¡å™¨çš„é…ç½®ï¼Œæ¯”å¦‚æé«˜CPUæ‰§è¡Œé¢‘ç‡ï¼ŒåŠ å¤§å†…å­˜ç­‰æé«˜æœºå™¨çš„ç‰©ç†æ€§èƒ½æ¥è§£å†³æ­¤é—®é¢˜ï¼Œä½†æ˜¯æˆ‘ä»¬çŸ¥é“æ‘©å°”å®šå¾‹çš„æ—¥ç›Šå¤±æ•ˆï¼Œç¡¬ä»¶çš„æ€§èƒ½æå‡å·²ç»ä¸èƒ½æ»¡è¶³æ—¥ç›Šæå‡çš„éœ€æ±‚äº†ã€‚æœ€æ˜æ˜¾çš„ä¸€ä¸ªä¾‹å­ï¼Œå¤©çŒ«åŒåä¸€å½“å¤©ï¼ŒæŸä¸ªçƒ­é”€å•†å“çš„ç¬æ—¶è®¿é—®é‡æ˜¯æå…¶åºå¤§çš„ï¼Œé‚£ä¹ˆç±»ä¼¼ä¸Šé¢çš„ç³»ç»Ÿæ¶æ„ï¼Œå°†æœºå™¨éƒ½å¢åŠ åˆ°ç°æœ‰çš„é¡¶çº§ç‰©ç†é…ç½®ï¼Œéƒ½æ˜¯ä¸èƒ½å¤Ÿæ»¡è¶³éœ€æ±‚çš„ã€‚é‚£ä¹ˆæ€ä¹ˆåŠå‘¢ï¼Ÿ ä¸Šé¢çš„åˆ†ææˆ‘ä»¬å»æ‰äº†å¢åŠ æœåŠ¡å™¨ç‰©ç†é…ç½®æ¥è§£å†³é—®é¢˜çš„åŠæ³•ï¼Œä¹Ÿå°±æ˜¯è¯´çºµå‘è§£å†³é—®é¢˜çš„åŠæ³•è¡Œä¸é€šäº†ï¼Œé‚£ä¹ˆæ¨ªå‘å¢åŠ æœåŠ¡å™¨çš„æ•°é‡å‘¢ï¼Ÿè¿™æ—¶å€™é›†ç¾¤çš„æ¦‚å¿µäº§ç”Ÿäº†ï¼Œå•ä¸ªæœåŠ¡å™¨è§£å†³ä¸äº†ï¼Œæˆ‘ä»¬å¢åŠ æœåŠ¡å™¨çš„æ•°é‡ï¼Œç„¶åå°†è¯·æ±‚åˆ†å‘åˆ°å„ä¸ªæœåŠ¡å™¨ä¸Šï¼Œå°†åŸå…ˆè¯·æ±‚é›†ä¸­åˆ°å•ä¸ªæœåŠ¡å™¨ä¸Šçš„æƒ…å†µæ”¹ä¸ºå°†è¯·æ±‚åˆ†å‘åˆ°å¤šä¸ªæœåŠ¡å™¨ä¸Šï¼Œå°†è´Ÿè½½åˆ†å‘åˆ°ä¸åŒçš„æœåŠ¡å™¨ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„è´Ÿè½½å‡è¡¡ã€‚ è´Ÿè½½å‡è¡¡å®Œç¾çš„è§£å†³äº†å•ä¸ªæœåŠ¡å™¨ç¡¬ä»¶æ€§èƒ½ç“¶é¢ˆçš„é—®é¢˜ï¼Œä½†æ˜¯éšç€è€Œæ¥çš„å¦‚ä½•å®ç°è´Ÿè½½å‡è¡¡å‘¢ï¼Ÿå®¢æˆ·ç«¯æ€ä¹ˆçŸ¥é“è¦å°†è¯·æ±‚å‘é€åˆ°é‚£ä¸ªæœåŠ¡å™¨å»å¤„ç†å‘¢ï¼Ÿ ","date":"2022-02-16","objectID":"/nginx%E5%AD%A6%E4%B9%A0/:5:1","tags":["Nginx"],"title":"Nginxå­¦ä¹ ","uri":"/nginx%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"Nginx å®ç°è´Ÿè½½å‡è¡¡ Nginx æœåŠ¡å™¨æ˜¯ä»‹äºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„ä¸­ä»‹ï¼Œé€šè¿‡ä¸Šä¸€èŠ‚çš„åå‘ä»£ç†çš„åŠŸèƒ½ï¼Œå®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚å…ˆç»è¿‡ Nginx ï¼Œç„¶åé€šè¿‡ Nginx å°†è¯·æ±‚æ ¹æ®ç›¸åº”çš„è§„åˆ™åˆ†å‘åˆ°ç›¸åº”çš„æœåŠ¡å™¨ã€‚ ä¸»è¦é…ç½®æŒ‡ä»¤ä¸ºä¸Šä¸€è®²çš„ pass_proxy æŒ‡ä»¤ä»¥åŠ upstream æŒ‡ä»¤ã€‚è´Ÿè½½å‡è¡¡ä¸»è¦é€šè¿‡ä¸“é—¨çš„ç¡¬ä»¶è®¾å¤‡æˆ–è€…è½¯ä»¶ç®—æ³•å®ç°ã€‚é€šè¿‡ç¡¬ä»¶è®¾å¤‡å®ç°çš„è´Ÿè½½å‡è¡¡æ•ˆæœå¥½ã€æ•ˆç‡é«˜ã€æ€§èƒ½ç¨³å®šï¼Œä½†æ˜¯æˆæœ¬è¾ƒé«˜ã€‚è€Œé€šè¿‡è½¯ä»¶å®ç°çš„è´Ÿè½½å‡è¡¡ä¸»è¦ä¾èµ–äºå‡è¡¡ç®—æ³•çš„é€‰æ‹©å’Œç¨‹åºçš„å¥å£®æ€§ã€‚å‡è¡¡ç®—æ³•åˆä¸»è¦åˆ†ä¸ºä¸¤å¤§ç±»ï¼š é™æ€è´Ÿè½½å‡è¡¡ç®—æ³•ï¼šä¸»è¦åŒ…æ‹¬è½®è¯¢ç®—æ³•ã€åŸºäºæ¯”ç‡çš„åŠ æƒè½®è¯¢ç®—æ³•æˆ–è€…åŸºäºä¼˜å…ˆçº§çš„åŠ æƒè½®è¯¢ç®—æ³•ã€‚ åŠ¨æ€è´Ÿè½½å‡è¡¡ç®—æ³•ï¼šä¸»è¦åŒ…æ‹¬åŸºäºä»»åŠ¡é‡çš„æœ€å°‘è¿æ¥ä¼˜åŒ–ç®—æ³•ã€åŸºäºæ€§èƒ½çš„æœ€å¿«å“åº”ä¼˜å…ˆç®—æ³•ã€é¢„æµ‹ç®—æ³•åŠåŠ¨æ€æ€§èƒ½åˆ†é…ç®—æ³•ç­‰ã€‚ é™æ€è´Ÿè½½å‡è¡¡ç®—æ³•åœ¨ä¸€èˆ¬ç½‘ç»œç¯å¢ƒä¸‹ä¹Ÿèƒ½è¡¨ç°çš„æ¯”è¾ƒå¥½ï¼ŒåŠ¨æ€è´Ÿè½½å‡è¡¡ç®—æ³•æ›´åŠ é€‚ç”¨äºå¤æ‚çš„ç½‘ç»œç¯å¢ƒã€‚ ä¾‹å­ï¼š æ™®é€šè½®è¯¢ç®—æ³• upstream OrdinaryPolling { server 127.0.0.1:8080; server 127.0.0.1:8081; } server { listen 80; server_name localhost; location / { proxy_pass http://OrdinaryPolling; index index.html index.htm index.jsp; } } åŸºäºæ¯”ä¾‹åŠ æƒè½®è¯¢ upstream OrdinaryPolling { server 127.0.0.1:8080 weight=5; server 127.0.0.1:8081 weight=2; } server { listen 80; server_name localhost; location / { proxy_pass http://OrdinaryPolling; index index.html index.htm index.jsp; } } åŸºäºIPè·¯ç”±è´Ÿè½½ ã€€æˆ‘ä»¬çŸ¥é“ä¸€ä¸ªè¯·æ±‚åœ¨ç»è¿‡ä¸€ä¸ªæœåŠ¡å™¨å¤„ç†æ—¶ï¼ŒæœåŠ¡å™¨ä¼šä¿å­˜ç›¸å…³çš„ä¼šè¯ä¿¡æ¯ï¼Œæ¯”å¦‚sessionï¼Œä½†æ˜¯è¯¥è¯·æ±‚å¦‚æœç¬¬ä¸€ä¸ªæœåŠ¡å™¨æ²¡å¤„ç†å®Œï¼Œé€šè¿‡nginxè½®è¯¢åˆ°ç¬¬äºŒä¸ªæœåŠ¡å™¨ä¸Šï¼Œé‚£ä¹ˆè¿™ä¸ªæœåŠ¡å™¨æ˜¯æ²¡æœ‰ä¼šè¯ä¿¡æ¯çš„ã€‚ ã€€æœ€å…¸å‹çš„ä¸€ä¸ªä¾‹å­ï¼šç”¨æˆ·ç¬¬ä¸€æ¬¡è¿›å…¥ä¸€ä¸ªç³»ç»Ÿæ˜¯éœ€è¦è¿›è¡Œç™»å½•èº«ä»½éªŒè¯çš„ï¼Œé¦–å…ˆå°†è¯·æ±‚è·³è½¬åˆ°Tomcat1æœåŠ¡å™¨è¿›è¡Œå¤„ç†ï¼Œç™»å½•ä¿¡æ¯æ˜¯ä¿å­˜åœ¨Tomcat1 ä¸Šçš„ï¼Œè¿™æ—¶å€™éœ€è¦è¿›è¡Œåˆ«çš„æ“ä½œï¼Œé‚£ä¹ˆå¯èƒ½ä¼šå°†è¯·æ±‚è½®è¯¢åˆ°ç¬¬äºŒä¸ªTomcat2ä¸Šï¼Œé‚£ä¹ˆç”±äºTomcat2 æ²¡æœ‰ä¿å­˜ä¼šè¯ä¿¡æ¯ï¼Œä¼šä»¥ä¸ºè¯¥ç”¨æˆ·æ²¡æœ‰ç™»å½•ï¼Œç„¶åç»§ç»­ç™»å½•ä¸€æ¬¡ï¼Œå¦‚æœæœ‰å¤šä¸ªæœåŠ¡å™¨ï¼Œæ¯æ¬¡ç¬¬ä¸€æ¬¡è®¿é—®éƒ½è¦è¿›è¡Œç™»å½•ï¼Œè¿™æ˜¾ç„¶æ˜¯å¾ˆå½±å“ç”¨æˆ·ä½“éªŒçš„ã€‚ ã€€è¿™é‡Œäº§ç”Ÿçš„ä¸€ä¸ªé—®é¢˜ä¹Ÿå°±æ˜¯é›†ç¾¤ç¯å¢ƒä¸‹çš„ session å…±äº«ï¼Œå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ ã€€é€šå¸¸ç”±ä¸¤ç§æ–¹æ³•ï¼š ã€€1ã€ç¬¬ä¸€ç§æ–¹æ³•æ˜¯é€‰æ‹©ä¸€ä¸ªä¸­é—´ä»¶ï¼Œå°†ç™»å½•ä¿¡æ¯ä¿å­˜åœ¨ä¸€ä¸ªä¸­é—´ä»¶ä¸Šï¼Œè¿™ä¸ªä¸­é—´ä»¶å¯ä»¥ä¸º Redis è¿™æ ·çš„æ•°æ®åº“ã€‚é‚£ä¹ˆç¬¬ä¸€æ¬¡ç™»å½•ï¼Œæˆ‘ä»¬å°†session ä¿¡æ¯ä¿å­˜åœ¨ Redis ä¸­ï¼Œè·³è½¬åˆ°ç¬¬äºŒä¸ªæœåŠ¡å™¨æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆå»Redisä¸ŠæŸ¥è¯¢æ˜¯å¦æœ‰ç™»å½•ä¿¡æ¯ï¼Œå¦‚æœæœ‰ï¼Œå°±èƒ½ç›´æ¥è¿›è¡Œç™»å½•ä¹‹åçš„æ“ä½œäº†ï¼Œè€Œä¸ç”¨è¿›è¡Œé‡å¤ç™»å½•ã€‚ ã€€2ã€ç¬¬äºŒç§æ–¹æ³•æ˜¯æ ¹æ®å®¢æˆ·ç«¯çš„IPåœ°å€åˆ’åˆ†ï¼Œæ¯æ¬¡éƒ½å°†åŒä¸€ä¸ª IP åœ°å€å‘é€çš„è¯·æ±‚éƒ½åˆ†å‘åˆ°åŒä¸€ä¸ª Tomcat æœåŠ¡å™¨ï¼Œé‚£ä¹ˆä¹Ÿä¸ä¼šå­˜åœ¨ session å…±äº«çš„é—®é¢˜ã€‚ ã€€è€Œ nginx çš„åŸºäº IP è·¯ç”±è´Ÿè½½çš„æœºåˆ¶å°±æ˜¯ä¸Šè¯‰ç¬¬äºŒç§å½¢å¼ã€‚å¤§æ¦‚é…ç½®å¦‚ä¸‹ï¼š upstream OrdinaryPolling { ip_hash; server 127.0.0.1:8080 weight=5; server 127.0.0.1:8081 weight=2; } server { listen 80; server_name localhost; location / { proxy_pass http://OrdinaryPolling; index index.html index.htm index.jsp; } } æ³¨æ„ï¼šæˆ‘ä»¬åœ¨ upstream æŒ‡ä»¤å—ä¸­å¢åŠ äº† ip_hash æŒ‡ä»¤ã€‚è¯¥æŒ‡ä»¤å°±æ˜¯å‘Šè¯‰ nginx æœåŠ¡å™¨ï¼ŒåŒä¸€ä¸ª IP åœ°å€å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚éƒ½å°†åˆ†å‘åˆ°åŒä¸€ä¸ª Tomcat æœåŠ¡å™¨è¿›è¡Œå¤„ç†ã€‚ åŸºäºæœåŠ¡å™¨å“åº”æ—¶é—´è´Ÿè½½åˆ†é… æ ¹æ®æœåŠ¡å™¨å¤„ç†è¯·æ±‚çš„æ—¶é—´æ¥è¿›è¡Œè´Ÿè½½ï¼Œå¤„ç†è¯·æ±‚è¶Šå¿«ï¼Œä¹Ÿå°±æ˜¯å“åº”æ—¶é—´è¶ŠçŸ­çš„ä¼˜å…ˆåˆ†é…ã€‚ upstream OrdinaryPolling { server 127.0.0.1:8080 weight=5; server 127.0.0.1:8081 weight=2; fair; } server { listen 80; server_name localhost; location / { proxy_pass http://OrdinaryPolling; index index.html index.htm index.jsp; } } é€šè¿‡å¢åŠ äº† fair æŒ‡ä»¤ã€‚ å¯¹ä¸åŒåŸŸåå®ç°è´Ÿè½½å‡è¡¡ é€šè¿‡é…åˆlocation æŒ‡ä»¤å—æˆ‘ä»¬è¿˜å¯ä»¥å®ç°å¯¹ä¸åŒåŸŸåå®ç°è´Ÿè½½å‡è¡¡ã€‚ upstream wordbackend { server 127.0.0.1:8080; server 127.0.0.1:8081; } upstream pptbackend { server 127.0.0.1:8082; server 127.0.0.1:8083; } server { listen 80; server_name localhost; location /word/ { proxy_pass http://wordbackend; index index.html index.htm index.jsp; } location /ppt/ { proxy_pass http://pptbackend; index index.html index.htm index.jsp; } } ","date":"2022-02-16","objectID":"/nginx%E5%AD%A6%E4%B9%A0/:5:2","tags":["Nginx"],"title":"Nginxå­¦ä¹ ","uri":"/nginx%E5%AD%A6%E4%B9%A0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"å¼•ç”¨ ä»¥ä¸Šå­¦ä¹ ç¬”è®°å¤šå¤„æ‘˜å½•è‡ªç½‘ç»œ https://www.cnblogs.com/ysocean/p/9392912.html ","date":"2022-02-16","objectID":"/nginx%E5%AD%A6%E4%B9%A0/:6:0","tags":["Nginx"],"title":"Nginxå­¦ä¹ ","uri":"/nginx%E5%AD%A6%E4%B9%A0/"},{"categories":["ç®—æ³•å­¦ä¹ "],"content":"æœ¬ç¯‡æ–‡ç« æ˜¯å­¦ä¹ leetcodeä¸­é“¾è¡¨ç›¸å…³ç®—æ³•æ€»ç»“çš„é“¾è¡¨æŠ€å·§ ","date":"2022-01-26","objectID":"/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0-%E9%93%BE%E8%A1%A8/:0:0","tags":["é“¾è¡¨"],"title":"ç®—æ³•å­¦ä¹ -é“¾è¡¨","uri":"/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0-%E9%93%BE%E8%A1%A8/"},{"categories":["ç®—æ³•å­¦ä¹ "],"content":"è™šæ‹Ÿå¤´èŠ‚ç‚¹ ","date":"2022-01-26","objectID":"/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0-%E9%93%BE%E8%A1%A8/:1:0","tags":["é“¾è¡¨"],"title":"ç®—æ³•å­¦ä¹ -é“¾è¡¨","uri":"/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0-%E9%93%BE%E8%A1%A8/"},{"categories":["ç®—æ³•å­¦ä¹ "],"content":"åŠ›æ‰£ç¬¬ 21 é¢˜ã€Œåˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ã€ ListNode *mergeTwoLists(ListNode *l1, ListNode *l2) { ListNode *head = new ListNode(-1), *p = head; while (l1 \u0026\u0026 l2) { if (l1-\u003eval \u003c l2-\u003eval) { p-\u003enext = l1; l1 = l1-\u003enext; } else { p-\u003enext = l2; l2 = l2-\u003enext; } p = p-\u003enext; } p-\u003enext = l1 ? l1 : l2; return head-\u003enext; } è¿™ä¸ªç®—æ³•çš„é€»è¾‘ç±»ä¼¼äºã€Œæ‹‰æ‹‰é“¾ã€ï¼Œl1, l2 ç±»ä¼¼äºæ‹‰é“¾ä¸¤ä¾§çš„é”¯é½¿ï¼ŒæŒ‡é’ˆ p å°±å¥½åƒæ‹‰é“¾çš„æ‹‰ç´¢ï¼Œå°†ä¸¤ä¸ªæœ‰åºé“¾è¡¨åˆå¹¶ ListNode *head = new ListNode(-1), *p = head;ä¸­ä½¿ç”¨åˆ°äº†è™šæ‹Ÿå¤´èŠ‚ç‚¹ï¼Œå¦‚æœä¸ä½¿ç”¨è™šæ‹ŸèŠ‚ç‚¹ï¼Œä»£ç ä¼šå¤æ‚å¾ˆå¤šï¼Œè€Œæœ‰äº† head èŠ‚ç‚¹è¿™ä¸ªå ä½ç¬¦ï¼Œå¯ä»¥é¿å…å¤„ç†ç©ºæŒ‡é’ˆçš„æƒ…å†µï¼Œé™ä½ä»£ç çš„å¤æ‚æ€§ ","date":"2022-01-26","objectID":"/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0-%E9%93%BE%E8%A1%A8/:1:1","tags":["é“¾è¡¨"],"title":"ç®—æ³•å­¦ä¹ -é“¾è¡¨","uri":"/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0-%E9%93%BE%E8%A1%A8/"},{"categories":["ç®—æ³•å­¦ä¹ "],"content":"ä¼˜å…ˆé˜Ÿåˆ— ","date":"2022-01-26","objectID":"/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0-%E9%93%BE%E8%A1%A8/:2:0","tags":["é“¾è¡¨"],"title":"ç®—æ³•å­¦ä¹ -é“¾è¡¨","uri":"/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0-%E9%93%BE%E8%A1%A8/"},{"categories":["ç®—æ³•å­¦ä¹ "],"content":"åŠ›æ‰£ç¬¬ 23 é¢˜ã€Œåˆå¹¶Kä¸ªå‡åºé“¾è¡¨ã€ struct cmp { bool operator()(ListNode *p1, ListNode *p2) { return p1-\u003eval \u003e p2-\u003eval; } }; ListNode *mergeKLists(vector\u003cListNode *\u003e \u0026lists) { if (lists.size() == 0) return nullptr; ListNode *head = new ListNode(-1), *tail = head; priority_queue\u003cListNode *, vector\u003cListNode *\u003e, cmp\u003e pq; for (auto i : lists) { if (i) pq.push(i); } while (!pq.empty()) { ListNode *node = pq.top(); pq.pop(); tail-\u003enext = node; tail = tail-\u003enext; if (node-\u003enext) pq.push(node-\u003enext); } return head-\u003enext; } è¿™é‡Œæˆ‘ä»¬å°±è¦ç”¨åˆ° ä¼˜å…ˆçº§é˜Ÿåˆ— è¿™ç§æ•°æ®ç»“æ„ï¼ŒæŠŠé“¾è¡¨èŠ‚ç‚¹æ”¾å…¥ä¸€ä¸ªæœ€å°å †ï¼Œå°±å¯ä»¥æ¯æ¬¡è·å¾— k ä¸ªèŠ‚ç‚¹ä¸­çš„æœ€å°èŠ‚ç‚¹ å®ƒçš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘å‘¢ï¼Ÿ ä¼˜å…ˆé˜Ÿåˆ— pq ä¸­çš„å…ƒç´ ä¸ªæ•°æœ€å¤šæ˜¯ kï¼Œæ‰€ä»¥ä¸€æ¬¡ poll æˆ–è€… add æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(logk)ï¼›æ‰€æœ‰çš„é“¾è¡¨èŠ‚ç‚¹éƒ½ä¼šè¢«åŠ å…¥å’Œå¼¹å‡º pqï¼Œæ‰€ä»¥ç®—æ³•æ•´ä½“çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(Nlogk)ï¼Œå…¶ä¸­ k æ˜¯é“¾è¡¨çš„æ¡æ•°ï¼ŒN æ˜¯è¿™äº›é“¾è¡¨çš„èŠ‚ç‚¹æ€»æ•°ã€‚ ","date":"2022-01-26","objectID":"/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0-%E9%93%BE%E8%A1%A8/:2:1","tags":["é“¾è¡¨"],"title":"ç®—æ³•å­¦ä¹ -é“¾è¡¨","uri":"/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0-%E9%93%BE%E8%A1%A8/"},{"categories":["ç®—æ³•å­¦ä¹ "],"content":"å•é“¾è¡¨çš„å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹ ","date":"2022-01-26","objectID":"/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0-%E9%93%BE%E8%A1%A8/:3:0","tags":["é“¾è¡¨"],"title":"ç®—æ³•å­¦ä¹ -é“¾è¡¨","uri":"/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0-%E9%93%BE%E8%A1%A8/"},{"categories":["ç®—æ³•å­¦ä¹ "],"content":"åŠ›æ‰£ç¬¬ 19 é¢˜ã€Œåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹ã€ ListNode *removeNthFromEnd(ListNode *head, int n) { ListNode *dummy = new ListNode(-1); dummy-\u003enext = head; auto temp = FindFromEnd(dummy, n + 1); temp-\u003enext = temp-\u003enext-\u003enext; return dummy-\u003enext; } ListNode *FindFromEnd(ListNode *head, int n) { ListNode *first = head, *second = head; while (n--) { first = first-\u003enext; } while (first) { first = first-\u003enext; second = second-\u003enext; } return second; } é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆè®©ä¸€ä¸ªæŒ‡é’ˆ p1 æŒ‡å‘é“¾è¡¨çš„å¤´èŠ‚ç‚¹ headï¼Œç„¶åèµ° k æ­¥ ç°åœ¨çš„ p1ï¼Œåªè¦å†èµ° n - k æ­¥ï¼Œå°±èƒ½èµ°åˆ°é“¾è¡¨æœ«å°¾çš„ç©ºæŒ‡é’ˆäº†å¯¹å§ï¼Ÿè¶è¿™ä¸ªæ—¶å€™ï¼Œå†ç”¨ä¸€ä¸ªæŒ‡é’ˆ p2 æŒ‡å‘é“¾è¡¨å¤´èŠ‚ç‚¹ head æ¥ä¸‹æ¥å°±å¾ˆæ˜¾ç„¶äº†ï¼Œè®© p1 å’Œ p2 åŒæ—¶å‘å‰èµ°ï¼Œp1 èµ°åˆ°é“¾è¡¨æœ«å°¾çš„ç©ºæŒ‡é’ˆæ—¶èµ°äº† n - k æ­¥ï¼Œp2 ä¹Ÿèµ°äº† n - k æ­¥ï¼Œä¹Ÿå°±æ˜¯é“¾è¡¨çš„å€’æ•°ç¬¬ k ä¸ªèŠ‚ç‚¹ è¿™æ ·ï¼Œåªéå†äº†ä¸€æ¬¡é“¾è¡¨ï¼Œå°±è·å¾—äº†å€’æ•°ç¬¬ k ä¸ªèŠ‚ç‚¹ p2 ä¸è¿‡æ³¨æ„æˆ‘ä»¬åˆä½¿ç”¨äº†è™šæ‹Ÿå¤´ç»“ç‚¹çš„æŠ€å·§ï¼Œä¹Ÿæ˜¯ä¸ºäº†é˜²æ­¢å‡ºç°ç©ºæŒ‡é’ˆçš„æƒ…å†µï¼Œæ¯”å¦‚è¯´é“¾è¡¨æ€»å…±æœ‰ 5 ä¸ªèŠ‚ç‚¹ï¼Œé¢˜ç›®å°±è®©ä½ åˆ é™¤å€’æ•°ç¬¬ 5 ä¸ªèŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œé‚£æŒ‰ç…§ç®—æ³•é€»è¾‘ï¼Œåº”è¯¥é¦–å…ˆæ‰¾åˆ°å€’æ•°ç¬¬ 6 ä¸ªèŠ‚ç‚¹ã€‚ä½†ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å‰é¢å·²ç»æ²¡æœ‰èŠ‚ç‚¹äº†ï¼Œè¿™å°±ä¼šå‡ºé”™ã€‚ ä½†æœ‰äº†æˆ‘ä»¬è™šæ‹ŸèŠ‚ç‚¹ dummy çš„å­˜åœ¨ï¼Œå°±é¿å…äº†è¿™ä¸ªé—®é¢˜ï¼Œèƒ½å¤Ÿå¯¹è¿™ç§æƒ…å†µè¿›è¡Œæ­£ç¡®çš„åˆ é™¤ã€‚ ","date":"2022-01-26","objectID":"/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0-%E9%93%BE%E8%A1%A8/:3:1","tags":["é“¾è¡¨"],"title":"ç®—æ³•å­¦ä¹ -é“¾è¡¨","uri":"/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0-%E9%93%BE%E8%A1%A8/"},{"categories":["ç®—æ³•å­¦ä¹ "],"content":"åŒæŒ‡é’ˆ ","date":"2022-01-26","objectID":"/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0-%E9%93%BE%E8%A1%A8/:4:0","tags":["é“¾è¡¨"],"title":"ç®—æ³•å­¦ä¹ -é“¾è¡¨","uri":"/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0-%E9%93%BE%E8%A1%A8/"},{"categories":["ç®—æ³•å­¦ä¹ "],"content":"åŠ›æ‰£ç¬¬ 876 é¢˜ã€Œé“¾è¡¨çš„ä¸­é—´ç»“ç‚¹ã€ å¦‚æœæƒ³ä¸€æ¬¡éå†å°±å¾—åˆ°ä¸­é—´èŠ‚ç‚¹ï¼Œä¹Ÿéœ€è¦è€ç‚¹å°èªæ˜ï¼Œä½¿ç”¨ã€Œå¿«æ…¢æŒ‡é’ˆã€çš„æŠ€å·§ï¼š æˆ‘ä»¬è®©ä¸¤ä¸ªæŒ‡é’ˆ slow å’Œ fast åˆ†åˆ«æŒ‡å‘é“¾è¡¨å¤´ç»“ç‚¹ headã€‚ æ¯å½“æ…¢æŒ‡é’ˆ slow å‰è¿›ä¸€æ­¥ï¼Œå¿«æŒ‡é’ˆ fast å°±å‰è¿›ä¸¤æ­¥ï¼Œè¿™æ ·ï¼Œå½“ fast èµ°åˆ°é“¾è¡¨æœ«å°¾æ—¶ï¼Œslow å°±æŒ‡å‘äº†é“¾è¡¨ä¸­ç‚¹ã€‚ ListNode *middleNode(ListNode *head) { ListNode *slow = head, *fast = head; while (fast \u0026\u0026 fast-\u003enext) { slow = slow-\u003enext; fast = fast-\u003enext-\u003enext; } return slow; } ","date":"2022-01-26","objectID":"/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0-%E9%93%BE%E8%A1%A8/:4:1","tags":["é“¾è¡¨"],"title":"ç®—æ³•å­¦ä¹ -é“¾è¡¨","uri":"/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0-%E9%93%BE%E8%A1%A8/"},{"categories":["ç®—æ³•å­¦ä¹ "],"content":"åŠ›æ‰£ç¬¬ 141 é¢˜ã€Œç¯å½¢é“¾è¡¨ã€ åˆ¤æ–­é“¾è¡¨æ˜¯å¦åŒ…å«ç¯å±äºç»å…¸é—®é¢˜äº†ï¼Œè§£å†³æ–¹æ¡ˆä¹Ÿæ˜¯ç”¨å¿«æ…¢æŒ‡é’ˆï¼š æ¯å½“æ…¢æŒ‡é’ˆ slow å‰è¿›ä¸€æ­¥ï¼Œå¿«æŒ‡é’ˆ fast å°±å‰è¿›ä¸¤æ­¥ã€‚ å¦‚æœ fast æœ€ç»ˆé‡åˆ°ç©ºæŒ‡é’ˆï¼Œè¯´æ˜é“¾è¡¨ä¸­æ²¡æœ‰ç¯ï¼›å¦‚æœ fast æœ€ç»ˆå’Œ slow ç›¸é‡ï¼Œé‚£è‚¯å®šæ˜¯ fast è¶…è¿‡äº† slow ä¸€åœˆï¼Œè¯´æ˜é“¾è¡¨ä¸­å«æœ‰ç¯ã€‚ bool hasCycle(ListNode *head) { ListNode *slow = head, *fast = head; while (fast \u0026\u0026 fast-\u003enext) { slow = slow-\u003enext; fast = fast-\u003enext-\u003enext; if (slow == fast) return true; } return false; } å½“ç„¶ï¼Œè¿™ä¸ªé—®é¢˜è¿˜æœ‰è¿›é˜¶ç‰ˆï¼šå¦‚æœé“¾è¡¨ä¸­å«æœ‰ç¯ï¼Œå¦‚ä½•è®¡ç®—è¿™ä¸ªç¯çš„èµ·ç‚¹ï¼Ÿ è¿™é‡Œç®€å•æä¸€ä¸‹è§£æ³•ï¼š ListNode detectCycle(ListNode head) { ListNode fast, slow; fast = slow = head; while (fast != null \u0026\u0026 fast.next != null) { fast = fast.next.next; slow = slow.next; if (fast == slow) break; } // ä¸Šé¢çš„ä»£ç ç±»ä¼¼ hasCycle å‡½æ•° if (fast == null || fast.next == null) { // fast é‡åˆ°ç©ºæŒ‡é’ˆè¯´æ˜æ²¡æœ‰ç¯ return null; } // é‡æ–°æŒ‡å‘å¤´ç»“ç‚¹ slow = head; // å¿«æ…¢æŒ‡é’ˆåŒæ­¥å‰è¿›ï¼Œç›¸äº¤ç‚¹å°±æ˜¯ç¯èµ·ç‚¹ while (slow != fast) { fast = fast.next; slow = slow.next; } return slow; } ","date":"2022-01-26","objectID":"/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0-%E9%93%BE%E8%A1%A8/:4:2","tags":["é“¾è¡¨"],"title":"ç®—æ³•å­¦ä¹ -é“¾è¡¨","uri":"/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0-%E9%93%BE%E8%A1%A8/"},{"categories":["ç®—æ³•å­¦ä¹ "],"content":"åŠ›æ‰£ç¬¬ 160 é¢˜ã€Œç›¸äº¤é“¾è¡¨ã€ ListNode *getIntersectionNode(ListNode *headA, ListNode *headB) { ListNode *A = headA, *B = headB; while (A != B) { if (A) A = A-\u003enext; else A = headB; if (B) B = B-\u003enext; else B = headA; } return A; } å¦‚æœç”¨ä¸¤ä¸ªæŒ‡é’ˆ p1 å’Œ p2 åˆ†åˆ«åœ¨ä¸¤æ¡é“¾è¡¨ä¸Šå‰è¿›ï¼Œå¹¶ä¸èƒ½åŒæ—¶èµ°åˆ°å…¬å…±èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ— æ³•å¾—åˆ°ç›¸äº¤èŠ‚ç‚¹ c1ã€‚ è§£å†³è¿™ä¸ªé—®é¢˜çš„å…³é”®æ˜¯ï¼Œé€šè¿‡æŸäº›æ–¹å¼ï¼Œè®© p1 å’Œ p2 èƒ½å¤ŸåŒæ—¶åˆ°è¾¾ç›¸äº¤èŠ‚ç‚¹ c1ã€‚ æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥è®© p1 éå†å®Œé“¾è¡¨ A ä¹‹åå¼€å§‹éå†é“¾è¡¨ Bï¼Œè®© p2 éå†å®Œé“¾è¡¨ B ä¹‹åå¼€å§‹éå†é“¾è¡¨ Aï¼Œè¿™æ ·ç›¸å½“äºã€Œé€»è¾‘ä¸Šã€ä¸¤æ¡é“¾è¡¨æ¥åœ¨äº†ä¸€èµ·ã€‚ å¦‚æœè¿™æ ·è¿›è¡Œæ‹¼æ¥ï¼Œå°±å¯ä»¥è®© p1 å’Œ p2 åŒæ—¶è¿›å…¥å…¬å…±éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯åŒæ—¶åˆ°è¾¾ç›¸äº¤èŠ‚ç‚¹ c1ï¼š é‚£ä½ å¯èƒ½ä¼šé—®ï¼Œå¦‚æœè¯´ä¸¤ä¸ªé“¾è¡¨æ²¡æœ‰ç›¸äº¤ç‚¹ï¼Œæ˜¯å¦èƒ½å¤Ÿæ­£ç¡®çš„è¿”å› null å‘¢ï¼Ÿ è¿™ä¸ªé€»è¾‘å¯ä»¥è¦†ç›–è¿™ç§æƒ…å†µçš„ï¼Œç›¸å½“äº c1 èŠ‚ç‚¹æ˜¯ null ç©ºæŒ‡é’ˆå˜›ï¼Œå¯ä»¥æ­£ç¡®è¿”å› nullã€‚ è¿™æ ·ï¼Œè¿™é“é¢˜å°±è§£å†³äº†ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(1)ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(N)ã€‚ ","date":"2022-01-26","objectID":"/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0-%E9%93%BE%E8%A1%A8/:4:3","tags":["é“¾è¡¨"],"title":"ç®—æ³•å­¦ä¹ -é“¾è¡¨","uri":"/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0-%E9%93%BE%E8%A1%A8/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"API Collection æ¥å£çš„æ¥å£ å¯¹è±¡çš„é›†åˆï¼ˆå•åˆ—é›†åˆï¼‰ â€‹ |â€“List æ¥å£ï¼šå…ƒç´ æŒ‰è¿›å…¥å…ˆåæœ‰åºä¿å­˜ï¼Œå¯é‡å¤ â€‹ |â€“LinkedList æ¥å£å®ç°ç±»ï¼Œ é“¾è¡¨ï¼Œ æ’å…¥åˆ é™¤ï¼Œ æ²¡æœ‰åŒæ­¥ï¼Œ çº¿ç¨‹ä¸å®‰å…¨ â€‹ |â€“ArrayList æ¥å£å®ç°ç±»ï¼Œ æ•°ç»„ï¼Œ éšæœºè®¿é—®ï¼Œ æ²¡æœ‰åŒæ­¥ï¼Œ çº¿ç¨‹ä¸å®‰å…¨ â€‹ |â€“Vector æ¥å£å®ç°ç±» æ•°ç»„ï¼Œ åŒæ­¥ï¼Œ çº¿ç¨‹å®‰å…¨ â€‹ |â€“Stack æ˜¯Vectorç±»çš„å®ç°ç±» â€‹ |â€“Set æ¥å£ï¼š ä»…æ¥æ”¶ä¸€æ¬¡ï¼Œä¸å¯é‡å¤ï¼Œå¹¶åšå†…éƒ¨æ’åº â€‹ |â€“HashSet ä½¿ç”¨hashè¡¨ï¼ˆæ•°ç»„ï¼‰å­˜å‚¨å…ƒç´  â€‹ |â€“LinkedHashSet é“¾è¡¨ç»´æŠ¤å…ƒç´ çš„æ’å…¥æ¬¡åº â€‹ |â€“TreeSet åº•å±‚å®ç°ä¸ºäºŒå‰æ ‘ï¼Œå…ƒç´ æ’å¥½åº Map æ¥å£ é”®å€¼å¯¹çš„é›†åˆ ï¼ˆåŒåˆ—é›†åˆï¼‰ â€‹ |â€“Hashtable æ¥å£å®ç°ç±»ï¼Œ åŒæ­¥ï¼Œ çº¿ç¨‹å®‰å…¨ â€‹ |â€“HashMap æ¥å£å®ç°ç±» ï¼Œæ²¡æœ‰åŒæ­¥ï¼Œ çº¿ç¨‹ä¸å®‰å…¨- â€‹ |â€“LinkedHashMap åŒå‘é“¾è¡¨å’Œå“ˆå¸Œè¡¨å®ç° â€‹ |â€“WeakHashMap â€‹ |â€“TreeMap çº¢é»‘æ ‘å¯¹æ‰€æœ‰çš„keyè¿›è¡Œæ’åº â€‹ |â€“IdentifyHashMap ","date":"2021-01-13","objectID":"/java%E9%9B%86%E5%90%88hashset%E5%92%8Chashmap/:0:0","tags":["Java"],"title":"Javaé›†åˆ(HashSetå’ŒHashMap)","uri":"/java%E9%9B%86%E5%90%88hashset%E5%92%8Chashmap/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"HashSet HashSet åŸºäº HashMap æ¥å®ç°çš„ï¼Œæ˜¯ä¸€ä¸ªä¸å…è®¸æœ‰é‡å¤å…ƒç´ çš„é›†åˆã€‚ HashSet å…è®¸æœ‰ null å€¼ã€‚ HashSet æ˜¯æ— åºçš„ï¼Œå³ä¸ä¼šè®°å½•æ’å…¥çš„é¡ºåºã€‚ HashSet ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œ å¦‚æœå¤šä¸ªçº¿ç¨‹å°è¯•åŒæ—¶ä¿®æ”¹ HashSetï¼Œåˆ™æœ€ç»ˆç»“æœæ˜¯ä¸ç¡®å®šçš„ã€‚ æ‚¨å¿…é¡»åœ¨å¤šçº¿ç¨‹è®¿é—®æ—¶æ˜¾å¼åŒæ­¥å¯¹ HashSet çš„å¹¶å‘è®¿é—®ã€‚ HashSet å®ç°äº† Set æ¥å£ã€‚ HashSet ç±»ä½äº java.util åŒ…ä¸­ï¼Œä½¿ç”¨å‰éœ€è¦å¼•å…¥å®ƒï¼Œè¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š import java.util.HashSet; // å¼•å…¥ HashSet ç±» ä»¥ä¸‹å®ä¾‹æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª HashSet å¯¹è±¡ sitesï¼Œç”¨äºä¿å­˜å­—ç¬¦ä¸²å…ƒç´ ï¼š HashSet\u003cString\u003e sites = new HashSet\u003cString\u003e(); éƒ¨åˆ†æ–¹æ³•ï¼š HashSet\u003cString\u003e sites = new HashSet\u003cString\u003e(); sites.add(\"Google\"); sites.contains(\"Taobao\"); sites.remove(\"Taobao\"); sites.clear(); for (String i : sites) { System.out.println(i); } ","date":"2021-01-13","objectID":"/java%E9%9B%86%E5%90%88hashset%E5%92%8Chashmap/:0:1","tags":["Java"],"title":"Javaé›†åˆ(HashSetå’ŒHashMap)","uri":"/java%E9%9B%86%E5%90%88hashset%E5%92%8Chashmap/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"HashMap HashMap æ˜¯ä¸€ä¸ªæ•£åˆ—è¡¨ï¼Œå®ƒå­˜å‚¨çš„å†…å®¹æ˜¯é”®å€¼å¯¹(key-value)æ˜ å°„ã€‚ HashMap å®ç°äº† Map æ¥å£ï¼Œæ ¹æ®é”®çš„ HashCode å€¼å­˜å‚¨æ•°æ®ï¼Œå…·æœ‰å¾ˆå¿«çš„è®¿é—®é€Ÿåº¦ï¼Œæœ€å¤šå…è®¸ä¸€æ¡è®°å½•çš„é”®ä¸º nullï¼Œä¸æ”¯æŒçº¿ç¨‹åŒæ­¥ã€‚ HashMap æ˜¯æ— åºçš„ï¼Œå³ä¸ä¼šè®°å½•æ’å…¥çš„é¡ºåºã€‚ HashMap ç»§æ‰¿äºAbstractMapï¼Œå®ç°äº† Mapã€Cloneableã€java.io.Serializable æ¥å£ã€‚ HashMap ç±»ä½äº java.util åŒ…ä¸­ï¼Œä½¿ç”¨å‰éœ€è¦å¼•å…¥å®ƒï¼Œè¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š import java.util.HashMap; // å¼•å…¥ HashMap ç±» ä»¥ä¸‹å®ä¾‹æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª HashMap å¯¹è±¡ Sitesï¼Œ æ•´å‹ï¼ˆIntegerï¼‰çš„ key å’Œå­—ç¬¦ä¸²ï¼ˆStringï¼‰ç±»å‹çš„ valueï¼š HashMap\u003cInteger, String\u003e Sites = new HashMap\u003cInteger, String\u003e(); éƒ¨åˆ†æ–¹æ³•ï¼š // åˆ›å»º HashMap å¯¹è±¡ Sites HashMap\u003cInteger, String\u003e Sites = new HashMap\u003cInteger, String\u003e(); // æ·»åŠ é”®å€¼å¯¹ Sites.put(1, \"Google\"); Sites.get(3); Sites.remove(4); // è¾“å‡º key å’Œ value for (Integer i : Sites.keySet()) { System.out.println(\"key: \" + i + \" value: \" + Sites.get(i)); } // è¿”å›æ‰€æœ‰ value å€¼ for(String value: Sites.values()) { // è¾“å‡ºæ¯ä¸€ä¸ªvalue System.out.print(value + \", \"); } Java HashMap å¸¸ç”¨æ–¹æ³•åˆ—è¡¨å¦‚ä¸‹ï¼š æ–¹æ³• æè¿° clear() åˆ é™¤ hashMap ä¸­çš„æ‰€æœ‰é”®/å€¼å¯¹ clone() å¤åˆ¶ä¸€ä»½ hashMap isEmpty() åˆ¤æ–­ hashMap æ˜¯å¦ä¸ºç©º size() è®¡ç®— hashMap ä¸­é”®/å€¼å¯¹çš„æ•°é‡ put() å°†é”®/å€¼å¯¹æ·»åŠ åˆ° hashMap ä¸­ putAll() å°†æ‰€æœ‰é”®/å€¼å¯¹æ·»åŠ åˆ° hashMap ä¸­ putIfAbsent() å¦‚æœ hashMap ä¸­ä¸å­˜åœ¨æŒ‡å®šçš„é”®ï¼Œåˆ™å°†æŒ‡å®šçš„é”®/å€¼å¯¹æ’å…¥åˆ° hashMap ä¸­ã€‚ remove() åˆ é™¤ hashMap ä¸­æŒ‡å®šé”® key çš„æ˜ å°„å…³ç³» containsKey() æ£€æŸ¥ hashMap ä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„ key å¯¹åº”çš„æ˜ å°„å…³ç³»ã€‚ containsValue() æ£€æŸ¥ hashMap ä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„ value å¯¹åº”çš„æ˜ å°„å…³ç³»ã€‚ replace() æ›¿æ¢ hashMap ä¸­æ˜¯æŒ‡å®šçš„ key å¯¹åº”çš„ valueã€‚ replaceAll() å°† hashMap ä¸­çš„æ‰€æœ‰æ˜ å°„å…³ç³»æ›¿æ¢æˆç»™å®šçš„å‡½æ•°æ‰€æ‰§è¡Œçš„ç»“æœã€‚ get() è·å–æŒ‡å®š key å¯¹åº”å¯¹ value getOrDefault() è·å–æŒ‡å®š key å¯¹åº”å¯¹ valueï¼Œå¦‚æœæ‰¾ä¸åˆ° key ï¼Œåˆ™è¿”å›è®¾ç½®çš„é»˜è®¤å€¼ forEach() å¯¹ hashMap ä¸­çš„æ¯ä¸ªæ˜ å°„æ‰§è¡ŒæŒ‡å®šçš„æ“ä½œã€‚ entrySet() è¿”å› hashMap ä¸­æ‰€æœ‰æ˜ å°„é¡¹çš„é›†åˆé›†åˆè§†å›¾ã€‚ keySet() è¿”å› hashMap ä¸­æ‰€æœ‰ key ç»„æˆçš„é›†åˆè§†å›¾ã€‚ values() è¿”å› hashMap ä¸­å­˜åœ¨çš„æ‰€æœ‰ value å€¼ã€‚ merge() æ·»åŠ é”®å€¼å¯¹åˆ° hashMap ä¸­ compute() å¯¹ hashMap ä¸­æŒ‡å®š key çš„å€¼è¿›è¡Œé‡æ–°è®¡ç®— computeIfAbsent() å¯¹ hashMap ä¸­æŒ‡å®š key çš„å€¼è¿›è¡Œé‡æ–°è®¡ç®—ï¼Œå¦‚æœä¸å­˜åœ¨è¿™ä¸ª keyï¼Œåˆ™æ·»åŠ åˆ° hasMap ä¸­ computeIfPresent() å¯¹ hashMap ä¸­æŒ‡å®š key çš„å€¼è¿›è¡Œé‡æ–°è®¡ç®—ï¼Œå‰ææ˜¯è¯¥ key å­˜åœ¨äº hashMap ä¸­ã€‚ ","date":"2021-01-13","objectID":"/java%E9%9B%86%E5%90%88hashset%E5%92%8Chashmap/:0:2","tags":["Java"],"title":"Javaé›†åˆ(HashSetå’ŒHashMap)","uri":"/java%E9%9B%86%E5%90%88hashset%E5%92%8Chashmap/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"API ","date":"2021-01-13","objectID":"/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/:0:0","tags":["Java"],"title":"Javaæ•°æ®ç»“æ„","uri":"/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"Vector Vector ç±»å®ç°äº†ä¸€ä¸ªåŠ¨æ€æ•°ç»„ã€‚å’Œ ArrayList å¾ˆç›¸ä¼¼ï¼Œä½†æ˜¯ä¸¤è€…æ˜¯ä¸åŒçš„ï¼š Vector æ˜¯åŒæ­¥è®¿é—®çš„ã€‚ Vector åŒ…å«äº†è®¸å¤šä¼ ç»Ÿçš„æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•ä¸å±äºé›†åˆæ¡†æ¶ã€‚ Vector ä¸»è¦ç”¨åœ¨äº‹å…ˆä¸çŸ¥é“æ•°ç»„çš„å¤§å°ï¼Œæˆ–è€…åªæ˜¯éœ€è¦ä¸€ä¸ªå¯ä»¥æ”¹å˜å¤§å°çš„æ•°ç»„çš„æƒ…å†µã€‚ Vector ç±»æ”¯æŒ 4 ç§æ„é€ æ–¹æ³•ã€‚ ç¬¬ä¸€ç§æ„é€ æ–¹æ³•åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„å‘é‡ï¼Œé»˜è®¤å¤§å°ä¸º 10ï¼š Vector() ç¬¬äºŒç§æ„é€ æ–¹æ³•åˆ›å»ºæŒ‡å®šå¤§å°çš„å‘é‡ã€‚ Vector(int size) ç¬¬ä¸‰ç§æ„é€ æ–¹æ³•åˆ›å»ºæŒ‡å®šå¤§å°çš„å‘é‡ï¼Œå¹¶ä¸”å¢é‡ç”¨ incr æŒ‡å®šã€‚å¢é‡è¡¨ç¤ºå‘é‡æ¯æ¬¡å¢åŠ çš„å…ƒç´ æ•°ç›®ã€‚ Vector(int size,int incr) ç¬¬å››ç§æ„é€ æ–¹æ³•åˆ›å»ºä¸€ä¸ªåŒ…å«é›†åˆ c å…ƒç´ çš„å‘é‡ï¼š Vector(Collection c) åºå· æ–¹æ³•æè¿° 1 void add(int index, Object element) åœ¨æ­¤å‘é‡çš„æŒ‡å®šä½ç½®æ’å…¥æŒ‡å®šçš„å…ƒç´ ã€‚ 2 boolean add(Object o) å°†æŒ‡å®šå…ƒç´ æ·»åŠ åˆ°æ­¤å‘é‡çš„æœ«å°¾ã€‚ 3 void clear() ä»æ­¤å‘é‡ä¸­ç§»é™¤æ‰€æœ‰å…ƒç´ ã€‚ 4 boolean contains(Object elem) å¦‚æœæ­¤å‘é‡åŒ…å«æŒ‡å®šçš„å…ƒç´ ï¼Œåˆ™è¿”å› trueã€‚ 5 Object get(int index) è¿”å›å‘é‡ä¸­æŒ‡å®šä½ç½®çš„å…ƒç´ ã€‚ 6 int indexOf(Object elem) è¿”å›æ­¤å‘é‡ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„æŒ‡å®šå…ƒç´ çš„ç´¢å¼•ï¼Œå¦‚æœæ­¤å‘é‡ä¸åŒ…å«è¯¥å…ƒç´ ï¼Œåˆ™è¿”å› -1ã€‚ 7 boolean isEmpty() æµ‹è¯•æ­¤å‘é‡æ˜¯å¦ä¸åŒ…å«ç»„ä»¶ã€‚ 8 int size() è¿”å›æ­¤å‘é‡ä¸­çš„ç»„ä»¶æ•°ã€‚ ","date":"2021-01-13","objectID":"/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/:0:1","tags":["Java"],"title":"Javaæ•°æ®ç»“æ„","uri":"/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"Stack æ ˆæ˜¯Vectorçš„ä¸€ä¸ªå­ç±»ï¼Œå®ƒå®ç°äº†ä¸€ä¸ªæ ‡å‡†çš„åè¿›å…ˆå‡ºçš„æ ˆã€‚ å †æ ˆåªå®šä¹‰äº†é»˜è®¤æ„é€ å‡½æ•°ï¼Œç”¨æ¥åˆ›å»ºä¸€ä¸ªç©ºæ ˆã€‚ å †æ ˆé™¤äº†åŒ…æ‹¬ç”±Vectorå®šä¹‰çš„æ‰€æœ‰æ–¹æ³•ï¼Œä¹Ÿå®šä¹‰äº†è‡ªå·±çš„ä¸€äº›æ–¹æ³•ã€‚ Stack() é™¤äº†ç”±Vectorå®šä¹‰çš„æ‰€æœ‰æ–¹æ³•ï¼Œè‡ªå·±ä¹Ÿå®šä¹‰äº†ä¸€äº›æ–¹æ³•ï¼š åºå· æ–¹æ³•æè¿° 1 boolean empty() æµ‹è¯•å †æ ˆæ˜¯å¦ä¸ºç©ºã€‚ 2 Object peek( ) æŸ¥çœ‹å †æ ˆé¡¶éƒ¨çš„å¯¹è±¡ï¼Œä½†ä¸ä»å †æ ˆä¸­ç§»é™¤å®ƒã€‚ 3 Object pop( ) ç§»é™¤å †æ ˆé¡¶éƒ¨çš„å¯¹è±¡ï¼Œå¹¶ä½œä¸ºæ­¤å‡½æ•°çš„å€¼è¿”å›è¯¥å¯¹è±¡ã€‚ 4 Object push(Object element) æŠŠé¡¹å‹å…¥å †æ ˆé¡¶éƒ¨ã€‚ 5 int search(Object element) è¿”å›å¯¹è±¡åœ¨å †æ ˆä¸­çš„ä½ç½®ï¼Œä»¥ 1 ä¸ºåŸºæ•°ã€‚ ","date":"2021-01-13","objectID":"/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/:0:2","tags":["Java"],"title":"Javaæ•°æ®ç»“æ„","uri":"/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"ArrayList ArrayList ç±»æ˜¯ä¸€ä¸ªå¯ä»¥åŠ¨æ€ä¿®æ”¹çš„æ•°ç»„ï¼Œä¸æ™®é€šæ•°ç»„çš„åŒºåˆ«å°±æ˜¯å®ƒæ˜¯æ²¡æœ‰å›ºå®šå¤§å°çš„é™åˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ æˆ–åˆ é™¤å…ƒç´ ã€‚ ArrayList ç»§æ‰¿äº† AbstractList ï¼Œå¹¶å®ç°äº† List æ¥å£ã€‚ ArrayList ç±»ä½äº java.util åŒ…ä¸­ï¼Œä½¿ç”¨å‰éœ€è¦å¼•å…¥å®ƒï¼Œè¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š import java.util.ArrayList; // å¼•å…¥ ArrayList ç±» ArrayList\u003cE\u003e objectName =new ArrayList\u003c\u003e();ã€€// åˆå§‹åŒ– E: æ³›å‹æ•°æ®ç±»å‹ï¼Œç”¨äºè®¾ç½® objectName çš„æ•°æ®ç±»å‹ï¼Œåªèƒ½ä¸ºå¼•ç”¨æ•°æ®ç±»å‹ã€‚ objectName: å¯¹è±¡åã€‚ ArrayList æ˜¯ä¸€ä¸ªæ•°ç»„é˜Ÿåˆ—ï¼Œæä¾›äº†ç›¸å…³çš„æ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹ã€éå†ç­‰åŠŸèƒ½ã€‚ Java ArrayList å¸¸ç”¨æ–¹æ³•åˆ—è¡¨å¦‚ä¸‹ï¼š æ–¹æ³• æè¿° add() å°†å…ƒç´ æ’å…¥åˆ°æŒ‡å®šä½ç½®çš„ arraylist ä¸­ addAll() æ·»åŠ é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ åˆ° arraylist ä¸­ clear() åˆ é™¤ arraylist ä¸­çš„æ‰€æœ‰å…ƒç´  clone() å¤åˆ¶ä¸€ä»½ arraylist contains() åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨ arraylist get() é€šè¿‡ç´¢å¼•å€¼è·å– arraylist ä¸­çš„å…ƒç´  indexOf() è¿”å› arraylist ä¸­å…ƒç´ çš„ç´¢å¼•å€¼ removeAll() åˆ é™¤å­˜åœ¨äºæŒ‡å®šé›†åˆä¸­çš„ arraylist é‡Œçš„æ‰€æœ‰å…ƒç´  remove() åˆ é™¤ arraylist é‡Œçš„å•ä¸ªå…ƒç´  size() è¿”å› arraylist é‡Œå…ƒç´ æ•°é‡ isEmpty() åˆ¤æ–­ arraylist æ˜¯å¦ä¸ºç©º subList() æˆªå–éƒ¨åˆ† arraylist çš„å…ƒç´  set() æ›¿æ¢ arraylist ä¸­æŒ‡å®šç´¢å¼•çš„å…ƒç´  sort() å¯¹ arraylist å…ƒç´ è¿›è¡Œæ’åº toArray() å°† arraylist è½¬æ¢ä¸ºæ•°ç»„ toString() å°† arraylist è½¬æ¢ä¸ºå­—ç¬¦ä¸² ensureCapacity() è®¾ç½®æŒ‡å®šå®¹é‡å¤§å°çš„ arraylist lastIndexOf() è¿”å›æŒ‡å®šå…ƒç´ åœ¨ arraylist ä¸­æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½® retainAll() ä¿ç•™ arraylist ä¸­åœ¨æŒ‡å®šé›†åˆä¸­ä¹Ÿå­˜åœ¨çš„é‚£äº›å…ƒç´  containsAll() æŸ¥çœ‹ arraylist æ˜¯å¦åŒ…å«æŒ‡å®šé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´  trimToSize() å°† arraylist ä¸­çš„å®¹é‡è°ƒæ•´ä¸ºæ•°ç»„ä¸­çš„å…ƒç´ ä¸ªæ•° removeRange() åˆ é™¤ arraylist ä¸­æŒ‡å®šç´¢å¼•ä¹‹é—´å­˜åœ¨çš„å…ƒç´  replaceAll() å°†ç»™å®šçš„æ“ä½œå†…å®¹æ›¿æ¢æ‰æ•°ç»„ä¸­æ¯ä¸€ä¸ªå…ƒç´  removeIf() åˆ é™¤æ‰€æœ‰æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„ arraylist å…ƒç´  forEach() éå† arraylist ä¸­æ¯ä¸€ä¸ªå…ƒç´ å¹¶æ‰§è¡Œç‰¹å®šæ“ä½œ ","date":"2021-01-13","objectID":"/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/:0:3","tags":["Java"],"title":"Javaæ•°æ®ç»“æ„","uri":"/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"LinkedList é“¾è¡¨ï¼ˆLinked listï¼‰æ˜¯ä¸€ç§å¸¸è§çš„åŸºç¡€æ•°æ®ç»“æ„ï¼Œæ˜¯ä¸€ç§çº¿æ€§è¡¨ï¼Œä½†æ˜¯å¹¶ä¸ä¼šæŒ‰çº¿æ€§çš„é¡ºåºå­˜å‚¨æ•°æ®ï¼Œè€Œæ˜¯åœ¨æ¯ä¸€ä¸ªèŠ‚ç‚¹é‡Œå­˜åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„åœ°å€ã€‚ é“¾è¡¨å¯åˆ†ä¸ºå•å‘é“¾è¡¨å’ŒåŒå‘é“¾è¡¨ã€‚ ä¸€ä¸ªå•å‘é“¾è¡¨åŒ…å«ä¸¤ä¸ªå€¼: å½“å‰èŠ‚ç‚¹çš„å€¼å’Œä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„é“¾æ¥ã€‚ ä¸€ä¸ªåŒå‘é“¾è¡¨æœ‰ä¸‰ä¸ªæ•´æ•°å€¼: æ•°å€¼ã€å‘åçš„èŠ‚ç‚¹é“¾æ¥ã€å‘å‰çš„èŠ‚ç‚¹é“¾æ¥ã€‚ Java LinkedListï¼ˆé“¾è¡¨ï¼‰ ç±»ä¼¼äº ArrayListï¼Œæ˜¯ä¸€ç§å¸¸ç”¨çš„æ•°æ®å®¹å™¨ã€‚ ä¸ ArrayList ç›¸æ¯”ï¼ŒLinkedList çš„å¢åŠ å’Œåˆ é™¤å¯¹æ“ä½œæ•ˆç‡æ›´é«˜ï¼Œè€ŒæŸ¥æ‰¾å’Œä¿®æ”¹çš„æ“ä½œæ•ˆç‡è¾ƒä½ã€‚ ä»¥ä¸‹æƒ…å†µä½¿ç”¨ ArrayList : é¢‘ç¹è®¿é—®åˆ—è¡¨ä¸­çš„æŸä¸€ä¸ªå…ƒç´ ã€‚ åªéœ€è¦åœ¨åˆ—è¡¨æœ«å°¾è¿›è¡Œæ·»åŠ å’Œåˆ é™¤å…ƒç´ æ“ä½œã€‚ ä»¥ä¸‹æƒ…å†µä½¿ç”¨ LinkedList : ä½ éœ€è¦é€šè¿‡å¾ªç¯è¿­ä»£æ¥è®¿é—®åˆ—è¡¨ä¸­çš„æŸäº›å…ƒç´ ã€‚ éœ€è¦é¢‘ç¹çš„åœ¨åˆ—è¡¨å¼€å¤´ã€ä¸­é—´ã€æœ«å°¾ç­‰ä½ç½®è¿›è¡Œæ·»åŠ å’Œåˆ é™¤å…ƒç´ æ“ä½œã€‚ LinkedList ç»§æ‰¿äº† AbstractSequentialList ç±»ã€‚ LinkedList å®ç°äº† Queue æ¥å£ï¼Œå¯ä½œä¸ºé˜Ÿåˆ—ä½¿ç”¨ã€‚ LinkedList å®ç°äº† List æ¥å£ï¼Œå¯è¿›è¡Œåˆ—è¡¨çš„ç›¸å…³æ“ä½œã€‚ LinkedList å®ç°äº† Deque æ¥å£ï¼Œå¯ä½œä¸ºé˜Ÿåˆ—ä½¿ç”¨ã€‚ LinkedList å®ç°äº† Cloneable æ¥å£ï¼Œå¯å®ç°å…‹éš†ã€‚ LinkedList å®ç°äº† java.io.Serializable æ¥å£ï¼Œå³å¯æ”¯æŒåºåˆ—åŒ–ï¼Œèƒ½é€šè¿‡åºåˆ—åŒ–å»ä¼ è¾“ã€‚ ","date":"2021-01-13","objectID":"/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/:0:4","tags":["Java"],"title":"Javaæ•°æ®ç»“æ„","uri":"/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"Queue Queueï¼š åŸºæœ¬ä¸Šï¼Œä¸€ä¸ªé˜Ÿåˆ—å°±æ˜¯ä¸€ä¸ªå…ˆå…¥å…ˆå‡ºï¼ˆFIFOï¼‰çš„æ•°æ®ç»“æ„ Queueæ¥å£ä¸Listã€SetåŒä¸€çº§åˆ«ï¼Œéƒ½æ˜¯ç»§æ‰¿äº†Collectionæ¥å£ã€‚LinkedListå®ç°äº†Dequeæ¥ å£ã€‚ â€‹ add å¢åŠ ä¸€ä¸ªå…ƒç´¢ å¦‚æœé˜Ÿåˆ—å·²æ»¡ï¼Œåˆ™æŠ›å‡ºä¸€ä¸ªIIIegaISlabEepeplianå¼‚å¸¸ remove ç§»é™¤å¹¶è¿”å›é˜Ÿåˆ—å¤´éƒ¨çš„å…ƒç´  å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™æŠ›å‡ºä¸€ä¸ªNoSuchElementExceptionå¼‚å¸¸ element è¿”å›é˜Ÿåˆ—å¤´éƒ¨çš„å…ƒç´  å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™æŠ›å‡ºä¸€ä¸ªNoSuchElementExceptionå¼‚å¸¸ offer æ·»åŠ ä¸€ä¸ªå…ƒç´ å¹¶è¿”å›true å¦‚æœé˜Ÿåˆ—å·²æ»¡ï¼Œåˆ™è¿”å›false poll ç§»é™¤å¹¶è¿”é—®é˜Ÿåˆ—å¤´éƒ¨çš„å…ƒç´  å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™è¿”å›null peek è¿”å›é˜Ÿåˆ—å¤´éƒ¨çš„å…ƒç´  å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™è¿”å›null put æ·»åŠ ä¸€ä¸ªå…ƒç´  å¦‚æœé˜Ÿåˆ—æ»¡ï¼Œåˆ™é˜»å¡ take ç§»é™¤å¹¶è¿”å›é˜Ÿåˆ—å¤´éƒ¨çš„å…ƒç´  å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™é˜»å¡ removeã€elementã€offer ã€pollã€peek å…¶å®æ˜¯å±äºQueueæ¥å£ã€‚ ","date":"2021-01-13","objectID":"/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/:0:5","tags":["Java"],"title":"Javaæ•°æ®ç»“æ„","uri":"/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"Comparatorè‡ªå®šä¹‰æ’åº Comparatoræ¥å£å¯ä»¥å®ç°è‡ªå®šä¹‰æ’åºï¼Œå®ç°Comparatoræ¥å£æ—¶ï¼Œè¦é‡å†™compareæ–¹æ³•ï¼š int compare(Object o1, Object o2) è¿”å›ä¸€ä¸ªåŸºæœ¬ç±»å‹çš„æ•´å‹ å¦‚æœè¦æŒ‰ç…§å‡åºæ’åº,åˆ™o1 å°äºo2ï¼Œè¿”å›-1ï¼ˆè´Ÿæ•°ï¼‰ï¼Œç›¸ç­‰è¿”å›0ï¼Œ01å¤§äº02è¿”å›1ï¼ˆæ­£æ•°ï¼‰ å¦‚æœè¦æŒ‰ç…§é™åºæ’åº,åˆ™o1 å°äºo2ï¼Œè¿”å›1ï¼ˆæ­£æ•°ï¼‰ï¼Œç›¸ç­‰è¿”å›0ï¼Œ01å¤§äº02è¿”å›-1ï¼ˆè´Ÿæ•°ï¼‰ list.sort(new Comparator\u003cPerson\u003e() { int flag=0; @Override public int compare(Person o1, Person o2) { int a=o1.getSex().compareTo(o2.getSex()); if(a!=0\u0026\u0026a\u003e0){ return -1; } else if(o1.getSex().equals(o2.getSex())){ if(o1.getAge()\u003co2.getAge()){ return -1; } else if(o1.getAge()==o2.getAge()){ if(o1.getWeigth()\u003co2.getWeigth()){ return -1; } else if(o1.getWeigth()==o2.getWeigth()){ if(o1.getHeight()\u003eo2.getHeight()){ return -1; } else if(o1.getHeight()==o2.getHeight()){ if(o1.getName().length()\u003co2.getName().length()){ return -1; } } } } } return 1; } }); ","date":"2021-01-13","objectID":"/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/:0:6","tags":["Java"],"title":"Javaæ•°æ®ç»“æ„","uri":"/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"},{"categories":["ä¸ªäººç½‘ç«™"],"content":"å®‰è£…Hugo åˆ° Hugo Releases ä¸‹è½½å¯¹åº”çš„æ“ä½œç³»ç»Ÿç‰ˆæœ¬çš„HugoäºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆhugoæˆ–è€…hugo.exeï¼‰ Macä¸‹ç›´æ¥ä½¿ç”¨ Homebrew å®‰è£…ï¼š brew install hugo ","date":"2020-10-15","objectID":"/hugo%E4%B8%AA%E4%BA%BA%E9%9D%99%E6%80%81%E7%BD%91%E9%A1%B5%E7%94%9F%E6%88%90/:0:1","tags":["Blog"],"title":"Hugoä¸ªäººé™æ€ç½‘é¡µç”Ÿæˆ","uri":"/hugo%E4%B8%AA%E4%BA%BA%E9%9D%99%E6%80%81%E7%BD%91%E9%A1%B5%E7%94%9F%E6%88%90/"},{"categories":["ä¸ªäººç½‘ç«™"],"content":"ç”Ÿæˆç«™ç‚¹ ä½¿ç”¨Hugoå¿«é€Ÿç”Ÿæˆç«™ç‚¹ï¼Œæ¯”å¦‚å¸Œæœ›ç”Ÿæˆåˆ° /path/to/site è·¯å¾„ï¼š $ hugo new site /path/to/site è¿™æ ·å°±åœ¨ /path/to/site ç›®å½•é‡Œç”Ÿæˆäº†åˆå§‹ç«™ç‚¹ï¼Œè¿›å»ç›®å½•ï¼š $ cd /path/to/site ç«™ç‚¹ç›®å½•ç»“æ„ï¼š â–¸ archetypes/ â–¸ content/ â–¸ layouts/ â–¸ static/ config.toml ","date":"2020-10-15","objectID":"/hugo%E4%B8%AA%E4%BA%BA%E9%9D%99%E6%80%81%E7%BD%91%E9%A1%B5%E7%94%9F%E6%88%90/:0:2","tags":["Blog"],"title":"Hugoä¸ªäººé™æ€ç½‘é¡µç”Ÿæˆ","uri":"/hugo%E4%B8%AA%E4%BA%BA%E9%9D%99%E6%80%81%E7%BD%91%E9%A1%B5%E7%94%9F%E6%88%90/"},{"categories":["ä¸ªäººç½‘ç«™"],"content":"åˆ›å»ºæ–‡ç«  åˆ›å»ºä¸€ä¸ª about é¡µé¢ï¼š $ hugo new about.md about.md è‡ªåŠ¨ç”Ÿæˆåˆ°äº† content/about.md ï¼Œæ‰“å¼€ about.md çœ‹ä¸‹ï¼š +++ date = \"2015-10-25T08:36:54-07:00\" draft = true title = \"about\" +++ æ­£æ–‡å†…å®¹ å†…å®¹æ˜¯ Markdown æ ¼å¼çš„ï¼Œ+++ ä¹‹é—´çš„å†…å®¹æ˜¯ TOML æ ¼å¼çš„ï¼Œæ ¹æ®ä½ çš„å–œå¥½ï¼Œä½ å¯ä»¥æ¢æˆ YAML æ ¼å¼ï¼ˆä½¿ç”¨ --- æ ‡è®°ï¼‰æˆ–è€… JSON æ ¼å¼ã€‚ åˆ›å»ºç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œæ”¾åˆ° post ç›®å½•ï¼Œæ–¹ä¾¿ä¹‹åç”Ÿæˆèšåˆé¡µé¢ã€‚ $ hugo new post/first.md ","date":"2020-10-15","objectID":"/hugo%E4%B8%AA%E4%BA%BA%E9%9D%99%E6%80%81%E7%BD%91%E9%A1%B5%E7%94%9F%E6%88%90/:0:3","tags":["Blog"],"title":"Hugoä¸ªäººé™æ€ç½‘é¡µç”Ÿæˆ","uri":"/hugo%E4%B8%AA%E4%BA%BA%E9%9D%99%E6%80%81%E7%BD%91%E9%A1%B5%E7%94%9F%E6%88%90/"},{"categories":["ä¸ªäººç½‘ç«™"],"content":"å®‰è£…çš®è‚¤ åˆ° çš®è‚¤åˆ—è¡¨ æŒ‘é€‰ä¸€ä¸ªå¿ƒä»ªçš„çš®è‚¤ï¼Œæ¯”å¦‚ä½ è§‰å¾— Hyde çš®è‚¤ä¸é”™ï¼Œæ‰¾åˆ°ç›¸å…³çš„ GitHub åœ°å€ï¼Œåˆ›å»ºç›®å½• themesï¼Œåœ¨ themes ç›®å½•é‡ŒæŠŠçš®è‚¤ git clone ä¸‹æ¥ï¼š # åˆ›å»º themes ç›®å½• $ cd themes $ git clone https://github.com/spf13/hyde.git ","date":"2020-10-15","objectID":"/hugo%E4%B8%AA%E4%BA%BA%E9%9D%99%E6%80%81%E7%BD%91%E9%A1%B5%E7%94%9F%E6%88%90/:0:4","tags":["Blog"],"title":"Hugoä¸ªäººé™æ€ç½‘é¡µç”Ÿæˆ","uri":"/hugo%E4%B8%AA%E4%BA%BA%E9%9D%99%E6%80%81%E7%BD%91%E9%A1%B5%E7%94%9F%E6%88%90/"},{"categories":["ä¸ªäººç½‘ç«™"],"content":"è¿è¡ŒHugo åœ¨ä½ çš„ç«™ç‚¹æ ¹ç›®å½•æ‰§è¡Œ Hugo å‘½ä»¤è¿›è¡Œè°ƒè¯•ï¼š $ hugo server --theme=hyde --buildDrafts è‹¥åœ¨config.tomlè®¾ç½®äº†themeå’ŒbuildDraftsï¼š $ hugo server æµè§ˆå™¨é‡Œæ‰“å¼€ï¼š http://localhost:1313 ","date":"2020-10-15","objectID":"/hugo%E4%B8%AA%E4%BA%BA%E9%9D%99%E6%80%81%E7%BD%91%E9%A1%B5%E7%94%9F%E6%88%90/:0:5","tags":["Blog"],"title":"Hugoä¸ªäººé™æ€ç½‘é¡µç”Ÿæˆ","uri":"/hugo%E4%B8%AA%E4%BA%BA%E9%9D%99%E6%80%81%E7%BD%91%E9%A1%B5%E7%94%9F%E6%88%90/"},{"categories":["ä¸ªäººç½‘ç«™"],"content":"éƒ¨ç½² å‡è®¾ä½ éœ€è¦éƒ¨ç½²åœ¨ GitHub Pages ä¸Šï¼Œé¦–å…ˆåœ¨GitHubä¸Šåˆ›å»ºä¸€ä¸ªRepositoryï¼Œå‘½åä¸ºï¼šcoderzh.github.ioï¼ˆcoderzhæ›¿æ¢ä¸ºä½ çš„githubç”¨æˆ·åï¼‰ã€‚ åœ¨ç«™ç‚¹æ ¹ç›®å½•æ‰§è¡Œ Hugo å‘½ä»¤ç”Ÿæˆæœ€ç»ˆé¡µé¢ï¼š $ hugo --theme=hyde --baseUrl=\"http://coderzh.github.io/\" æˆ–è€… $ hugo ï¼ˆæ³¨æ„ï¼Œä»¥ä¸Šå‘½ä»¤å¹¶ä¸ä¼šç”Ÿæˆè‰ç¨¿é¡µé¢ï¼Œå¦‚æœæœªç”Ÿæˆä»»ä½•æ–‡ç« ï¼Œè¯·å»æ‰æ–‡ç« å¤´éƒ¨çš„ draft=true å†é‡æ–°ç”Ÿæˆã€‚ï¼‰ å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œæ‰€æœ‰é™æ€é¡µé¢éƒ½ä¼šç”Ÿæˆåˆ° public ç›®å½•ï¼Œå°†pubilcç›®å½•é‡Œæ‰€æœ‰æ–‡ä»¶ push åˆ°åˆšåˆ›å»ºçš„Repositoryçš„ master åˆ†æ”¯ã€‚ æµè§ˆå™¨é‡Œè®¿é—®ï¼šhttp://coderzh.github.io/ ","date":"2020-10-15","objectID":"/hugo%E4%B8%AA%E4%BA%BA%E9%9D%99%E6%80%81%E7%BD%91%E9%A1%B5%E7%94%9F%E6%88%90/:0:6","tags":["Blog"],"title":"Hugoä¸ªäººé™æ€ç½‘é¡µç”Ÿæˆ","uri":"/hugo%E4%B8%AA%E4%BA%BA%E9%9D%99%E6%80%81%E7%BD%91%E9%A1%B5%E7%94%9F%E6%88%90/"},{"categories":["ä¸ªäººç½‘ç«™"],"content":"å…¶ä»–ç›¸å…³ å…³äºæ–‡ç« å†…å®¹ å®ƒä½¿æ‚¨å¯ä»¥ç›´æ¥åŒ…å«å†…å®¹çš„å…ƒæ•°æ®ã€‚Hugoæ”¯æŒå‡ ç§ä¸åŒçš„æ ¼å¼ï¼Œæ¯ç§æ ¼å¼éƒ½æœ‰è‡ªå·±çš„è¯†åˆ«ä»¤ç‰Œã€‚ æ”¯æŒçš„æ ¼å¼ï¼š TOMLï¼Œä»¥â€œ+++â€æ ‡è¯†ã€‚ YAMLï¼Œç”±â€œ---â€æ ‡è¯†ã€‚ JSONï¼Œä¸€ä¸ªå•ç‹¬çš„JSONå¯¹è±¡ï¼Œç”±'{'å’Œ'}'åŒ…å›´ï¼Œæ¯è¡Œå„è‡ªã€‚ YAML Example ---title:\"spf13-vim 3.0 release and new website\"description:\"spf13-vim is a cross platform distribution of vim plugins and resources for Vim.\"tags:[\".vimrc\",\"plugins\",\"spf13-vim\",\"vim\"]lastmod:2015-12-23date:\"2012-04-06\"categories:- \"Development\"- \"VIM\"slug:\"spf13-vim-3-0-release-and-new-website\"---ContentofthefilegoesHere Required variables title The title for the content description The description for the content date The date the content will be sorted by taxonomies These will use the field name of the plural form of the index (see tags and categories above) Optional variables aliases An array of one or more aliases (e.g. old published path of a renamed content) that would be created to redirect to this content. See Aliases for details. draft If true, the content will not be rendered unless hugo is called with --buildDrafts publishdate If in the future, content will not be rendered unless hugo is called with --buildFuture type The type of the content (will be derived from the directory automatically if unset) isCJKLanguage If true, explicitly treat the content as CJKLanguage (.Summary and .WordCount can work properly in CJKLanguage) weight Used for sorting markup (Experimental) Specify \"rst\" for reStructuredText (requires rst2html) or \"md\" (default) for Markdown slug The token to appear in the tail of the URL, or url The full path to the content from the web root. If neither slug or url is present, the filename will be used. å…³äºé…ç½® é€šå¸¸çš„ä½¿ç”¨æƒ…å†µä¸‹ï¼Œä¸€ä¸ªç½‘ç«™å¹¶ä¸éœ€è¦ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå› ä¸ºå®ƒçš„ç›®å½•ç»“æ„å’Œæ¨¡æ¿å°±æä¾›äº†ä¸»è¦çš„é…ç½®ã€‚ Hugo éœ€è¦åœ¨æºç›®å½•æŸ¥æ‰¾ä¸€ä¸ª config.toml çš„é…ç½®æ–‡ä»¶ã€‚å¦‚æœè¿™ä¸ªæ–‡ä»¶ä¸å­˜åœ¨ï¼Œå°†ä¼šæŸ¥æ‰¾ config.yamlï¼Œç„¶åæ˜¯ config.json ã€‚ è¿™ä¸ªé…ç½®æ–‡ä»¶æ˜¯ä¸€ä¸ªæ•´ç«™çš„é…ç½®ã€‚å®ƒç»™ Hugo æä¾›äº†å¦‚ä½•æ„å»ºç«™ç‚¹çš„æ–¹å¼ï¼Œæ¯”å¦‚å…¨å±€çš„å‚æ•°å’Œèœå•ã€‚ é…ç½®å˜é‡ ä¸‹é¢æ˜¯ Hugo å®šä¹‰å¥½çš„å˜é‡åˆ—è¡¨ï¼Œä»¥åŠä»–ä»¬çš„é»˜è®¤å€¼ï¼Œä½ å¯ä»¥è®¾ç½®ä»–ä»¬ï¼š --- archetypedir: \"archetype\" # hostname (and path) to the root, e.g. http://spf13.com/ baseURL: \"\" # include content marked as draft buildDrafts: false # include content with publishdate in the future buildFuture: false # enable this to make all relative URLs relative to content root. Note that this does not affect absolute URLs. relativeURLs: false canonifyURLs: false # config file (default is path/config.yaml|json|toml) config: \"config.toml\" contentdir: \"content\" dataDir: \"data\" defaultExtension: \"html\" defaultLayout: \"post\" disableLiveReload: false # Do not build RSS files disableRSS: false # Do not build Sitemap file disableSitemap: false # edit new content with this editor, if provided editor: \"\" footnoteAnchorPrefix: \"\" footnoteReturnLinkContents: \"\" # google analytics tracking id googleAnalytics: \"\" languageCode: \"\" layoutdir: \"layouts\" # Enable Logging log: false # Log File path (if set, logging enabled automatically) logFile: \"\" # \"yaml\", \"toml\", \"json\" metaDataFormat: \"toml\" newContentEditor: \"\" # Don't sync modification time of files noTimes: false paginate: 10 paginatePath: \"page\" permalinks: # Pluralize titles in lists using inflect pluralizeListTitles: true # Preserve special characters in taxonomy names (\"GÃ©rard Depardieu\" vs \"Gerard Depardieu\") preserveTaxonomyNames: false # filesystem path to write files to publishdir: \"public\" # color-codes for highlighting derived from this style pygmentsStyle: \"monokai\" # true: use pygments-css or false: color-codes directly pygmentsUseClasses: false # default sitemap configuration map sitemap: # filesystem path to read files relative from source: \"\" staticdir: \"static\" # display memory and timing of different steps of the program stepAnalysis: false # theme to use (located in /doc/themes/THEMENAME/) theme: \"\" title: \"\" # if true, use /filename.html instead of /filename/ uglyURLs: false # Do not make the url/path to lowercase disablePathToLower: false # if true, auto-detect Chinese/Japanese/Korean Languages in the content. (.Summary and .WordCount can work properly in CJKLanguage) hasCJKLanguage false # verbose output verbose: false # verbose logging verboseLog: false # watch filesystem for chan","date":"2020-10-15","objectID":"/hugo%E4%B8%AA%E4%BA%BA%E9%9D%99%E6%80%81%E7%BD%91%E9%A1%B5%E7%94%9F%E6%88%90/:0:7","tags":["Blog"],"title":"Hugoä¸ªäººé™æ€ç½‘é¡µç”Ÿæˆ","uri":"/hugo%E4%B8%AA%E4%BA%BA%E9%9D%99%E6%80%81%E7%BD%91%E9%A1%B5%E7%94%9F%E6%88%90/"},{"categories":["ä¸ªäººç½‘ç«™"],"content":"GitHub Pages GitHub Pagesæ˜¯GitHubæä¾›ç»™å¤§å®¶çš„å¿«é€Ÿéƒ¨ç½²é™æ€ç½‘é¡µçš„åŠŸèƒ½ï¼Œä½†æ˜¯ç”±äºå›½å†…è®¿é—®æ¯”è¾ƒæ…¢ï¼Œè¿™é‡Œæä¾›ä¸€ä¸ªç›¸å¯¹è¾ƒå¿«çš„è§£å†³åŠæ³•ï¼Œå°±æ˜¯ç”¨GitHubåŠ Vercelã€‚ ","date":"2020-10-14","objectID":"/%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99github%E5%8A%A0vercel/:0:1","tags":["Blog"],"title":"æ­å»ºä¸ªäººç½‘ç«™:GitHubåŠ Vercel","uri":"/%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99github%E5%8A%A0vercel/"},{"categories":["ä¸ªäººç½‘ç«™"],"content":"ç¬¬ä¸€æ­¥ï¼šæ³¨å†Œç™»å½•Vercel æˆ‘æƒ³å¤§å®¶åº”è¯¥éƒ½æœ‰GitHubè´¦å·å§ï¼Œè¿™é‡Œå°±ä¸å¤šè¯´äº†ã€‚ ç‚¹å‡»Vercelå®˜ç½‘,å¹¶ä½¿ç”¨GitHubç™»å½•ã€‚ æ³¨æ„âš ï¸ï¼šGitHubè´¦å·ä¸è¦ä½¿ç”¨QQé‚®ç®±ä½œä¸ºä¸»é‚®ç®±ã€‚å¦‚æœå·²ç»ç”¨QQé‚®ç®±æ³¨å†Œäº†GitHubï¼Œå¯ä»¥åˆ°Setting -\u003e Emailsé‡Œä¿®æ”¹è‡ªå·±çš„ä¸»é‚®ç®±ã€‚ ","date":"2020-10-14","objectID":"/%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99github%E5%8A%A0vercel/:0:2","tags":["Blog"],"title":"æ­å»ºä¸ªäººç½‘ç«™:GitHubåŠ Vercel","uri":"/%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99github%E5%8A%A0vercel/"},{"categories":["ä¸ªäººç½‘ç«™"],"content":"ç¬¬äºŒæ­¥ï¼šå¯¼å…¥ä»“åº“ å®ƒä¼šè®©ä½ é€‰æ‹©ä¸€ç§ç™»å½•Vercelçš„æ–¹æ³•ï¼Œæ”¯æŒä½¿ç”¨GitHubï¼ŒGitLabå’ŒBitbucketç™»å½•ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰GitHubï¼Œåé¢å°±æ˜¯æ— è„‘Nextçš„æ­¥éª¤ã€‚ é¡ºåˆ©çš„è¯ç¨ç­‰ç‰‡åˆ»å°±ä¼šå¼¹å‡ºéƒ¨ç½²æˆåŠŸçš„é¡µé¢ï¼Œè¿˜æœ‰æµ®å¤¸çš„æ’’èŠ±ã€‚ éƒ¨ç½²å®Œæˆä¹‹åå¯ä»¥ç‚¹å‡»visitè¿›å…¥ç½‘é¡µçœ‹çœ‹æ•ˆæœã€‚ ","date":"2020-10-14","objectID":"/%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99github%E5%8A%A0vercel/:0:3","tags":["Blog"],"title":"æ­å»ºä¸ªäººç½‘ç«™:GitHubåŠ Vercel","uri":"/%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99github%E5%8A%A0vercel/"},{"categories":["ä¸ªäººç½‘ç«™"],"content":"ç¬¬ä¸‰æ­¥ï¼šé…ç½®åŸŸå 1.ç‚¹å‡»view Domainsè¿›è¡Œç»‘å®šè‡ªå·±çš„åŸŸåæˆ–è€…ç‚¹å‡»SettingsğŸ‘‰DomainsğŸ‘‰è¾“å…¥è‡ªå·±çš„åŸŸå 2.è¾“å…¥è‡ªå·±çš„åŸŸåï¼Œç„¶åç‚¹Addï¼Œå®ƒä¼šå¼¹å‡ºæ¥ä¸€äº›éœ€è¦åšçš„é…ç½®ï¼Œæ¥ä¸‹æ¥éœ€è¦å»æˆ‘ä»¬çš„åŸŸåæä¾›å•†é‚£é‡Œæ ¹æ®Vercelç»™å‡ºçš„è¦æ±‚è¿›è¡Œé…ç½®ã€‚éœ€è¦ä¿®æ”¹çš„æœ‰ï¼šName Serversä»¥åŠåŸŸåè§£æ æœ€åç­‰å¾…ç­‰è¿™ä¸¤ä¸ªæ”¹åŠ¨éƒ½ç”Ÿæ•ˆä¹‹åå°±å¯ä»¥ç”¨æˆ‘ä»¬è‡ªå·±çš„åŸŸåè®¿é—®åˆšåˆšå»ºç«‹çš„ç½‘ç«™å•¦~ ä»¥åæƒ³è¦ä¿®æ”¹ç½‘ç«™çš„è¯ï¼Œåªéœ€è¦å°†æ”¹åŠ¨pushåˆ°GitHubä¸Šï¼Œvercelä¼šè‡ªåŠ¨æŠŠæ”¹åŠ¨åŒæ­¥è¿‡æ¥ï¼Œå®Œå…¨ä¸ç”¨ç®¡ï¼Œè¶…çœå¿ƒã€‚ åœ¨ä¸€çº§åŸŸåé…ç½®å¥½ä¹‹åï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨vercelä¸­ä½¿ç”¨äºŒçº§åŸŸåï¼Œæ— éœ€è¿›è¡Œé¢å¤–è®¾ç½®ã€‚ ","date":"2020-10-14","objectID":"/%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99github%E5%8A%A0vercel/:0:4","tags":["Blog"],"title":"æ­å»ºä¸ªäººç½‘ç«™:GitHubåŠ Vercel","uri":"/%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99github%E5%8A%A0vercel/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"ä¸€ã€å¼•å…¥ä¾èµ– \u003cdependency\u003e \u003cgroupId\u003eorg.thymeleaf.extras\u003c/groupId\u003e \u003cartifactId\u003ethymeleaf-extras-springsecurity4\u003c/artifactId\u003e \u003cversion\u003e3.0.4.RELEASE\u003c/version\u003e \u003c/dependency\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e \u003cartifactId\u003espring-boot-starter-security\u003c/artifactId\u003e \u003c/dependency\u003e ","date":"2020-10-12","objectID":"/%E6%B5%85%E5%AD%A6springsecurity-springmybatis/:0:1","tags":["SpringBoot"],"title":"æµ…å­¦SpringSecurity+SpringMybatis","uri":"/%E6%B5%85%E5%AD%A6springsecurity-springmybatis/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"äºŒã€é…ç½®WebSecurityConfigurerAdapter ä½¿ç”¨å†…å­˜ç”¨æˆ·å‚¨å­˜ä¸”è®¤è¯ @EnableWebSecurity @EnableGlobalMethodSecurity(prePostEnabled = true) // å¼€å¯æ–¹æ³•çº§å®‰å…¨éªŒè¯ public class SecurityConfig extends WebSecurityConfigurerAdapter { @Override protected void configure(HttpSecurity http) throws Exception { http.authorizeRequests()//è¡¨ç¤ºä¸‹é¢æ˜¯è®¤è¯çš„é…ç½® .antMatchers(\"/login\").permitAll() .antMatchers(\"/login/form\").permitAll() .antMatchers(\"/css/**\").permitAll() .antMatchers(\"/js/**\").permitAll() .anyRequest()//ä»»ä½•è¯·æ±‚ .authenticated();//éƒ½éœ€è¦èº«ä»½è®¤è¯ http.formLogin()//è¡¨å•è®¤è¯ .loginPage(\"/login\")//ä½¿ç”¨æœ¬äººåˆ¶ä½œçš„ç™»å½•ç•Œé¢ .usernameParameter(\"user\")//usernameæ›´æ”¹ .loginProcessingUrl(\"/login/form\")//è¡¨å•æäº¤çš„api .defaultSuccessUrl(\"/\")//ç™»å½•æˆåŠŸè·³è½¬é¡µé¢ .failureUrl(\"/login/error\").permitAll();//ç™»å½•é”™è¯¯è·³è½¬ç•Œé¢ http.logout().logoutSuccessUrl(\"/login\");//ç™»å‡º http.csrf().disable();//é˜²æ­¢è·¨ç«™æ”»å‡» } @Override protected void configure(AuthenticationManagerBuilder auth) throws Exception { auth.inMemoryAuthentication()//ä½¿ç”¨å†…å­˜ç”¨æˆ·å‚¨å­˜ //é…ç½®äº†ä¸€ä¸ªuserç”¨æˆ·å’Œä¸€ä¸ªadminç”¨æˆ· .withUser(\"user\").password(\"password\").roles(\"USER\").and() .withUser(\"admin\").password(\"password\").roles(\"USER\", \"ADMIN\"); } } ","date":"2020-10-12","objectID":"/%E6%B5%85%E5%AD%A6springsecurity-springmybatis/:0:2","tags":["SpringBoot"],"title":"æµ…å­¦SpringSecurity+SpringMybatis","uri":"/%E6%B5%85%E5%AD%A6springsecurity-springmybatis/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"ä¸‰ã€ç”±æ•°æ®åº“è®¤è¯ç™»å½• åœ¨MySQLä¸­åˆ›å»ºç”¨æˆ·è¡¨ CREATE TABLE `admin` ( `username` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL, `password` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL, `id` int(11) NOT NULL AUTO_INCREMENT, `role` varchar(255) DEFAULT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8; INSERT INTO `admin` VALUES ('admin', '123', 1, 'admin'); entityå±‚åˆ›å»ºå®ä½“ @Data //ä½¿ç”¨lombok,ç®€åŒ–get,set public class UserInfo { private Integer id; private String username; private String password; private String role; } daoå±‚åˆ›å»ºæ•°æ®å­˜å–å¯¹è±¡ @Mapper//mapper.xmlåˆ†ç¦» @Repository public interface UserInfoDao { UserInfo getUserInfoByUsername(String username); } åˆ›å»ºdaoå¯¹åº”çš„mapper.xml \u003c?xml version=\"1.0\" encoding=\"UTF-8\" ?\u003e \u003c!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"\u003e \u003cmapper namespace=\"cn.llssit.ls.dao.UserInfoDao\"\u003e \u003cselect id=\"getUserInfoByUsername\" resultType=\"UserInfo\"\u003e select * from admin where username = #{username} \u003c/select\u003e \u003c/mapper\u003e serviceå±‚ interface public interface UserInfoSevice { UserInfo getUserInfoByUsername(String username); } impl @Service public class UserInfoServiceImpl implements UserInfoSevice { @Autowired private UserInfoDao userInfoDao; @Override public UserInfo getUserInfoByUsername(String username) { return userInfoDao.getUserInfoByUsername(username); } } controllerå±‚æˆ–è€…å…¶ä»–è¿ç”¨ springsecurityæ•°æ®åº“è®¤è¯ é¦–å…ˆéœ€è¦é‡å†™æ¥å£loadUserByUsername @Component public class MyUserDetailService implements UserDetailsService { @Autowired private UserInfoSevice userInfoService; @Override public UserDetails loadUserByUsername(String s) throws UsernameNotFoundException { // é€šè¿‡ç”¨æˆ·åä»æ•°æ®åº“è·å–ç”¨æˆ·ä¿¡æ¯ UserInfo userInfo = userInfoService.getUserInfoByUsername(s); if (userInfo == null) { throw new UsernameNotFoundException(\"ç”¨æˆ·ä¸å­˜åœ¨\"); } // å¾—åˆ°ç”¨æˆ·è§’è‰² String role = userInfo.getRole(); // è§’è‰²é›†åˆ List\u003cGrantedAuthority\u003e authorities = new ArrayList\u003c\u003e(); // è§’è‰²å¿…é¡»ä»¥`ROLE_`å¼€å¤´ï¼Œæ•°æ®åº“ä¸­æ²¡æœ‰ï¼Œåˆ™åœ¨è¿™é‡ŒåŠ  authorities.add(new SimpleGrantedAuthority(\"ROLE_\" + role)); return new User( userInfo.getUsername(), // å› ä¸ºæ•°æ®åº“æ˜¯æ˜æ–‡ï¼Œæ‰€ä»¥è¿™é‡Œéœ€åŠ å¯†å¯†ç  new BCryptPasswordEncoder().encode(userInfo.getPassword()), authorities ); } } ç„¶ååˆ›å»ºSecurityçš„é…ç½®ç±»WebSecurityConfigç»§æ‰¿WebSecurityConfigurerAdapterï¼Œå¹¶é‡å†™configure(auth)æ–¹æ³• @EnableWebSecurity @EnableGlobalMethodSecurity(prePostEnabled = true) // å¼€å¯æ–¹æ³•çº§å®‰å…¨éªŒè¯ public class SecurityConfig extends WebSecurityConfigurerAdapter { @Autowired private MyUserDetailService userDatailService; @Override protected void configure(HttpSecurity http) throws Exception { http.authorizeRequests() .antMatchers(\"/login\").permitAll() .antMatchers(\"/login/form\").permitAll() .antMatchers(\"/css/**\").permitAll() .antMatchers(\"/js/**\").permitAll() .anyRequest() .authenticated(); http.formLogin() .loginPage(\"/login\") .usernameParameter(\"user\") .loginProcessingUrl(\"/login/form\") .defaultSuccessUrl(\"/\") .failureUrl(\"/login/error\").permitAll(); http.logout().logoutSuccessUrl(\"/login\"); http.csrf().disable(); } @Override protected void configure(AuthenticationManagerBuilder auth) throws Exception { auth // ä»æ•°æ®åº“è¯»å–çš„ç”¨æˆ·è¿›è¡Œèº«ä»½è®¤è¯ .userDetailsService(userDatailService) .passwordEncoder(new BCryptPasswordEncoder()); } } è§’è‰²è®¿é—® @EnableGlobalMethodSecurity(prePostEnabled = true) // å¼€å¯æ–¹æ³•çº§å®‰å…¨éªŒè¯ ä¿®æ”¹Controller.javaç±»ï¼Œå¢åŠ æ–¹æ³•çš„è®¿é—®æƒé™@PreAuthorize(\"hasAnyRole('admin')\") ","date":"2020-10-12","objectID":"/%E6%B5%85%E5%AD%A6springsecurity-springmybatis/:0:3","tags":["SpringBoot"],"title":"æµ…å­¦SpringSecurity+SpringMybatis","uri":"/%E6%B5%85%E5%AD%A6springsecurity-springmybatis/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"Javaé›†åˆæ¡†æ¶ å¯¼å…¥åŒ… import java.util.*; ArrayList ä¸€ã€å®šä¹‰ä¸€ä¸ªArrayList //é»˜è®¤åˆ›å»ºä¸€ä¸ªArrayListé›†åˆ List\u003cString\u003e list = new ArrayList\u003c\u003e(); //åˆ›å»ºä¸€ä¸ªåˆå§‹åŒ–é•¿åº¦ä¸º100çš„ArrayListé›†åˆ List\u003cString\u003e initlist = new ArrayList\u003c\u003e(100); //å°†å…¶ä»–ç±»å‹çš„é›†åˆè½¬ä¸ºArrayList List\u003cString\u003e setList = new ArrayList\u003c\u003e(new HashSet()); äºŒã€ArrayListå¸¸ç”¨æ–¹æ³• add(E element) set(int index, E element) å› ä¸ºArrayListåº•å±‚æ˜¯ç”±æ•°ç»„å®ç°çš„ï¼Œsetå®ç°éå¸¸ç®€å•ï¼Œè°ƒç”¨ set(4, \"4\") é€šè¿‡ä¼ å…¥çš„æ•°å­—ä¸‹æ ‡æ‰¾åˆ°å¯¹åº”çš„ä½ç½®ï¼Œæ›¿æ¢å…¶ä¸­çš„å…ƒç´ ï¼Œå‰æä¹Ÿéœ€è¦é¦–å…ˆåˆ¤æ–­ä¼ å…¥çš„æ•°ç»„ä¸‹æ ‡æ˜¯å¦è¶Šç•Œã€‚ get(int index) remove(int index) remove(Object o) å…¶ä»–æ–¹æ³• size() : è·å–é›†åˆé•¿åº¦ï¼Œé€šè¿‡å®šä¹‰åœ¨ArrayListä¸­çš„ç§æœ‰å˜é‡sizeå¾—åˆ° isEmpty()ï¼šæ˜¯å¦ä¸ºç©ºï¼Œé€šè¿‡å®šä¹‰åœ¨ArrayListä¸­çš„ç§æœ‰å˜é‡sizeå¾—åˆ° contains(Object o)ï¼šæ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ ï¼Œé€šè¿‡éå†åº•å±‚æ•°ç»„elementDataï¼Œé€šè¿‡equalsæˆ–==è¿›è¡Œåˆ¤æ–­ clear()ï¼šé›†åˆæ¸…ç©ºï¼Œé€šè¿‡éå†åº•å±‚æ•°ç»„elementDataï¼Œè®¾ç½®ä¸ºnull ArrayListçš„éå† List\u003cString\u003e list=new ArrayList\u003cString\u003e(); list.add(\"Hello\"); list.add(\"World\"); list.add(\"HAHAHAHA\"); //ç¬¬ä¸€ç§éå†æ–¹æ³•ä½¿ç”¨ For-Each éå† List for (String str : list) { //ä¹Ÿå¯ä»¥æ”¹å†™ for(int i=0;i\u003clist.size();i++) è¿™ç§å½¢å¼ System.out.println(str); } //ç¬¬äºŒç§éå†ï¼ŒæŠŠé“¾è¡¨å˜ä¸ºæ•°ç»„ç›¸å…³çš„å†…å®¹è¿›è¡Œéå† String[] strArray=new String[list.size()]; list.toArray(strArray); for(int i=0;i\u003cstrArray.length;i++) //è¿™é‡Œä¹Ÿå¯ä»¥æ”¹å†™ä¸º for(String str:strArray) è¿™ç§å½¢å¼ { System.out.println(strArray[i]); } //ç¬¬ä¸‰ç§éå† ä½¿ç”¨è¿­ä»£å™¨è¿›è¡Œç›¸å…³éå† Iterator\u003cString\u003e ite=list.iterator(); while(ite.hasNext())//åˆ¤æ–­ä¸‹ä¸€ä¸ªå…ƒç´ ä¹‹åæœ‰å€¼ { System.out.println(ite.next()); } HashMap ä¸€ã€å®šä¹‰ä¸€ä¸ªHashMap Map\u003cString, String\u003e map = new HashMap\u003c\u003e(); äºŒã€HashMapå¸¸ç”¨æ–¹æ³• public V put(K key, V value) :æ’å…¥é”®å€¼å¯¹æ•°æ® public V get(Object key) :æ ¹æ®é”®å€¼è·å–é”®å€¼å¯¹å€¼æ•°æ® public int size() :è·å–Mapä¸­é”®å€¼å¯¹çš„ä¸ªæ•° public boolean containsKey(Object key) :åˆ¤æ–­Mapé›†åˆä¸­æ˜¯å¦åŒ…å«é”®ä¸ºkeyçš„é”®å€¼å¯¹ boolean containsValue(Object value) :åˆ¤æ–­Mapé›†åˆä¸­æ˜¯å¦åŒ…å«å€¼ä¸ºvalueçš„é”®å€¼å¯¹ public boolean isEmpty() :åˆ¤æ–­Mapé›†åˆä¸­æ˜¯å¦æ²¡æœ‰ä»»ä½•é”®å€¼å¯¹ public V remove(Object key) :æ ¹æ®é”®å€¼åˆ é™¤Mapä¸­é”®å€¼å¯¹ public void clear() :æ¸…ç©ºMapé›†åˆä¸­æ‰€æœ‰çš„é”®å€¼å¯¹ HashMapçš„éå† Map\u003cString, String\u003e map = new HashMap\u003cString, String\u003e(); map.put(\"1\", \"value1\"); map.put(\"2\", \"value2\"); map.put(\"3\", \"value3\"); //ç¬¬ä¸€ç§ï¼šæ™®éä½¿ç”¨ï¼ŒäºŒæ¬¡å–å€¼ System.out.println(\"é€šè¿‡Map.keySetéå†keyå’Œvalueï¼š\"); for (String key : map.keySet()) { System.out.println(\"key= \"+ key + \" and value= \" + map.get(key)); } //ç¬¬äºŒç§ System.out.println(\"é€šè¿‡Map.entrySetä½¿ç”¨iteratoréå†keyå’Œvalueï¼š\"); Iterator\u003cMap.Entry\u003cString, String\u003e\u003e it = map.entrySet().iterator(); while (it.hasNext()) { Map.Entry\u003cString, String\u003e entry = it.next(); System.out.println(\"key= \" + entry.getKey() + \" and value= \" + entry.getValue()); } //ç¬¬ä¸‰ç§ï¼šæ¨èï¼Œå°¤å…¶æ˜¯å®¹é‡å¤§æ—¶ System.out.println(\"é€šè¿‡Map.entrySetéå†keyå’Œvalue\"); for (Map.Entry\u003cString, String\u003e entry : map.entrySet()) { System.out.println(\"key= \" + entry.getKey() + \" and value= \" + entry.getValue()); } //ç¬¬å››ç§ System.out.println(\"é€šè¿‡Map.values()éå†æ‰€æœ‰çš„valueï¼Œä½†ä¸èƒ½éå†key\"); for (String v : map.values()) { System.out.println(\"value= \" + v); } ","date":"2020-10-12","objectID":"/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/:0:1","tags":["Java"],"title":"Javaå­¦ä¹ ç¬”è®°","uri":"/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"Javaå¤šçº¿ç¨‹ Java ç»™å¤šçº¿ç¨‹ç¼–ç¨‹æä¾›äº†å†…ç½®çš„æ”¯æŒã€‚ ä¸€æ¡çº¿ç¨‹æŒ‡çš„æ˜¯è¿›ç¨‹ä¸­ä¸€ä¸ªå•ä¸€é¡ºåºçš„æ§åˆ¶æµï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥å¹¶å‘å¤šä¸ªçº¿ç¨‹ï¼Œæ¯æ¡çº¿ç¨‹å¹¶è¡Œæ‰§è¡Œä¸åŒçš„ä»»åŠ¡ã€‚ å¤šçº¿ç¨‹æ˜¯å¤šä»»åŠ¡çš„ä¸€ç§ç‰¹åˆ«çš„å½¢å¼ï¼Œä½†å¤šçº¿ç¨‹ä½¿ç”¨äº†æ›´å°çš„èµ„æºå¼€é”€ã€‚ è¿™é‡Œå®šä¹‰å’Œçº¿ç¨‹ç›¸å…³çš„å¦ä¸€ä¸ªæœ¯è¯­ - è¿›ç¨‹ï¼šä¸€ä¸ªè¿›ç¨‹åŒ…æ‹¬ç”±æ“ä½œç³»ç»Ÿåˆ†é…çš„å†…å­˜ç©ºé—´ï¼ŒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ã€‚ä¸€ä¸ªçº¿ç¨‹ä¸èƒ½ç‹¬ç«‹çš„å­˜åœ¨ï¼Œå®ƒå¿…é¡»æ˜¯è¿›ç¨‹çš„ä¸€éƒ¨åˆ†ã€‚ä¸€ä¸ªè¿›ç¨‹ä¸€ç›´è¿è¡Œï¼Œç›´åˆ°æ‰€æœ‰çš„éå®ˆæŠ¤çº¿ç¨‹éƒ½ç»“æŸè¿è¡Œåæ‰èƒ½ç»“æŸã€‚ å¤šçº¿ç¨‹èƒ½æ»¡è¶³ç¨‹åºå‘˜ç¼–å†™é«˜æ•ˆç‡çš„ç¨‹åºæ¥è¾¾åˆ°å……åˆ†åˆ©ç”¨ CPU çš„ç›®çš„ã€‚ ä¸€ä¸ªçº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ çº¿ç¨‹æ˜¯ä¸€ä¸ªåŠ¨æ€æ‰§è¡Œçš„è¿‡ç¨‹ï¼Œå®ƒä¹Ÿæœ‰ä¸€ä¸ªä»äº§ç”Ÿåˆ°æ­»äº¡çš„è¿‡ç¨‹ã€‚ ä¸‹å›¾æ˜¾ç¤ºäº†ä¸€ä¸ªçº¿ç¨‹å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸã€‚ æ–°å»ºçŠ¶æ€ï¼š ä½¿ç”¨ new å…³é”®å­—å’Œ Thread ç±»æˆ–å…¶å­ç±»å»ºç«‹ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡åï¼Œè¯¥çº¿ç¨‹å¯¹è±¡å°±å¤„äºæ–°å»ºçŠ¶æ€ã€‚å®ƒä¿æŒè¿™ä¸ªçŠ¶æ€ç›´åˆ°ç¨‹åº start() è¿™ä¸ªçº¿ç¨‹ã€‚ å°±ç»ªçŠ¶æ€ï¼š å½“çº¿ç¨‹å¯¹è±¡è°ƒç”¨äº†start()æ–¹æ³•ä¹‹åï¼Œè¯¥çº¿ç¨‹å°±è¿›å…¥å°±ç»ªçŠ¶æ€ã€‚å°±ç»ªçŠ¶æ€çš„çº¿ç¨‹å¤„äºå°±ç»ªé˜Ÿåˆ—ä¸­ï¼Œè¦ç­‰å¾…JVMé‡Œçº¿ç¨‹è°ƒåº¦å™¨çš„è°ƒåº¦ã€‚ è¿è¡ŒçŠ¶æ€ï¼š å¦‚æœå°±ç»ªçŠ¶æ€çš„çº¿ç¨‹è·å– CPU èµ„æºï¼Œå°±å¯ä»¥æ‰§è¡Œ run()ï¼Œæ­¤æ—¶çº¿ç¨‹ä¾¿å¤„äºè¿è¡ŒçŠ¶æ€ã€‚å¤„äºè¿è¡ŒçŠ¶æ€çš„çº¿ç¨‹æœ€ä¸ºå¤æ‚ï¼Œå®ƒå¯ä»¥å˜ä¸ºé˜»å¡çŠ¶æ€ã€å°±ç»ªçŠ¶æ€å’Œæ­»äº¡çŠ¶æ€ã€‚ é˜»å¡çŠ¶æ€ï¼š å¦‚æœä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œäº†sleepï¼ˆç¡çœ ï¼‰ã€suspendï¼ˆæŒ‚èµ·ï¼‰ç­‰æ–¹æ³•ï¼Œå¤±å»æ‰€å ç”¨èµ„æºä¹‹åï¼Œè¯¥çº¿ç¨‹å°±ä»è¿è¡ŒçŠ¶æ€è¿›å…¥é˜»å¡çŠ¶æ€ã€‚åœ¨ç¡çœ æ—¶é—´å·²åˆ°æˆ–è·å¾—è®¾å¤‡èµ„æºåå¯ä»¥é‡æ–°è¿›å…¥å°±ç»ªçŠ¶æ€ã€‚å¯ä»¥åˆ†ä¸ºä¸‰ç§ï¼š ç­‰å¾…é˜»å¡ï¼šè¿è¡ŒçŠ¶æ€ä¸­çš„çº¿ç¨‹æ‰§è¡Œ wait() æ–¹æ³•ï¼Œä½¿çº¿ç¨‹è¿›å…¥åˆ°ç­‰å¾…é˜»å¡çŠ¶æ€ã€‚ åŒæ­¥é˜»å¡ï¼šçº¿ç¨‹åœ¨è·å– synchronized åŒæ­¥é”å¤±è´¥(å› ä¸ºåŒæ­¥é”è¢«å…¶ä»–çº¿ç¨‹å ç”¨)ã€‚ å…¶ä»–é˜»å¡ï¼šé€šè¿‡è°ƒç”¨çº¿ç¨‹çš„ sleep() æˆ– join() å‘å‡ºäº† I/O è¯·æ±‚æ—¶ï¼Œçº¿ç¨‹å°±ä¼šè¿›å…¥åˆ°é˜»å¡çŠ¶æ€ã€‚å½“sleep() çŠ¶æ€è¶…æ—¶ï¼Œjoin() ç­‰å¾…çº¿ç¨‹ç»ˆæ­¢æˆ–è¶…æ—¶ï¼Œæˆ–è€… I/O å¤„ç†å®Œæ¯•ï¼Œçº¿ç¨‹é‡æ–°è½¬å…¥å°±ç»ªçŠ¶æ€ã€‚ æ­»äº¡çŠ¶æ€ï¼š ä¸€ä¸ªè¿è¡ŒçŠ¶æ€çš„çº¿ç¨‹å®Œæˆä»»åŠ¡æˆ–è€…å…¶ä»–ç»ˆæ­¢æ¡ä»¶å‘ç”Ÿæ—¶ï¼Œè¯¥çº¿ç¨‹å°±åˆ‡æ¢åˆ°ç»ˆæ­¢çŠ¶æ€ã€‚ çº¿ç¨‹çš„ä¼˜å…ˆçº§ æ¯ä¸€ä¸ª Java çº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªä¼˜å…ˆçº§ï¼Œè¿™æ ·æœ‰åŠ©äºæ“ä½œç³»ç»Ÿç¡®å®šçº¿ç¨‹çš„è°ƒåº¦é¡ºåºã€‚ Java çº¿ç¨‹çš„ä¼˜å…ˆçº§æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œå…¶å–å€¼èŒƒå›´æ˜¯ 1 ï¼ˆThread.MIN_PRIORITY ï¼‰ - 10 ï¼ˆThread.MAX_PRIORITY ï¼‰ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸€ä¸ªçº¿ç¨‹éƒ½ä¼šåˆ†é…ä¸€ä¸ªä¼˜å…ˆçº§ NORM_PRIORITYï¼ˆ5ï¼‰ã€‚ å…·æœ‰è¾ƒé«˜ä¼˜å…ˆçº§çš„çº¿ç¨‹å¯¹ç¨‹åºæ›´é‡è¦ï¼Œå¹¶ä¸”åº”è¯¥åœ¨ä½ä¼˜å…ˆçº§çš„çº¿ç¨‹ä¹‹å‰åˆ†é…å¤„ç†å™¨èµ„æºã€‚ä½†æ˜¯ï¼Œçº¿ç¨‹ä¼˜å…ˆçº§ä¸èƒ½ä¿è¯çº¿ç¨‹æ‰§è¡Œçš„é¡ºåºï¼Œè€Œä¸”éå¸¸ä¾èµ–äºå¹³å°ã€‚ Thread æ–¹æ³• åºå· æ–¹æ³•æè¿° 1 **public void start()**ä½¿è¯¥çº¿ç¨‹å¼€å§‹æ‰§è¡Œï¼›==Java== è™šæ‹Ÿæœºè°ƒç”¨è¯¥çº¿ç¨‹çš„ run æ–¹æ³•ã€‚ 2 **public void run()**å¦‚æœè¯¥çº¿ç¨‹æ˜¯ä½¿ç”¨ç‹¬ç«‹çš„ Runnable è¿è¡Œå¯¹è±¡æ„é€ çš„ï¼Œåˆ™è°ƒç”¨è¯¥ Runnable å¯¹è±¡çš„ run æ–¹æ³•ï¼›å¦åˆ™ï¼Œè¯¥æ–¹æ³•ä¸æ‰§è¡Œä»»ä½•æ“ä½œå¹¶è¿”å›ã€‚ 3 **public final void setName(String name)**æ”¹å˜çº¿ç¨‹åç§°ï¼Œä½¿ä¹‹ä¸å‚æ•° name ç›¸åŒã€‚ 4 **public final void setPriority(int priority)** æ›´æ”¹çº¿ç¨‹çš„ä¼˜å…ˆçº§ã€‚ 5 **public final void setDaemon(boolean on)**å°†è¯¥çº¿ç¨‹æ ‡è®°ä¸ºå®ˆæŠ¤çº¿ç¨‹æˆ–ç”¨æˆ·çº¿ç¨‹ã€‚ 6 **public final void join(long millisec)**ç­‰å¾…è¯¥çº¿ç¨‹ç»ˆæ­¢çš„æ—¶é—´æœ€é•¿ä¸º millis æ¯«ç§’ã€‚ 7 **public void interrupt()**ä¸­æ–­çº¿ç¨‹ã€‚ 8 **public final boolean isAlive()**æµ‹è¯•çº¿ç¨‹æ˜¯å¦å¤„äºæ´»åŠ¨çŠ¶æ€ã€‚ æµ‹è¯•çº¿ç¨‹æ˜¯å¦å¤„äºæ´»åŠ¨çŠ¶æ€ã€‚ ä¸Šè¿°æ–¹æ³•æ˜¯è¢«Threadå¯¹è±¡è°ƒç”¨çš„ã€‚ä¸‹é¢çš„æ–¹æ³•æ˜¯Threadç±»çš„é™æ€æ–¹æ³•ã€‚ åºå· æ–¹æ³•æè¿° 1 **public static void yield()**æš‚åœå½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹å¯¹è±¡ï¼Œå¹¶æ‰§è¡Œå…¶ä»–çº¿ç¨‹ã€‚ 2 **public static void sleep(long millisec)**åœ¨æŒ‡å®šçš„æ¯«ç§’æ•°å†…è®©å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹ä¼‘çœ ï¼ˆæš‚åœæ‰§è¡Œï¼‰ï¼Œæ­¤æ“ä½œå—åˆ°ç³»ç»Ÿè®¡æ—¶å™¨å’Œè°ƒåº¦ç¨‹åºç²¾åº¦å’Œå‡†ç¡®æ€§çš„å½±å“ã€‚ 3 **public static boolean holdsLock(Object x)**å½“ä¸”ä»…å½“å½“å‰çº¿ç¨‹åœ¨æŒ‡å®šçš„å¯¹è±¡ä¸Šä¿æŒç›‘è§†å™¨é”æ—¶ï¼Œæ‰è¿”å› trueã€‚ 4 **public static Thread currentThread()**è¿”å›å¯¹å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹å¯¹è±¡çš„å¼•ç”¨ã€‚ 5 **public static void dumpStack()**å°†å½“å‰çº¿ç¨‹çš„å †æ ˆè·Ÿè¸ªæ‰“å°è‡³æ ‡å‡†é”™è¯¯æµã€‚ åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ Java æä¾›äº†ä¸‰ç§åˆ›å»ºçº¿ç¨‹çš„æ–¹æ³•ï¼š é€šè¿‡å®ç° Runnable æ¥å£ï¼› é€šè¿‡ç»§æ‰¿ Thread ç±»æœ¬èº«ï¼› é€šè¿‡ Callable å’Œ Future åˆ›å»ºçº¿ç¨‹ã€‚ é€šè¿‡å®ç°Runnable æ¥å£æ¥åˆ›å»ºçº¿ç¨‹ åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯åˆ›å»ºä¸€ä¸ªå®ç° Runnable æ¥å£çš„ç±»ã€‚ ä¸ºäº†å®ç° Runnableï¼Œä¸€ä¸ªç±»åªéœ€è¦æ‰§è¡Œä¸€ä¸ªæ–¹æ³•è°ƒç”¨ run()ï¼Œå£°æ˜å¦‚ä¸‹ï¼š public void run() ä½ å¯ä»¥é‡å†™è¯¥æ–¹æ³•ï¼Œé‡è¦çš„æ˜¯ç†è§£çš„ run() å¯ä»¥è°ƒç”¨å…¶ä»–æ–¹æ³•ï¼Œä½¿ç”¨å…¶ä»–ç±»ï¼Œå¹¶å£°æ˜å˜é‡ï¼Œå°±åƒä¸»çº¿ç¨‹ä¸€æ ·ã€‚ åœ¨åˆ›å»ºä¸€ä¸ªå®ç° Runnable æ¥å£çš„ç±»ä¹‹åï¼Œä½ å¯ä»¥åœ¨ç±»ä¸­å®ä¾‹åŒ–ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡ã€‚ Thread å®šä¹‰äº†å‡ ä¸ªæ„é€ æ–¹æ³•ï¼Œä¸‹é¢çš„è¿™ä¸ªæ˜¯æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„ï¼š Thread(Runnable threadOb,String threadName); è¿™é‡Œï¼ŒthreadOb æ˜¯ä¸€ä¸ªå®ç° Runnable æ¥å£çš„ç±»çš„å®ä¾‹ï¼Œå¹¶ä¸” threadName æŒ‡å®šæ–°çº¿ç¨‹çš„åå­—ã€‚ æ–°çº¿ç¨‹åˆ›å»ºä¹‹åï¼Œä½ è°ƒç”¨å®ƒçš„ start() æ–¹æ³•å®ƒæ‰ä¼šè¿è¡Œã€‚ void start(); ä¸‹é¢æ˜¯ä¸€ä¸ªåˆ›å»ºçº¿ç¨‹å¹¶å¼€å§‹è®©å®ƒæ‰§è¡Œçš„å®ä¾‹ï¼š class RunnableDemo implements Runnable { private Thread t; private String threadName; RunnableDemo( String name) { threadName = name; System.out.println(\"Creating \" + threadName ); } public void run() { System.out.println(\"Running \" + threadName ); try { for(int i = 4; i \u003e 0; i--) { System.out.println(\"Thread: \" + threadName + \", \" + i); // è®©çº¿ç¨‹ç¡çœ ä¸€ä¼š Thread.sleep(50); } }catch (InterruptedException e) { System.out.println(\"Thread \" + threadName + \" interrupted.\"); } System.out.println(\"Thread \" + threadName + \" exiting.\"); } public void start () { System.out.println(\"Starting \" + threadName ); if (t == null) { t = new Thread (this, threadName); t.start (); } } } public class TestThread { public static void main(String args[]) { RunnableDemo R1 = new RunnableDemo( \"Thread-1\"); R1.start(); RunnableDemo R2 = new RunnableDemo( \"Thread-2\"); R2.start(); } } é€šè¿‡ç»§æ‰¿Threadæ¥åˆ›å»ºçº¿ç¨‹ åˆ›å»ºä¸€ä¸ªçº¿ç¨‹çš„ç¬¬äºŒç§æ–¹æ³•æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»ï¼Œè¯¥ç±»ç»§æ‰¿ Thread ç±»ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªè¯¥ç±»çš„å®ä¾‹ã€‚ ç»§æ‰¿ç±»å¿…é¡»é‡å†™ run() æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ˜¯æ–°çº¿ç¨‹çš„å…¥å£ç‚¹ã€‚å®ƒä¹Ÿå¿…é¡»è°ƒç”¨ start() æ–¹æ³•æ‰èƒ½æ‰§è¡Œã€‚ è¯¥æ–¹æ³•å°½ç®¡è¢«åˆ—ä¸ºä¸€ç§å¤šçº¿ç¨‹å®ç°æ–¹å¼ï¼Œä½†æ˜¯æœ¬è´¨ä¸Šä¹Ÿæ˜¯å®ç°äº† Runnable æ¥å£çš„ä¸€ä¸ªå®ä¾‹ã€‚ class ThreadDemo extends Thread { private Thread t; private String threadName; ThreadDemo( String name) { threadName = name; System.out.println(\"Creating \" + threadName ); } public void run() { System.out.println(\"Running \" + threadName ); try { for(int i = 4; i \u003e 0; i--) { System.out.println(\"Thread: \" + threadName + \", \" + i); // è®©çº¿ç¨‹ç¡çœ ä¸€ä¼š Thread.sleep(50); } }catch (InterruptedException e) { System.out.println(\"Thread \" + threadName + ","date":"2020-10-12","objectID":"/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/:0:2","tags":["Java"],"title":"Javaå­¦ä¹ ç¬”è®°","uri":"/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"ä¸€ã€å†™å‰å‡†å¤‡ åœ¨atomæ–‡æœ¬ç¼–è¯‘å™¨ä¸­è‡ªå¸¦ç€markdownçš„ç¼–å†™ä¸æµè§ˆåŠŸèƒ½ã€‚ æµè§ˆä½¿ç”¨å¿«æ·é”®ctl+shift+må°±å¯ä»¥æ‰“å¼€markdowné¢„è§ˆã€‚ ç®€ä¹¦ä¸­åœ¨è®¾ç½®-\u003eé»˜è®¤ç¼–è¾‘å™¨-\u003emarkdownç¼–è¯‘ï¼Œå°±å¯ä»¥è®¾ç½®markdownã€‚ ","date":"2020-10-12","objectID":"/markdown%E7%AC%94%E8%AE%B0/:1:0","tags":["Markdown"],"title":"Markdownç¬”è®°","uri":"/markdown%E7%AC%94%E8%AE%B0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"äºŒã€æ ‡é¢˜ åœ¨æƒ³è¦è®¾ç½®ä¸ºæ ‡é¢˜çš„æ–‡å­—å‰é¢åŠ #æ¥è¡¨ç¤ºæ ‡é¢˜ ä¸€ä¸ª#å·æ˜¯ä»¥åŠæ ‡é¢˜ï¼Œä¸¤ä¸ª#æ˜¯äºŒçº§æ ‡é¢˜ï¼Œæœ€å¤šæœ‰å…­çº§æ ‡é¢˜ æ ‡å‡†è¯­æ³•éœ€è¦åœ¨#ååŠ ç©ºæ ¼æ‰èƒ½è¡¨ç¤º ","date":"2020-10-12","objectID":"/markdown%E7%AC%94%E8%AE%B0/:2:0","tags":["Markdown"],"title":"Markdownç¬”è®°","uri":"/markdown%E7%AC%94%E8%AE%B0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"ä¸‰ã€å­—ä½“ åŠ ç²— åœ¨è¦åŠ ç²—çš„æ–‡å­—å·¦å³åˆ†åˆ«ç”¨ä¸¤ä¸ª*æ ‡æ³¨ æ–œä½“ åœ¨è¦å€¾æ–œçš„æ–‡å­—å·¦å³åˆ†åˆ«ç”¨ä¸€ä¸ª*æ ‡æ³¨ æ–œä½“åŠ ç²— åœ¨è¦å€¾æ–œå’ŒåŠ ç²—çš„æ–‡å­—å·¦å³åˆ†åˆ«ç”¨ä¸‰ä¸ª*æ ‡æ³¨ åˆ é™¤çº¿ åœ¨è¦åŠ åˆ é™¤çº¿çš„æ–‡å­—å·¦å³åˆ†åˆ«ç”¨ä¸¤ä¸ªï½æ ‡æ³¨ ä¾‹å¦‚ï¼š **åŠ ç²—å­—ä½“** *æ–œä½“å­—ä½“* ***æ–œä½“åŠ ç²—å­—ä½“*** ~~åˆ é™¤å­—ä½“~~ æ•ˆæœï¼š åŠ ç²—å­—ä½“ï¼Œæ–œä½“å­—ä½“ï¼Œæ–œä½“åŠ ç²—å­—ä½“ï¼Œåˆ é™¤å­—ä½“ ","date":"2020-10-12","objectID":"/markdown%E7%AC%94%E8%AE%B0/:3:0","tags":["Markdown"],"title":"Markdownç¬”è®°","uri":"/markdown%E7%AC%94%E8%AE%B0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"å››ã€å¼•ç”¨ åœ¨å¼•ç”¨æ–‡å­—å‰åŠ \u003eã€‚å¼•ç”¨å¯ä»¥åµŒå¥—ï¼Œå¦‚ä¸€ä¸ª\u003eã€ä¸¤ä¸ª\u003eç­‰ç­‰ ","date":"2020-10-12","objectID":"/markdown%E7%AC%94%E8%AE%B0/:4:0","tags":["Markdown"],"title":"Markdownç¬”è®°","uri":"/markdown%E7%AC%94%E8%AE%B0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"äº”ã€\u0008åˆ†å‰²çº¿ ä¸‰ä¸ªæˆ–ä¸‰ä¸ªä»¥ä¸Šçš„-æˆ–è€…*\u0008\u0008 ä¾‹ï¼š --- *** \u0008æ•ˆæœ: ","date":"2020-10-12","objectID":"/markdown%E7%AC%94%E8%AE%B0/:5:0","tags":["Markdown"],"title":"Markdownç¬”è®°","uri":"/markdown%E7%AC%94%E8%AE%B0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"å…­ã€\u0008å›¾ç‰‡ ä½¿ç”¨æ–¹æ³•ï¼š ![å›¾ç‰‡alt](å›¾ç‰‡åœ°å€ ''å›¾ç‰‡title'') å›¾ç‰‡altå°±æ˜¯æ˜¾ç¤ºåœ¨å›¾ç‰‡ä¸‹é¢çš„æ–‡å­—ï¼Œç›¸å½“äºå¯¹å›¾ç‰‡å†…å®¹çš„è§£é‡Šã€‚ å›¾ç‰‡titleæ˜¯å›¾ç‰‡çš„æ ‡é¢˜ï¼Œå½“é¼ æ ‡ç§»åˆ°å›¾ç‰‡ä¸Šæ—¶æ˜¾ç¤ºçš„å†…å®¹ã€‚titleå¯åŠ å¯ä¸åŠ  ","date":"2020-10-12","objectID":"/markdown%E7%AC%94%E8%AE%B0/:6:0","tags":["Markdown"],"title":"Markdownç¬”è®°","uri":"/markdown%E7%AC%94%E8%AE%B0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"ä¸ƒã€è¶…é“¾æ¥ ä½¿ç”¨æ–¹æ³•ï¼š [è¶…é“¾æ¥å](è¶…é“¾æ¥åœ°å€ \"è¶…é“¾æ¥title\") titleå¯åŠ å¯ä¸åŠ  æ³¨ï¼šMarkdownæœ¬èº«è¯­æ³•ä¸æ”¯æŒé“¾æ¥åœ¨æ–°é¡µé¢ä¸­æ‰“å¼€ï¼Œè²Œä¼¼ç®€ä¹¦åšäº†å¤„ç†ï¼Œæ˜¯å¯ä»¥çš„ã€‚åˆ«çš„å¹³å°å¯èƒ½å°±ä¸è¡Œäº†ï¼Œå¦‚æœæƒ³è¦åœ¨æ–°é¡µé¢ä¸­æ‰“å¼€çš„è¯å¯ä»¥ç”¨htmlè¯­è¨€çš„aæ ‡ç­¾ä»£æ›¿ã€‚ \u003ca href=\"è¶…é“¾æ¥åœ°å€\" target=\"_blank\"\u003eè¶…é“¾æ¥å\u003c/a\u003e ç¤ºä¾‹ \u003ca href=\"https://www.jianshu.com/u/1f5ac0cf6a8b\" target=\"_blank\"\u003eç®€ä¹¦\u003c/a\u003e ","date":"2020-10-12","objectID":"/markdown%E7%AC%94%E8%AE%B0/:7:0","tags":["Markdown"],"title":"Markdownç¬”è®°","uri":"/markdown%E7%AC%94%E8%AE%B0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"å…«ã€åˆ—è¡¨ æ— åºåˆ—è¡¨ ä½¿ç”¨æ–¹æ³•ï¼šæ— åºåˆ—è¡¨ç”¨ - + * ä»»ä½•ä¸€ç§éƒ½å¯ä»¥ - åˆ—è¡¨å†…å®¹ + åˆ—è¡¨å†…å®¹ * åˆ—è¡¨å†…å®¹ æ³¨æ„ï¼š- + * è·Ÿå†…å®¹ä¹‹é—´éƒ½è¦æœ‰ä¸€ä¸ªç©ºæ ¼ æœ‰åºåˆ—è¡¨ ä½¿ç”¨æ–¹æ³•ï¼šæ•°å­—åŠ ç‚¹ 1.åˆ—è¡¨å†…å®¹ 2.åˆ—è¡¨å†…å®¹ 3.åˆ—è¡¨å†…å®¹ æ³¨æ„ï¼šåºå·è·Ÿå†…å®¹ä¹‹é—´è¦æœ‰ç©ºæ ¼ åˆ—è¡¨åµŒå¥— ä½¿ç”¨æ–¹æ³•ï¼šä¸Šä¸€çº§å’Œä¸‹ä¸€çº§ä¹‹é—´æ•²ä¸‰ä¸ªç©ºæ ¼ ","date":"2020-10-12","objectID":"/markdown%E7%AC%94%E8%AE%B0/:8:0","tags":["Markdown"],"title":"Markdownç¬”è®°","uri":"/markdown%E7%AC%94%E8%AE%B0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"ä¹ã€è¡¨æ ¼ ä½¿ç”¨æ–¹æ³•ï¼š |è¡¨å¤´|è¡¨å¤´|è¡¨å¤´| |-|:-:|-:| |å†…å®¹|å†…å®¹|å†…å®¹| |å†…å®¹|å†…å®¹|å†…å®¹| ç¬¬äºŒè¡Œåˆ†å‰²è¡¨å¤´å’Œå†…å®¹ã€‚ -æœ‰ä¸€ä¸ªå°±è¡Œ æ–‡å­—é»˜è®¤å±…å·¦ -ä¸¤è¾¹åŠ ï¼šè¡¨ç¤ºæ–‡å­—å±…ä¸­ -å³è¾¹åŠ ï¼šè¡¨ç¤ºæ–‡å­—å±…å³ æ³¨ï¼šåŸç”Ÿçš„è¯­æ³•ä¸¤è¾¹éƒ½è¦ç”¨ | åŒ…èµ·æ¥ã€‚æ­¤å¤„çœç•¥ æ•ˆæœï¼š è¡¨å¤´ è¡¨å¤´ è¡¨å¤´ å†…å®¹ å†…å®¹ å†…å®¹ å†…å®¹ å†…å®¹ å†…å®¹ ","date":"2020-10-12","objectID":"/markdown%E7%AC%94%E8%AE%B0/:9:0","tags":["Markdown"],"title":"Markdownç¬”è®°","uri":"/markdown%E7%AC%94%E8%AE%B0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"åã€ä»£ç  ä½¿ç”¨æ–¹æ³•ï¼š å•è¡Œä»£ç ï¼šä»£ç ä¹‹é—´åˆ†åˆ«ç”¨ä¸€ä¸ªåå¼•å·åŒ…èµ·æ¥ ä»£ç å—ï¼šä»£ç ä¹‹é—´åˆ†åˆ«ç”¨ä¸‰ä¸ªåå¼•å·åŒ…èµ·æ¥ï¼Œä¸”ä¸¤è¾¹çš„åå¼•å·å•ç‹¬å ä¸€è¡Œ ä»£ç \u0008é«˜äº®ï¼šåœ¨ç¬¬ä¸€è¡Œåå¼•å·åé¢è¾“å…¥ä»£ç å—æ‰€ä½¿ç”¨çš„è¯­è¨€ ä»£ç é«˜äº®æ¼”ç¤ºï¼š `c #include \"stdio.h\" int main(){ printf(\"hello world\\n\"); return 0; } ` #include \"stdio.h\" int main(){ printf(\"hello world\\n\"); return 0; } ","date":"2020-10-12","objectID":"/markdown%E7%AC%94%E8%AE%B0/:10:0","tags":["Markdown"],"title":"Markdownç¬”è®°","uri":"/markdown%E7%AC%94%E8%AE%B0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"åä¸€ã€æµç¨‹å›¾ ä½¿ç”¨æ–¹æ³•ï¼š st=\u003estart: å¼€å§‹ op=\u003eoperation: My Operation cond=\u003econdition: Yes or No? e=\u003eend st-\u003eop-\u003econd cond(yes)-\u003ee cond(no)-\u003eop ","date":"2020-10-12","objectID":"/markdown%E7%AC%94%E8%AE%B0/:11:0","tags":["Markdown"],"title":"Markdownç¬”è®°","uri":"/markdown%E7%AC%94%E8%AE%B0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"åäºŒã€æ•°å­¦è¡¨è¾¾å¼ ç”¨åå¼•å·å°†æ•°å­¦è¡¨è¾¾å¼å°è£…,å¹¶åœ¨ç¬¬ä¸‰ä¸ªå·åæ ‡æ³¨mathä»£è¡¨æ•°å­¦å…¬å¼. E = mc^2 ","date":"2020-10-12","objectID":"/markdown%E7%AC%94%E8%AE%B0/:12:0","tags":["Markdown"],"title":"Markdownç¬”è®°","uri":"/markdown%E7%AC%94%E8%AE%B0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"åä¸‰ã€å¾…åŠäº‹é¡¹ åœ¨å¾…åŠçš„äº‹é¡¹æ–‡æœ¬æˆ–è€…æ¸…å•æ–‡æœ¬å‰åŠ ä¸Š- ã€- [x]å³å¯ - [ ] è¡¨ç¤ºæœªå®Œæˆï¼Œ- [x] è¡¨ç¤ºå·²å®Œæˆã€‚ æ³¨ï¼šé”®å…¥å­—ç¬¦ä¸å­—ç¬¦ä¹‹é—´éƒ½è¦ä¿ç•™ä¸€ä¸ªå­—ç¬¦çš„ç©ºæ ¼ã€‚ \u0008æ•ˆæœ åˆ†æéœ€æ±‚ ç ”å‘ æµ‹è¯• ","date":"2020-10-12","objectID":"/markdown%E7%AC%94%E8%AE%B0/:13:0","tags":["Markdown"],"title":"Markdownç¬”è®°","uri":"/markdown%E7%AC%94%E8%AE%B0/"},{"categories":["å­¦ä¹ ç¬”è®°"],"content":"ç»“è¯­ Markdownæ¢è¡Œæ–¹æ³•ï¼š åœ¨æœ¬è¡Œæœ€å\u0008æ•²ä¸¤ä¸ªç©ºæ ¼å³å¯ æ¯è¡Œé—´ç©ºä¸€è¡Œå³å¯ Macä¸Šåå¼•å·æ–¹æ³•ï¼š åœ¨è‹±æ–‡çŠ¶æ€ä¸‹æŒ‰ä½optioné”®+æ•°å­—\u00081å·¦è¾¹çš„é”® æœ¬æ–‡ç« ä¸ºä¸ªäººå­¦ä¹ ç¬”è®°ï¼Œè½¬è½½äº†å¤šäººçš„åšå®¢ï¼Œå¦‚æœ‰é›·åŒè¯·è§è°…ã€‚ ","date":"2020-10-12","objectID":"/markdown%E7%AC%94%E8%AE%B0/:14:0","tags":["Markdown"],"title":"Markdownç¬”è®°","uri":"/markdown%E7%AC%94%E8%AE%B0/"}]